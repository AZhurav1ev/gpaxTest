!function (e) { var t = {}; function i(r) { if (t[r]) return t[r].exports; var o = t[r] = { i: r, l: !1, exports: {} }; return e[r].call(o.exports, o, o.exports, i), o.l = !0, o.exports } i.m = e, i.c = t, i.d = function (e, t, r) { i.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: r }) }, i.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, i.t = function (e, t) { if (1 & t && (e = i(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var r = Object.create(null); if (i.r(r), Object.defineProperty(r, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var o in e) i.d(r, o, function (t) { return e[t] }.bind(null, o)); return r }, i.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return i.d(t, "a", t), t }, i.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, i.p = "/codebase/", i(i.s = 48) }([function (e, t, i) { "use strict"; i.d(t, "d", (function () { return B })), i.d(t, "b", (function () { return x })), i.d(t, "c", (function () { return h })), i.d(t, "a", (function () { return _ })); var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } function n(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } var s = function e() { a(this, e) }, c = function () { function e(t) { a(this, e), this.webixJet = !0, this.webix = t, this._events = [], this._subs = {}, this._data = {} } return e.prototype.getRoot = function () { return this._root }, e.prototype.destructor = function () { this._detachEvents(), this._destroySubs(), this._events = this._container = this.app = this._parent = this._root = null }, e.prototype.setParam = function (e, t, i) { if (this._data[e] !== t && (this._data[e] = t, this._segment.update(e, t, 0), i)) return this.show(null) }, e.prototype.getParam = function (e, t) { var i = this._data[e]; if (void 0 !== i || !t) return i; var r = this.getParentView(); return r ? r.getParam(e, t) : void 0 }, e.prototype.getUrl = function () { return this._segment.suburl() }, e.prototype.getUrlString = function () { return this._segment.toString() }, e.prototype.getParentView = function () { return this._parent }, e.prototype.$$ = function (e) { if ("string" == typeof e) { var t = this.getRoot(); return t.queryView((function (i) { return (i.config.id === e || i.config.localId === e) && i.$scope === t.$scope }), "self") } return e }, e.prototype.on = function (e, t, i) { var r = e.attachEvent(t, i); return this._events.push({ obj: e, id: r }), r }, e.prototype.contains = function (e) { for (var t in this._subs) { var i = this._subs[t].view; if (i === e || i.contains(e)) return !0 } return !1 }, e.prototype.getSubView = function (e) { var t = this.getSubViewInfo(e); if (t) return t.subview.view }, e.prototype.getSubViewInfo = function (e) { var t = this._subs[e || "default"]; return t ? { subview: t, parent: this } : "_top" === e ? (this._subs[e] = { url: "", id: null, popup: !0 }, this.getSubViewInfo(e)) : this._parent ? this._parent.getSubViewInfo(e) : null }, e.prototype._detachEvents = function () { for (var e = this._events, t = e.length - 1; t >= 0; t--)e[t].obj.detachEvent(e[t].id) }, e.prototype._destroySubs = function () { for (var e in this._subs) { var t = this._subs[e].view; t && t.destructor() } this._subs = {} }, e.prototype._init_url_data = function () { var e = this._segment.current(); this._data = {}, this.webix.extend(this._data, e.params, !0) }, e.prototype._getDefaultSub = function () { if (this._subs.default) return this._subs.default; for (var e in this._subs) { var t = this._subs[e]; if (!t.branch && t.view && "_top" !== e) { var i = t.view._getDefaultSub(); if (i) return i } } }, e.prototype._routed_view = function () { var e = this.getParentView(); if (!e) return !0; var t = e._getDefaultSub(); return !(!t && t !== this) && e._routed_view() }, e }(); function l(e) { "/" === e[0] && (e = e.substr(1)); for (var t = e.split("/"), i = [], r = 0; r < t.length; r++) { var o = t[r], n = {}, a = o.indexOf(":"); if (-1 === a && (a = o.indexOf("?")), -1 !== a) { var s = o.substr(a + 1).split(/[\:\?\&]/g), c = Array.isArray(s), l = 0; for (s = c ? s : s[Symbol.iterator](); ;) { var u; if (c) { if (l >= s.length) break; u = s[l++] } else { if ((l = s.next()).done) break; u = l.value } var d = u.split("="); n[d[0]] = decodeURIComponent(d[1]) } } i[r] = { page: a > -1 ? o.substr(0, a) : o, params: n, isNew: !0 } } return i } function u(e) { var t = [], i = e, r = Array.isArray(i), o = 0; for (i = r ? i : i[Symbol.iterator](); ;) { var n; if (r) { if (o >= i.length) break; n = i[o++] } else { if ((o = i.next()).done) break; n = o.value } var a = n; t.push("/" + a.page); var s = d(a.params); s && t.push("?" + s) } return t.join("") } function d(e) { var t = []; for (var i in e) t.length && t.push("&"), t.push(i + "=" + encodeURIComponent(e[i])); return t.join("") } var p = function () { function e(t, i) { a(this, e), this._next = 1, this.route = "string" == typeof t ? { url: l(t), path: t } : t, this.index = i } return e.prototype.current = function () { return this.route.url[this.index] }, e.prototype.next = function () { return this.route.url[this.index + this._next] }, e.prototype.suburl = function () { return this.route.url.slice(this.index) }, e.prototype.shift = function () { return new e(this.route, this.index + this._next) }, e.prototype.refresh = function () { for (var e = this.route.url, t = this.index + 1; t < e.length; t++)e[t].isNew = !0 }, e.prototype.toString = function () { var e = u(this.suburl()); return e ? e.substr(1) : "" }, e.prototype._join = function (e, t) { var i = this.route.url; if (null === e) return i; var r = this.route.url; if (i = r.slice(0, this.index + (t ? this._next : 0)), e) { i = i.concat(l(e)); for (var o = 0; o < i.length; o++)r[o] && (i[o].view = r[o].view), r[o] && i[o].page === r[o].page && (i[o].isNew = !1) } return i }, e.prototype.append = function (e) { var t = this._join(e, !0); return this.route.path = u(t), this.route.url = t, this.route.path }, e.prototype.show = function (e, t, i) { var r = this, o = this._join(e, i); return new Promise((function (e, i) { var n = u(o), a = { url: o, redirect: n, confirm: Promise.resolve() }, c = t ? t.app : null; if (c && !c.callEvent("app:guard", [a.redirect, t, a])) return void i(new s); a.confirm.catch((function (e) { return i(e) })).then((function () { if (null !== a.redirect) { if (a.redirect !== n) return c.show(a.redirect), void i(new s); r.route.path = n, r.route.url = o, e() } else i(new s) })) })) }, e.prototype.size = function (e) { this._next = e }, e.prototype.split = function () { var t = { url: this.route.url.slice(this.index + 1), path: "" }; return t.url.length && (t.path = u(t.url)), new e(t, 0) }, e.prototype.update = function (e, t, i) { var r = this.route.url[this.index + (i || 0)]; if (!r) return this.route.url.push({ page: "", params: {} }), this.update(e, t, i); "" === e ? r.page = t : r.params[e] = t, this.route.path = u(this.route.url) }, e }(), h = function (e) { function t(i, r) { a(this, t); var n = o(this, e.call(this, i.webix)); return n.app = i, n._children = [], n } return n(t, e), t.prototype.ui = function (e, t) { var i = (t = t || {}).container || e.container, o = this.app.createView(e); return this._children.push(o), o.render(i, this._segment, this), "object" !== (void 0 === e ? "undefined" : r(e)) || e instanceof c ? o : o.getRoot() }, t.prototype.show = function (e, t) { if (t = t || {}, "object" === (void 0 === e ? "undefined" : r(e))) { for (var i in e) this.setParam(i, e[i]); e = null } else { if ("/" === e.substr(0, 1)) return this.app.show(e); if (0 === e.indexOf("./") && (e = e.substr(2)), 0 === e.indexOf("../")) { var o = this.getParentView(); return o ? o.show(e.substr(3), t) : this.app.show("/" + e.substr(3)) } var n = this.getSubViewInfo(t.target); if (n) { if (n.parent !== this) return n.parent.show(e, t); if (t.target && "default" !== t.target) return this._renderFrameLock(t.target, n.subview, e) } else if (e) return this.app.show("/" + e) } return this._show(this._segment, e, this) }, t.prototype._show = function (e, t, i) { var r = this; return e.show(t, i, !0).then((function () { return r._init_url_data(), r._urlChange() })).then((function () { e.route.linkRouter && (r.app.getRouter().set(e.route.path, { silent: !0 }), r.app.callEvent("app:route", [e.route.path])) })) }, t.prototype.init = function (e, t) { }, t.prototype.ready = function (e, t) { }, t.prototype.config = function () { this.app.webix.message("View:Config is not implemented") }, t.prototype.urlChange = function (e, t) { }, t.prototype.destroy = function () { }, t.prototype.destructor = function () { this.destroy(), this._destroyKids(), this._root.destructor(), e.prototype.destructor.call(this) }, t.prototype.use = function (e, t) { e(this.app, this, t) }, t.prototype.refresh = function () { this.getUrl(); return this.destroy(), this._destroyKids(), this._destroySubs(), this._detachEvents(), this._container.tagName && this._root.destructor(), this._segment.refresh(), this._render(this._segment) }, t.prototype.render = function (e, t, i) { var r = this; "string" == typeof t && (t = new p(t, 0)), this._segment = t, this._parent = i, this._init_url_data(); var o = "string" == typeof (e = e || document.body) ? this.webix.toNode(e) : e; return this._container !== o ? (this._container = o, this._render(t)) : this._urlChange().then((function () { return r.getRoot() })) }, t.prototype._render = function (e) { var t = this, i = this.config(); return i.then ? i.then((function (i) { return t._render_final(i, e) })) : this._render_final(i, e) }, t.prototype._render_final = function (e, t) { var i = this, r = null, o = null, n = !1; if (this._container.tagName ? o = this._container : (r = this._container).popup ? (o = document.body, n = !0) : o = this.webix.$$(r.id), !this.app || !o) return Promise.reject(null); var a = void 0, s = this._segment.current(), c = { ui: {} }; this.app.copyConfig(e, c.ui, this._subs), this.app.callEvent("app:render", [this, t, c]), c.ui.$scope = this, !r && s.isNew && s.view && s.view.destructor(); try { if (r && !n) { var l = o, u = l.getParentView(); u && "multiview" === u.name && !c.ui.id && (c.ui.id = l.config.id) } this._root = this.app.webix.ui(c.ui, o); var d = this._root; n && d.setPosition && !d.isVisible() && d.show(), r && (r.view && r.view !== this && r.view !== this.app && r.view.destructor(), r.id = this._root.config.id, this.getParentView() || !this.app.app ? r.view = this : r.view = this.app), s.isNew && (s.view = this, s.isNew = !1), a = Promise.resolve(this._init(this._root, t)).then((function () { return i._urlChange().then((function () { return i._initUrl = null, i.ready(i._root, t.suburl()) })) })) } catch (e) { a = Promise.reject(e) } return a.catch((function (e) { return i._initError(i, e) })) }, t.prototype._init = function (e, t) { return this.init(e, t.suburl()) }, t.prototype._urlChange = function () { var e = this; this.app.callEvent("app:urlchange", [this, this._segment]); var t = []; for (var i in this._subs) { var r = this._subs[i], o = this._renderFrameLock(i, r, null); o && t.push(o) } return Promise.all(t).then((function () { return e.urlChange(e._root, e._segment.suburl()) })) }, t.prototype._renderFrameLock = function (e, t, i) { if (!t.lock) { var r = this._renderFrame(e, t, i); r && (t.lock = r.then((function () { return t.lock = null }), (function () { return t.lock = null }))) } return t.lock }, t.prototype._renderFrame = function (e, t, i) { var r = this; if ("default" === e) { if (this._segment.next()) return this._createSubView(t, this._segment.shift()); t.view && t.popup && (t.view.destructor(), t.view = null) } if (null !== i && (t.url = i), t.route) { if (null !== i) return t.route.show(i, t.view).then((function () { return r._createSubView(t, t.route) })); if (t.branch) return } var o = t.view; if (!o && t.url) { if ("string" == typeof t.url) return t.route = new p(t.url, 0), this._createSubView(t, t.route); "function" != typeof t.url || o instanceof t.url || (o = new t.url(this.app, "")), o || (o = t.url) } if (o) return o.render(t, t.route || this._segment, this) }, t.prototype._initError = function (e, t) { return this.app && this.app.error("app:error:initview", [t, e]), !0 }, t.prototype._createSubView = function (e, t) { var i = this; return this.app.createFromURL(t.current()).then((function (r) { return r.render(e, t, i) })) }, t.prototype._destroyKids = function () { for (var e = this._children, t = e.length - 1; t >= 0; t--)e[t] && e[t].destructor && e[t].destructor(); this._children = [] }, t }(c), m = function (e) { function t(i, r) { a(this, t); var n = o(this, e.call(this, i, r)); return n._ui = r.ui, n } return n(t, e), t.prototype.config = function () { return this._ui }, t }(h), f = function () { function e(t, i, r) { a(this, e), this.path = "", this.app = r } return e.prototype.set = function (e, t) { this.path = e; var i = this.app; i.app.getRouter().set(i._segment.append(this.path), { silent: !0 }) }, e.prototype.get = function () { return this.path }, e }(), g = !0, v = function (e) { function t(i) { a(this, t); var r = (i || {}).webix || window.webix, n = o(this, e.call(this, r)); return n.config = n.webix.extend({ name: "App", version: "1.0", start: "/home" }, i, !0), n.app = n.config.app, n.ready = Promise.resolve(), n._services = {}, n.webix.extend(n, n.webix.EventSystem), n } return n(t, e), t.prototype.getUrl = function () { return this._subSegment.suburl() }, t.prototype.getUrlString = function () { return this._subSegment.toString() }, t.prototype.getService = function (e) { var t = this._services[e]; return "function" == typeof t && (t = this._services[e] = t(this)), t }, t.prototype.setService = function (e, t) { this._services[e] = t }, t.prototype.destructor = function () { this.getSubView().destructor(), e.prototype.destructor.call(this) }, t.prototype.copyConfig = function (e, t, i) { if ((e instanceof c || "function" == typeof e && e.prototype instanceof c) && (e = { $subview: e }), void 0 !== e.$subview) return this.addSubView(e, t, i); for (var o in t = t || (e instanceof Array ? [] : {}), e) { var n = e[o]; if ("function" == typeof n && n.prototype instanceof c && (n = { $subview: n }), !n || "object" !== (void 0 === n ? "undefined" : r(n)) || n instanceof this.webix.DataCollection || n instanceof RegExp) t[o] = n; else if (n instanceof Date) t[o] = new Date(n); else { var a = this.copyConfig(n, n instanceof Array ? [] : {}, i); null !== a && (t[o] = a) } } return t }, t.prototype.getRouter = function () { return this.$router }, t.prototype.clickHandler = function (e, t) { if (e && (t = t || e.target || e.srcElement) && t.getAttribute) { var i = t.getAttribute("trigger"); if (i) return this._forView(t, (function (e) { return e.app.trigger(i) })), e.cancelBubble = !0, e.preventDefault(); var r = t.getAttribute("route"); if (r) return this._forView(t, (function (e) { return e.show(r) })), e.cancelBubble = !0, e.preventDefault() } var o = t.parentNode; o && this.clickHandler(e, o) }, t.prototype.getRoot = function () { return this.getSubView().getRoot() }, t.prototype.refresh = function () { var e = this; return this._subSegment ? this.getSubView().refresh().then((function (t) { return e.callEvent("app:route", [e.getUrl()]), t })) : Promise.resolve(null) }, t.prototype.loadView = function (e) { var t = this, i = this.config.views, r = null; if ("" === e) return Promise.resolve(this._loadError("", new Error("Webix Jet: Empty url segment"))); try { i && "string" == typeof (r = "function" == typeof i ? i(e) : i[e]) && (e = r, r = null), r || (r = "_blank" === e ? {} : this._loadViewDynamic(e)) } catch (t) { r = this._loadError(e, t) } return r.then || (r = Promise.resolve(r)), r = r.then((function (e) { return e.__esModule ? e.default : e })).catch((function (i) { return t._loadError(e, i) })) }, t.prototype._forView = function (e, t) { var i = this.webix.$$(e); i && t(i.$scope) }, t.prototype._loadViewDynamic = function (e) { return null }, t.prototype.createFromURL = function (e) { var t = this; return e.isNew || !e.view ? this.loadView(e.page).then((function (e) { return t.createView(e, name) })) : Promise.resolve(e.view) }, t.prototype.createView = function (e, i) { if ("function" == typeof e) { if (e.prototype instanceof t) return new e({ app: this, name: i, router: f }); if (e.prototype instanceof c) return new e(this, { name: i }); e = e(this) } return e instanceof c ? e : new m(this, { name: i, ui: e }) }, t.prototype.show = function (e) { return this.render(this._container, e || this.config.start) }, t.prototype.trigger = function (e) { for (var t = arguments.length, i = Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)i[r - 1] = arguments[r]; this.apply(e, i) }, t.prototype.apply = function (e, t) { this.callEvent(e, t) }, t.prototype.action = function (e) { return this.webix.bind((function () { for (var t = arguments.length, i = Array(t), r = 0; r < t; r++)i[r] = arguments[r]; this.apply(e, i) }), this) }, t.prototype.on = function (e, t) { this.attachEvent(e, t) }, t.prototype.use = function (e, t) { e(this, null, t) }, t.prototype.error = function (e, t) { if (this.callEvent(e, t), this.callEvent("app:error", t), this.config.debug) for (var i = 0; i < t.length; i++)if (console.error(t[i]), t[i] instanceof Error) { var r = t[i].message; 0 === r.indexOf("Module build failed") ? (r = r.replace(/\x1b\[[0-9;]*m/g, ""), document.body.innerHTML = "<pre style='font-size:16px; background-color: #ec6873; color: #000; padding:10px;'>" + r + "</pre>") : (r += "<br><br>Check console for more details", this.webix.message({ type: "error", text: r, expire: -1 })) } }, t.prototype.render = function (e, t, i) { var r = this; this._container = "string" == typeof e ? this.webix.toNode(e) : e || document.body; var o = null; !this.$router ? (g && "tagName" in this._container && (this.webix.event(document.body, "click", (function (e) { return r.clickHandler(e) })), g = !1), "string" == typeof t && (t = new p(t, 0)), this._subSegment = this._first_start(t), this._subSegment.route.linkRouter = !0) : o = "string" == typeof t ? t : this.app ? t.split().route.path || this.config.start : t.toString(); var n = this.getSubView(), a = this._subSegment, s = a.show(o, n).then((function () { return r.createFromURL(a.current()) })).then((function (t) { return t.render(e, a) })).then((function (e) { return r.$router.set(a.route.path, { silent: !0 }), r.callEvent("app:route", [r.getUrl()]), e })); return this.ready = this.ready.then((function () { return s })), s }, t.prototype.getSubView = function () { if (this._subSegment) { var e = this._subSegment.current().view; if (e) return e } return new h(this, {}) }, t.prototype._first_start = function (e) { var t = this; this._segment = e; if (this.$router = new this.config.router((function (e) { return setTimeout((function () { t.show(e).catch((function (e) { if (!(e instanceof s)) throw e })) }), 1) }), this.config, this), this._container === document.body && !1 !== this.config.animation) { var i = this._container; this.webix.html.addCss(i, "webixappstart"), setTimeout((function () { t.webix.html.removeCss(i, "webixappstart"), t.webix.html.addCss(i, "webixapp") }), 10) } if (e) this.app && (e.current().view = this, e.next() ? (e.refresh(), e = e.split()) : e = new p(this.config.start, 0)); else { var r = this.$router.get(); r || (r = this.config.start, this.$router.set(r, { silent: !0 })), e = new p(r, 0) } return e }, t.prototype._loadError = function (e, t) { return this.error("app:error:resolve", [t, e]), { template: " " } }, t.prototype.addSubView = function (e, t, i) { var r = !0 !== e.$subview ? e.$subview : null, o = e.name || (r ? this.webix.uid() : "default"); return t.id = e.id || "s" + this.webix.uid(), (i[o] = { id: t.id, url: r, branch: e.branch, popup: e.popup }).popup ? null : t }, t }(c), b = function () { function e(t, i) { var r = this; a(this, e), this.config = i || {}, this._detectPrefix(), this.cb = t, window.onpopstate = function () { return r.cb(r.get()) } } return e.prototype.set = function (e, t) { var i = this; if (this.config.routes) { var r = e.split("?", 2); for (var o in this.config.routes) if (this.config.routes[o] === r[0]) { e = o + (r.length > 1 ? "?" + r[1] : ""); break } } this.get() !== e && window.history.pushState(null, null, this.prefix + this.sufix + e), t && t.silent || setTimeout((function () { return i.cb(e) }), 1) }, e.prototype.get = function () { var e = this._getRaw().replace(this.prefix, "").replace(this.sufix, ""); if (e = "/" !== e && "#" !== e ? e : "", this.config.routes) { var t = e.split("?", 2), i = this.config.routes[t[0]]; i && (e = i + (t.length > 1 ? "?" + t[1] : "")) } return e }, e.prototype._detectPrefix = function () { var e = this.config.routerPrefix; this.sufix = "#" + (void 0 === e ? "!" : e), this.prefix = document.location.href.split("#", 2)[0] }, e.prototype._getRaw = function () { return document.location.href }, e }(), w = !1; function y(e) { if (!w && e) { w = !0; var t = window; t.Promise || (t.Promise = e.promise); var i = e.version.split("."); 10 * i[0] + 1 * i[1] < 53 && (e.ui.freeze = function (t) { var i = t(); return i && i.then ? i.then((function (t) { return e.ui.$freeze = !1, e.ui.resize(), t })) : (e.ui.$freeze = !1, e.ui.resize()), i }); var o = e.ui.baselayout.prototype.addView, n = e.ui.baselayout.prototype.removeView, a = { addView: function (e, t) { var i = this; if (!this.$scope || !this.$scope.webixJet || e.queryView) return o.apply(this, arguments); var n = function () { var r = i.$scope, n = {}; e = r.app.copyConfig(e, {}, n), o.apply(i, [e, t]); var a = function (e) { r._renderFrame(e, n[e], null).then((function () { r._subs[e] = n[e] })) }; for (var s in n) a(s); return { v: e.id } }(); return "object" === (void 0 === n ? "undefined" : r(n)) ? n.v : void 0 }, removeView: function () { if (n.apply(this, arguments), this.$scope && this.$scope.webixJet) { var t = this.$scope._subs; for (var i in t) { var r = t[i]; e.$$(r.id) || (r.view.destructor(), delete t[i]) } } } }; e.extend(e.ui.layout.prototype, a, !0), e.extend(e.ui.baselayout.prototype, a, !0), e.protoUI({ name: "jetapp", $init: function (t) { this.$app = new this.app(t); var i = e.uid().toString(); for (var r in t.body = { id: i }, this.$ready.push((function () { this.$app.render({ id: i }) })), this.$app) { var o = this.$app[r]; "function" != typeof o || this[r] || (this[r] = o.bind(this.$app)) } } }, e.ui.proxy) } } var x = function (e) { function t(i) { a(this, t), i.router = i.router || b; var r = o(this, e.call(this, i)); return y(r.webix), r } return n(t, e), t.prototype._loadViewDynamic = function (e) { return e = e.replace(/\./g, "/"), i(41)("./" + e) }, t }(v), _ = (function () { function e(t, i, r) { a(this, e), this.storage = i.storage || r.webix.storage.session, this.name = i.storeName || i.id + ":route", this.cb = t } e.prototype.set = function (e, t) { var i = this; this.storage.put(this.name, e), t && t.silent || setTimeout((function () { return i.cb(e) }), 1) }, e.prototype.get = function () { return this.storage.get(this.name) } }(), function (e) { function t() { return a(this, t), o(this, e.apply(this, arguments)) } n(t, e), t.prototype._detectPrefix = function () { this.prefix = "", this.sufix = this.config.routerPrefix || "" }, t.prototype._getRaw = function () { return document.location.pathname + (document.location.search || "") } }(b), function () { function e(t, i) { a(this, e), this.path = "", this.cb = t } return e.prototype.set = function (e, t) { var i = this; this.path = e, t && t.silent || setTimeout((function () { return i.cb(e) }), 1) }, e.prototype.get = function () { return this.path }, e }()); function $(e, t) { return Object.prototype.hasOwnProperty.call(e, t) } function C(e, t, i) { for (var r in e) $(e, r) && t.call(i || e, e[r], r, e) } function S(e) { e = "Warning: " + e, "undefined" != typeof console && console.error(e); try { throw new Error(e) } catch (e) { } } var T = String.prototype.replace, k = String.prototype.split, E = function (e) { var t = e % 10; return 11 !== e && 1 === t ? 0 : 2 <= t && t <= 4 && !(e >= 12 && e <= 14) ? 1 : 2 }, R = { arabic: function (e) { if (e < 3) return e; var t = e % 100; return t >= 3 && t <= 10 ? 3 : t >= 11 ? 4 : 5 }, bosnian_serbian: E, chinese: function () { return 0 }, croatian: E, french: function (e) { return e > 1 ? 1 : 0 }, german: function (e) { return 1 !== e ? 1 : 0 }, russian: E, lithuanian: function (e) { return e % 10 == 1 && e % 100 != 11 ? 0 : e % 10 >= 2 && e % 10 <= 9 && (e % 100 < 11 || e % 100 > 19) ? 1 : 2 }, czech: function (e) { return 1 === e ? 0 : e >= 2 && e <= 4 ? 1 : 2 }, polish: function (e) { if (1 === e) return 0; var t = e % 10; return 2 <= t && t <= 4 && (e % 100 < 10 || e % 100 >= 20) ? 1 : 2 }, icelandic: function (e) { return e % 10 != 1 || e % 100 == 11 ? 1 : 0 }, slovenian: function (e) { var t = e % 100; return 1 === t ? 0 : 2 === t ? 1 : 3 === t || 4 === t ? 2 : 3 } }, P = { arabic: ["ar"], bosnian_serbian: ["bs-Latn-BA", "bs-Cyrl-BA", "srl-RS", "sr-RS"], chinese: ["id", "id-ID", "ja", "ko", "ko-KR", "lo", "ms", "th", "th-TH", "zh"], croatian: ["hr", "hr-HR"], german: ["fa", "da", "de", "en", "es", "fi", "el", "he", "hi-IN", "hu", "hu-HU", "it", "nl", "no", "pt", "sv", "tr"], french: ["fr", "tl", "pt-br"], russian: ["ru", "ru-RU"], lithuanian: ["lt"], czech: ["cs", "cs-CZ", "sk"], polish: ["pl"], icelandic: ["is"], slovenian: ["sl-SL"] }; function j(e) { var t, i = (t = {}, C(P, (function (e, i) { C(e, (function (e) { t[e] = i })) })), t); return i[e] || i[k.call(e, /-/, 1)[0]] || i.en } function L(e) { return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&") } var A = /\$/g, D = /%\{(.*?)\}/g; function I(e, t, i, r) { if ("string" != typeof e) throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string"); if (null == t) return e; var o = e, n = r || D, a = "number" == typeof t ? { smart_count: t } : t; if (null != a.smart_count && o) { var s = k.call(o, "||||"); o = (s[function (e, t) { return R[j(e)](t) }(i || "en", a.smart_count)] || s[0]).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "") } return o = T.call(o, n, (function (e, t) { return $(a, t) && null != a[t] ? T.call(a[t], A, "$$") : e })) } function U(e) { var t = e || {}; this.phrases = {}, this.extend(t.phrases || {}), this.currentLocale = t.locale || "en"; var i = t.allowMissing ? I : null; this.onMissingKey = "function" == typeof t.onMissingKey ? t.onMissingKey : i, this.warn = t.warn || S, this.tokenRegex = function (e) { var t = e && e.prefix || "%{", i = e && e.suffix || "}"; if ("||||" === t || "||||" === i) throw new RangeError('"||||" token is reserved for pluralization'); return new RegExp(L(t) + "(.*?)" + L(i), "g") }(t.interpolation) } U.prototype.locale = function (e) { return e && (this.currentLocale = e), this.currentLocale }, U.prototype.extend = function (e, t) { C(e, (function (e, i) { var o = t ? t + "." + i : i; "object" === (void 0 === e ? "undefined" : r(e)) ? this.extend(e, o) : this.phrases[o] = e }), this) }, U.prototype.unset = function (e, t) { "string" == typeof e ? delete this.phrases[e] : C(e, (function (e, i) { var o = t ? t + "." + i : i; "object" === (void 0 === e ? "undefined" : r(e)) ? this.unset(e, o) : delete this.phrases[o] }), this) }, U.prototype.clear = function () { this.phrases = {} }, U.prototype.replace = function (e) { this.clear(), this.extend(e) }, U.prototype.t = function (e, t) { var i, r, o = null == t ? {} : t; if ("string" == typeof this.phrases[e]) i = this.phrases[e]; else if ("string" == typeof o._) i = o._; else if (this.onMissingKey) { r = (0, this.onMissingKey)(e, o, this.currentLocale, this.tokenRegex) } else this.warn('Missing translation for key: "' + e + '"'), r = e; return "string" == typeof i && (r = I(i, o, this.currentLocale, this.tokenRegex)), r }, U.prototype.has = function (e) { return $(this.phrases, e) }, U.transformPhrase = function (e, t, i) { return I(e, t, i) }; var O = U; function N(e, t, i) { if (t.urls) i = t.urls[i] || i; else if (t.param) { var r; (r = {})[t.param] = i, i = r } e.show(i) } var q = { good: "check", error: "warning", saving: "refresh fa-spin" }, M = { good: "Ok", error: "Error", saving: "Connecting..." }; function V(e, t, i) { for (var r = 0; r < i.length; r++)e[i[r]] = t[r + 1] ? t[r + 1].page : "" } var F = window.webix; F && y(F); var B = { UnloadGuard: function (e, t, i) { t.on(e, "app:guard", (function (e, r, o) { if (r === t || r.contains(t)) { var n = i(); o.confirm = !1 === n ? Promise.reject(new s) : o.confirm.then((function () { return n })) } })) }, Locale: function (e, t, r) { var o = (r = r || {}).storage, n = o ? o.get("lang") || "en" : r.lang || "en"; function a(t, i, a) { i.__esModule && (i = i.default); var s = { phrases: i }; r.polyglot && e.webix.extend(s, r.polyglot); var l = c.polyglot = new O(s); if (l.locale(t), c._ = e.webix.bind(l.t, l), n = t, o && o.put("lang", n), r.webix) { var u = r.webix[t]; u && e.webix.i18n.setLocale(u) } return a ? Promise.resolve() : e.refresh() } function s(e, t) { if (!1 !== r.path) { var o = (r.path ? r.path + "/" : "") + e; a(e, i(44)("./" + o), t) } } var c = { getLang: function () { return n }, setLang: s, setLangData: a, _: null, polyglot: null }; e.setService("locale", c), s(n, !0) }, Menu: function (e, t, i) { var r = t.getSubViewInfo().parent, o = t.$$(i.id || i), n = !1; o.attachEvent("onchange", (function () { n || N(r, i, this.getValue()) })), o.attachEvent("onafterselect", (function () { if (!n) { var e = null; o.setValue ? e = this.getValue() : o.getSelectedId && (e = o.getSelectedId()), N(r, i, e) } })), t.on(e, "app:route", (function () { var e = ""; if (i.param) e = t.getParam(i.param, !0); else { var a = r.getUrl()[1]; a && (e = a.page) } e && (n = !0, o.setValue && o.getValue() !== e ? o.setValue(e) : o.select && o.exists(e) && o.getSelectedId() !== e && o.select(e), n = !1) })) }, Theme: function (e, t, i) { var r = (i = i || {}).storage, o = r ? r.get("theme") || "flat-default" : i.theme || "flat-default", n = { getTheme: function () { return o }, setTheme: function (t, i) { for (var n = t.split("-"), a = document.getElementsByTagName("link"), s = 0; s < a.length; s++) { var c = a[s].getAttribute("title"); c && (c === t || c === n[0] ? a[s].disabled = !1 : a[s].disabled = !0) } e.webix.skin.set(n[0]), e.webix.html.removeCss(document.body, "theme-" + o), e.webix.html.addCss(document.body, "theme-" + t), o = t, r && r.put("theme", t), i || e.refresh() } }; e.setService("theme", n), n.setTheme(o, !0) }, User: function (e, t, i) { var r = (i = i || {}).login || "/login", o = i.logout || "/logout", n = i.afterLogin || e.config.start, a = i.afterLogout || "/login", s = i.ping || 3e5, c = i.model, l = i.user, u = { getUser: function () { return l }, getStatus: function (e) { return e ? c.status().catch((function () { return null })).then((function (e) { l = e })) : null !== l }, login: function (t, i) { return c.login(t, i).then((function (t) { if (l = t, !t) throw new Error("Access denied"); e.callEvent("app:user:login", [l]), e.show(n) })) }, logout: function () { return l = null, c.logout().then((function (t) { return e.callEvent("app:user:logout", []), t })) } }; function d(e, t) { e === o ? (u.logout(), t.redirect = a) : e === r || u.getStatus() || (t.redirect = r) } e.setService("user", u), e.attachEvent("app:guard", (function (e, t, r) { return !(!i.public || !i.public(e)) || (void 0 === l && (r.confirm = u.getStatus(!0).then((function () { return d(e, r) }))), d(e, r)) })), s && setInterval((function () { return u.getStatus(!0) }), s) }, Status: function (e, t, i) { var r = "good", o = 0, n = !1, a = i.expire; a || !1 === a || (a = 2e3); var s = i.texts || M, c = i.icons || q; function l(e) { var o = t.$$(i.target); o && (e || (e = "<div class='status_" + r + "'><span class='webix_icon fa-" + c[r] + "'></span> " + s[r] + "</div>"), o.setHTML(e)) } function u() { o-- , m("good") } function d(e) { o-- , m("error", e) } function p(e) { o++ , m("saving"), e && e.then && e.then(u, d) } function h() { 0 === o && l(" ") } function m(t, i) { o < 0 && (o = 0), "saving" === t ? (r = "saving", l()) : (n = "error" === t, 0 === o && (r = n ? "error" : "good", n ? e.error("app:error:server", [i.responseText || i]) : a && setTimeout(h, a), l())) } function f(i) { var r = e.webix.dp(i); r && (t.on(r, "onAfterDataSend", p), t.on(r, "onAfterSaveError", (function (e, t, i) { return d(i) })), t.on(r, "onAfterSave", u)) } "string" == typeof i && (i = { target: i }), e.setService("status", { getStatus: function () { return r }, setStatus: m, track: f }), i.remote && t.on(e.webix, "onRemoteCall", p), i.ajax && t.on(e.webix, "onBeforeAjax", (function (e, t, i, r, o, n, a) { p(a) })), i.data && f(i.data) }, UrlParam: function (e, t, i) { var r = i.route || i, o = {}; t.on(e, "app:urlchange", (function (e, i) { t === e && (V(o, i.suburl(), r), i.size(r.length + 1)) })); var n = t.setParam, a = t.getParam; t.setParam = function (e, i, a) { var s = r.indexOf(e); return s >= 0 ? (o[e] = i, this._segment.update("", i, s + 1), a ? t.show(null) : void 0) : n.call(this, e, i, a) }, t.getParam = function (e, t) { var i = o[e]; return void 0 !== i ? i : a.call(this, e, t) }, V(o, t.getUrl(), r) } }, z = window; z.Promise || (z.Promise = z.webix.promise) }, function (e, t, i) { "use strict"; i.d(t, "a", (function () { return r })); var r = function (e) { var t = e = (e = e || "&nbsp;").replace(/(<([^>]+)>)/g, ""); return t.length > 14 && (t = t.substring(0, 25) + "..."), { view: "template", relative: !0, css: "webix_clean", height: 30, borderless: !0, template: "<div title='" + e + "' style='color: black; font-weight: bold;font-size: 25px; padding-left: 10px;'>" + t + "</div>" } } }, function (e, t, i) { "use strict"; i.d(t, "a", (function () { return r })); var r = { action: "action", active: "active", activities: "activities", addLink: "addLink", alarms: "alarms", annual: "annual", all: "all", alreadySaved: "alreadySaved", gpax: "gpax", archived: "archived", assistant: "assistant", assignment: "assignment", assigned: "assigned", attended: "attended", attachments: "attachments", autoTimer: "autoTimer", available: "available", beginHiring: "beginHiring", bpd: "bpd", budget: "budget", bye: "bye", calendar: "calendar", cancel: "cancel", category: "category", calc: "calc", cited: "cited", channel: "channel", charset: "charset", class: "class", click2delete: "click2delete", click2open: "click2open", client: "client", clients: "clients", close: "close", closeEditor: "closeEditor", closeOrganigramEditor: "closeOrganigramEditor", closeProcessEditor: "closeProcessEditor", closeSesion: "closeSesion", code: "code", collection: "collection", combo: "combo", comment: "comment", comments: "comments", committed: "committed", commitment: "commitment", company: "company", completed: "completed", condition: "condition", confirm: "Data not saved, continue and discard changes?", confirmDelete: "confirmDelete", constants: "constants", content: "content", copy: "copy", countryCode: "countryCode", create: "create", correspondence: "correspondence", createLanguages: "createLanguages", createRepositories: "createRepositories", createPlans: "createPlans", createProcedures: "createProcedures", createProcesses: "createProcesses", createProjects: "createProjects", createTemplates: "createTemplates", createSequences: "createSequences", createUnits: "createUnits", createUsers: "createUsers", dates: "dates", dateTime: "dateTime", dashboard: "dashboard", days: "days", dblClick2AddChild: "dblClick2AddChild", deadline: "deadline", device: "device", dayNames: "Sun,Mon,Tue,Wed,Thu,Fri,Sat,Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday", remove: "remove", description: "description", details: "details", detectedChanges: "detectedChanges", discart: "discart", discartChanges: "discartChanges", discardedEntry: "discardedEntry", discarded: "discarded", docsPend: "docsPend", document: "document", documents: "documents", draft: "draft", drag2upload: "drag2upload", dropHere: "dropHere", duration: "duration", edit: "edit", email: "email", end: "end", endDate: "endDate", endHiring: "endHiring", enter: "enter", entry: "entry", entries: "entries", error: "error", externalUnit: "externalUnit", expenseReports: "expenseReports", expired: "expired", expiredPassword: "expiredPassword", favorites: "favorites", fields: "fields", files: "files", filter: "filter", floating: "floating", format: "format", form: "form", from: "from", gantt: "gantt", gateway: "gateway", gateways: "gateways", header: "header", hidden: "hidden", high: "high", highlights: "highlights", history: "history", holidays: "holidays", host: "host", hourCost: "hourCost", hours: "hours", identification: "identification", in: "in", inactiveuser: "inactiveuser", includeSignature: "includeSignature", invalid: "invalid", invalidCredentials: "invalidCredentials", invoice: "invoice", invoices: "invoices", input: "input", inprocessentry: "inprocessentry", interval: "interval", issue: "issue", item: "item", items: "items", justification: "justification", kanban: "kanban", laborData: "laborData", language: "language", languages: "languages", level: "level", licensedUser: "licensedUser", lifeCycle: "lifeCycle", limitUseTo: "limitUseTo", links: "links", loading: "loading", locale: "locale", log: "log", login: "login", logout: "logout", low: "low", manager: "manager", me: "me", medium: "medium", members: "members", member: "member", methods: "methods", minutes: "minutes", mission: "mission", monthNames: "Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,January,February,March,April,May,June,July,August,September,October,November,December", msgNotClass: "msgNotClass", msgNotMethod: "msgNotMethod", msgNotReply: "msgNotReply", msgSeelog: "msgSeelog", myEntries: "myEntries", myProfile: "myProfile", myScheduler: "myScheduler", name: "name", nameSurname: "nameSurname", new: "new", newTransaction: "newTransaction", no: "no", notSaved: "notSaved", objective: "objective", objectives: "objectives", opeConnection: "openConnection", organizationChart: "organizationChart", organizationChartMaintenanace: "organizationChartMaintenanace", others: "others", output: "output", owner: "owner", path: "path", pause: "pause", processing: "processing", period: "period", photo: "photo", plan: "plan", plans: "plans", placeholder: "placeholder", passTo: "passTo", password: "password", port: "port", preview: "preview", print: "print", priority: "priority", process: "process", processes: "processes", processChart: "processChart", processChartMaintenanace: "processChartMaintenanace", processType: "processType", progress: "progress", project: "project", projects: "projects", properties: "properties", received: "received", recipients: "recipients", froala: "froala", referredBy: "referredBy", referred: "referred", relationship: "relationship", repeatPassword: "repeatPassword", replied: "replied", reply: "reply", replyTo: "replyTo", repository: "repository", requiredBy: "requiredBy", reset: "reset", restrict2units: "restrcit2units", resolvedentry: "resolvedentry", resolved: "resolved", reviser: "reviser", reviewedSchedulers: "reviewedSchedulers", roles: "roles", save: "save", savedChanges: "savedChanges", savingProblem: "savingProblem", scaleHour: "scaleHour", scaleDay: "scaleDay", scaleWeek: "scaleWeek", scaleMonth: "scaleMonth", scaleYear: "scaleYear", search: "search", seconds: "secounds", sections: "sections", security: "security", send: "send", sent: "sent", sequence: "sequence", sequences: "sequences", server: "server", sessionExpired: "sessionExpired", settings: "settings", signature: "signature", signOff: "signOff", similarTo: "similarTo", size: "size", slogan: "slogan", source: "source", solution: "solution", specific: "specific", spreadsheet: "spreadsheet", start: "start", startDate: "startDate", statistics: "statistics", strategy: "strategy", status: "status", stx: "stx", subject: "subject", subobjective: "subobjective", suspended: "suspended", tags: "tags", template: "template", templateName: "templateName", templates: "templates", templateType: "templateType", text: "text", time: "time", timeNames: "a,p,am,pm,A,P,AM,PM", timeReports: "timeReports", to: "to", today: "today", todo: "todo", total: "total", toPDF: "toPDF", tools: "tools", transaction: "transaction", txt2search: "txt2search", type: "type", types: "types", unitName: "unitName", unitNameRequired: "unitNameRequired", unit: "unit", units: "units", unitType: "unitType", url: "url", unsave: "unsave", user: "user", userCode: "userCode", userLanguage: "userLanguage", users: "users", validEmail: "validEmail", value: "value", versions: "versions", vigency: "vigency", vision: "vision", wantSave: "wantSave", warning: "warning", wellcome: "wellcome", window: "window", withoutStarting: "withoutStarting", workDay: "workDay", wrokload: "wrokload", workflow: "workflow", workingDays: "workingDays", workGuide: "workGuide", yes: "yes", yesterday: "yesterday" } }, function (e, t, i) { "use strict"; i.r(t), i.d(t, "photo", (function () { return r })), i.d(t, "basic", (function () { return o })), i.d(t, "normal", (function () { return n })), i.d(t, "normal2", (function () { return a })), i.d(t, "chat", (function () { return s })), i.d(t, "chat2", (function () { return c })), i.d(t, "moreBasic", (function () { return l })), i.d(t, "comment", (function () { return u })), i.d(t, "full", (function () { return d })), i.d(t, "inline", (function () { return p })), i.d(t, "dev", (function () { return h })); var r = { key: _froala, language: "es", attribution: !1, imageUploadURL: _api + "user.image?=_id=", imageStyles: { rotar: "Rotar imagen" }, zIndex: 2501, toolbarInline: !0, toolbarVisibleWithoutSelection: !0, enter: FroalaEditor.ENTER_BR, fontSize: ["8", "9", "10", "11", "12", "13", "14", "15", "16", "18", "30", "60", "96"], toolbarButtons: ["fullscreen", "undo", "redo"], fileMaxSize: 2097152e3, videoMaxSize: 2097152e3 }, o = { key: _froala, language: "es", attribution: !1, placeholderText: "_", imageUploadURL: _api + "file.save", imageStyles: { rotar: "Rotar imagen" }, imageManagerLoadURL: _api + "file.list", fileUploadURL: _api + "file.save", zindex: 2501, toolbarInline: !0, toolbarVisibleWithoutSelection: !0, enter: FroalaEditor.ENTER_BR, tableResizerOffset: 10, tableResizingLimit: 50, fontSize: ["8", "9", "10", "11", "12", "13", "14", "15", "16", "18", "30", "60", "96"], toolbarButtons: ["fullscreen", "bold", "italic", "underline", "strikeThrough", "color", "emoticons", "-", "paragraphFormat", "align", "formatOL", "formatUL", "indent", "outdent", "-", "insertImage", "insertLink", "insertFile", "insertVideo", "undo", "redo", "fontAwesome"], fileMaxSize: 2097152e3, videoMaxSize: 2097152e3 }, n = { key: _froala, language: "es", attribution: !1, placeholderText: "_", imageUploadURL: _api + "file.save", imageManagerLoadURL: _api + "file.list", imageStyles: { rotar: "Rotar imagen" }, fileUploadURL: _api + "file.save", toolbarInline: !1, enter: FroalaEditor.ENTER_BR, tableResizerOffset: 10, tableResizingLimit: 50, fontSize: ["8", "9", "10", "11", "12", "13", "14", "15", "16", "18", "30", "60", "96"], toolbarButtons: ["fullscreen", "bold", "italic", "underline", "color", "align", "formatOL", "formatUL", "indent", "outdent", "insertImage", "insertFile", "insertTable", "undo", "redo"], fileMaxSize: 2097152e3, videoMaxSize: 2097152e3 }, a = { key: _froala, language: "es", attribution: !1, placeholderText: "_", imageUploadURL: _api + "file.save", imageManagerLoadURL: _api + "file.list", imageStyles: { rotar: "Rotar imagen" }, fileUploadURL: _api + "file.save", toolbarInline: !1, enter: FroalaEditor.ENTER_BR, tableResizerOffset: 10, tableResizingLimit: 50, fontSize: ["8", "9", "10", "11", "12", "13", "14", "15", "16", "18", "30", "60", "96"], toolbarButtons: [], fileMaxSize: 2097152e3, videoMaxSize: 2097152e3 }, s = { key: _froala, language: "es", attribution: !1, placeholderText: "Comentario...", imageUploadURL: _api + "file.save", imageManagerLoadURL: _api + "file.list", imageStyles: { rotar: "Rotar imagen" }, fileUploadURL: _api + "file.save", enter: FroalaEditor.ENTER_BR, fontSize: ["8", "9", "10", "11", "12", "13", "14", "15", "16", "18", "30", "60", "96"], fontFamily: { "Arial,Helvetica,sans-serif": "Arial", Calibri: "Calibri", "Georgia,serif": "Georgia", "Impact,Charcoal,sans-serif": "Impact", "Tahoma,Geneva,sans-serif": "Tahoma", "Times New Roman,Times,serif,-webkit-standard": "Times New Roman", "Verdana,Geneva,sans-serif": "Verdana" }, zindex: 2501, toolbarInline: !0, toolbarButtons: ["fullscreen", "bold", "italic", "underline", "strikeThrough", "color", "-", "emoticons", "insertImage", "insertFile", "insertVideo"], fileMaxSize: 2097152e3, videoMaxSize: 2097152e3 }, c = { key: _froala, language: "es", attribution: !1, placeholderText: "_", toolbarBottom: !0, imageUploadURL: _api + "file.save", imageManagerLoadURL: _api + "file.list", imageStyles: { rotar: "Rotar imagen" }, fileUploadURL: _api + "file.save", enter: FroalaEditor.ENTER_BR, tableResizerOffset: 10, tableResizingLimit: 50, fontSize: ["8", "9", "10", "11", "12", "13", "14", "15", "16", "18", "30", "60", "96"], toolbarButtons: ["fullscreen", "bold", "italic", "underline", "strikeThrough", "color", "-", "emoticons", "insertImage", "insertFile", "insertVideo"], fileMaxSize: 2097152e3, videoMaxSize: 2097152e3 }, l = { key: _froala, language: "es", attribution: !1, placeholderText: "Escribe...", imageStyles: { rotar: "Rotar imagen" }, enter: FroalaEditor.ENTER_BR, tableResizerOffset: 10, tableResizingLimit: 50, fontSize: ["8", "9", "10", "11", "12", "13", "14", "15", "16", "18", "30", "60", "96"], toolbarButtons: ["bold", "italic", "underline", "color", "align", "formatOL", "formatUL", "indent", "outdent", "undo", "redo"], fileMaxSize: 2097152e3, videoMaxSize: 2097152e3, quickInsertTags: [""], pluginsEnabled: ["link", "emoticons", "file", "fullscreen", "image", "imageManager", "url", "insertVideo"] }, u = { key: _froala, language: "es", attribution: !1, placeholderText: "Escribe...", imageStyles: { rotar: "Rotar imagen" }, enter: FroalaEditor.ENTER_BR, tableResizerOffset: 10, tableResizingLimit: 50, fontSize: ["8", "9", "10", "11", "12", "13", "14", "15", "16", "18", "30", "60", "96"], toolbarButtons: [], fileMaxSize: 2097152e3, videoMaxSize: 2097152e3, quickInsertTags: [""], pluginsEnabled: ["link", "emoticons", "file", "fullscreen", "image", "imageManager", "url"] }, d = { key: _froala, language: "es", attribution: !1, toolbarSticky: !1, placeholderText: "_", imageUploadURL: _api + "file.save", imageManagerLoadURL: _api + "file.list", imageStyles: { rotar: "Rotar imagen" }, fileUploadURL: _api + "file.save", toolbarInline: !1, tableResizerOffset: 10, tableResizingLimit: 50, fontSize: ["8", "9", "10", "11", "12", "13", "14", "15", "16", "18", "30", "60", "96"], fontFamily: { "Arial,Helvetica,sans-serif": "Arial", Calibri: "Calibri", "Georgia,serif": "Georgia", "Impact,Charcoal,sans-serif": "Impact", "Tahoma,Geneva,sans-serif": "Tahoma", "Times New Roman,Times,serif,-webkit-standard": "Times New Roman", "Verdana,Geneva,sans-serif": "Verdana" }, tableStyles: { gpaxTable: _("withBorder") }, inlineClasses: { check: "Chequeado", correct: "Verificado correcto", incorrect: "Verificado incorrecto", notRated: "No evaluado", notApply: "No aplica", collated: "Cotejado contra registros contables", reference: "Referencia a papel de trabajo", sampling: "Incluido en la muestra", byClient: "Cédula preparada por el cliente" }, fileMaxSize: 2097152e3, videoMaxSize: 2097152e3 }, p = { key: _froala, language: "es", attribution: !1, placeholderText: "_", imageUploadURL: _api + "file.save", imageManagerLoadURL: _api + "file.list", imageStyles: { rotar: "Rotar imagen" }, fileUploadURL: _api + "file.save", zindex: 2501, toolbarInline: !0, toolbarVisibleWithoutSelection: !0, enter: FroalaEditor.ENTER_BR, fontSize: ["8", "9", "10", "11", "12", "13", "14", "15", "16", "18", "30", "60", "96"], tableResizerOffset: 10, tableResizingLimit: 50, fileMaxSize: 2097152e3, videoMaxSize: 2097152e3 }, h = { key: _froala, language: "es", attribution: !1, placeholderText: "_", imageUploadURL: _api + "file.save", imageManagerLoadURL: _api + "file.list", imageStyles: { rotar: "Rotar imagen" }, fileUploadURL: _api + "file.save", toolbarInline: !1, enter: FroalaEditor.ENTER_BR, fontSize: ["8", "9", "10", "11", "12", "13", "14", "15", "16", "18", "30", "60", "96"], tableResizerOffset: 10, tableResizingLimit: 50, fileMaxSize: 2097152e3, videoMaxSize: 2097152e3 } }, function (e, t, i) { "use strict"; i.d(t, "a", (function () { return r })); var r = function (e, t) { return { view: "label", relative: !0, autoheight: !0, template: '<span class="' + t + '" style="color: #fff; display: inline-block; margin-left: 15px;  margin-top: 15px; padding-left: 7px; padding-right: 7px; font-weight: bold; font-size: 15px; border-radius: 5px;">' + _(e) + "</span>" } } }, function (e, t, i) { "use strict"; i.d(t, "a", (function () { return r })); var r = function (e) { return { view: "label", relative: !0, height: 30, template: '<span style=" position: absolute; padding: 5px; top: 0px; text-align: center;  height:100%; width:100%; color: white; font: 700 18px/1 Lato, sans-serif;text-shadow: 0 1px 1px rgba(0,0,0,.2); text-transform: uppercase;" class="' + e + '">' + _(e) + "</span>" } } }, function (e, t, i) { "use strict"; i.r(t), i.d(t, "gpax", (function () { return o })), i.d(t, "projects", (function () { return n })); var r = i(2), o = []; o.push({ id: r.a.user, icon: "mdi mdi-account-settings", value: _("users") }, { id: r.a.projects, icon: "mdi mdi-chart-gantt", value: _("projects"), url: "project.projects" }, { id: "workPapers", icon: "mdi mdi-file-multiple", value: _("workPapers") }, { id: "slopes", icon: "mdi mdi-comment-multiple-outline", value: _("slopes"), url: "note.slopes" }, { id: "comments", icon: "mdi mdi-comment-text-outline", value: _("comments"), url: "home.comments" }, { id: "notifications", icon: "mdi mdi-bell-outline", value: _("notifications"), url: "home.notifications" }, { id: r.a.dashboard, icon: "mdi mdi-view-dashboard-outline", value: _("dashboard") }); var n = o }, function (e, t) { webix.protoUI({ name: "selectone", setValue: function (e) { if ("string" == typeof e) { var t = e.split(","); t = t[t.length - 1], arguments[0] = t, webix.ui.multicombo.prototype.setValue.apply(this, arguments) } else arguments[0] = [], webix.ui.multicombo.prototype.setValue.apply(this, arguments) } }, webix.ui.multicombo) }, function (e, t, i) { "use strict"; i.d(t, "a", (function () { return r })); var r = function (e, t) { return { css: { "z-index": "9999" }, top: 0, left: 0, width: t._parent._root.$width, rows: [{ id: "menu" + t.uid, hidden: !0, rows: [e] }, { css: { "margin-left": t._parent._root.$width - t._parent._root.$width / 7 + "px !important" }, cols: [{ view: "button", id: "btnDetails" + t.uid, type: "iconTop", icon: "mdi mdi-gesture-swipe-down", on: { onTouchMove: webix.bind(o, t) }, css: "swipeButton", height: 45, width: 40, tooltip: _("details"), click: webix.bind(n, t) }] }] } }; function o(e, t) { var i = $$("menu" + this.uid), r = t.y - 30, o = this._root.$height - r, n = document.getElementsByClassName($$("btnDetails" + this.uid).data.css); r > -3 && o > 120 ? ($$("menu" + this.uid).define("height", r || 1), $$("menu" + this.uid).resize(), n[0].style.top = r + "px", i.config.hidden && i.show()) : r < -3 ? (n[0].style.top = "-3px", i.config.hidden || i.hide()) : o < 120 && ($$("menu" + this.uid).define("height", this._root.$height - 120), $$("menu" + this.uid).resize(), n[0].style.top = this._root.$height - 120 + "px", i.config.hidden && i.show()) } function n() { var e = this; if ($$("menu" + this.uid).config.height < 10) { var t = null, i = document.getElementsByClassName($$("btnDetails" + this.uid).data.css); window.requestAnimationFrame((function r(o) { t || (t = o); var n = o - t; n = n || 1; var a = Math.min(n / 2, e._parent._root.$height); a < e._parent._root.$height / 2 && (i[0].style.top = a + "px", $$("menu" + e.uid).define("height", a), $$("menu" + e.uid).resize(), $$("menu" + e.uid).show(), window.requestAnimationFrame(r)) })) } else { var r = $$("menu" + this.uid).config.height, o = document.getElementsByClassName($$("btnDetails" + this.uid).data.css); window.requestAnimationFrame((function t(i) { (r -= 10) > 0 ? (o[0].style.top = r + "px", $$("menu" + e.uid).define("height", r), $$("menu" + e.uid).resize(), $$("menu" + e.uid).show(), window.requestAnimationFrame(t)) : (o[0].style.top = "0px", $$("menu" + e.uid).define("height", 1), $$("menu" + e.uid).hide()) })) } } }, function (e, t, i) { "use strict"; var r = i(3); webix.protoUI({ name: "froala", $init: function (e) { this._waitEditor = webix.promise.defer(), e.config ? "string" == typeof e.config && (e.config = r[e.config] || r.full) : e.config = r.full, webix.delay(this._init_froala, this) }, setFocus: function () { var e = this; webix.delay((function () { e._froala.events.focus() }), this, [], 50) }, _init_froala: function () { var e = this; this._froala && this._froala.destroy(); var t = this.$height; this.config.config && (this.config.config = JSON.parse(JSON.stringify(this.config.config))), this._height = t, this.config.config.toolbarInline || (t -= 50), this.config.placeholder ? this.config.config.placeholderText = this.config.placeholder : this.config.label && (this.config.config.placeholderText = this.config.label), this.config.config.language = webix.storage.local.get("lang").split("-")[0], this.uid = webix.uid(); var i = { contentChanged: this.onChange, initialized: webix.bind(this.onInit, this), "commands.before": webix.bind(this.onClick, this), "images.click": webix.bind(this.onClick, this), "html.set": function () { e.config.readonly && e._froala.edit.off() } }; this.config.contentChanged && (i.contentChanged = this.config.contentChanged), this.config.config.events = i, this.$view.addEventListener("click", webix.bind(this.onClick, this)), this.config.height ? this.$view.style.overflow = "auto" : this.config.config.height = t, this.config.config.linkAutoPrefix = "", this.config.config.toolbarSticky = !1, this.config.config.key = _froala, this._froala = new FroalaEditor(this.$view, this.config.config), this._froala.parent = this, this._froala.el.setAttribute("id", "fredit" + this.uid), this._waitEditor.resolve(this._froala), this.config.value && this.setValue(this.config.value), this._focus_await && this.focus(), this._updateScrollSize() }, onInit: function () { var e = this, t = []; if (!1 !== this.config.addReviser) { var i = _api + "params.userFroala?limit=50"; this.config.signature ? i += "&signature=1&key=" : i += "&key=", t.push({ trigger: "@", lookup: "value", requireLeadingSpace: !0, menuContainer: document.body, fillAttr: "value", selectTemplate: function (e) { return e.original.signature && e.original.signature.length > 3 ? "<span class='h-card p-name'><a onclick='return false;' class='u-uid' href='" + e.original.id + "'>" + e.original.signature + "</a></span>" : "<span class='h-card p-name'><a onclick='return false;' class='u-uid' href='" + e.original.id + "'>" + e.original.value + "</a></span>" }, values: function (e, t) { webix.ajax(i + e).then((function (e) { t(e.json()) })) } }) } var r = this.$scope && this.$scope.getParam ? this.$scope.getParam("project", !0) : "", o = void 0; o = r ? _api + "params.options?name=document&project=" + r : _api + "params.options?name=document", o += "&limit=50&key=", t.push({ trigger: "#", requireLeadingSpace: !0, lookup: "value", menuContainer: document.body, selectTemplate: function (e) { return "<span class='h-entry p-name'><a class='u-uid' href='" + e.original.id + "' style='display:none'/><a class='u-url' href='" + e.original.path + "?_id=" + e.original.id + "'>" + e.original.value + "</a></span>" }, values: function (e, t) { webix.ajax(o + e).then((function (e) { t(e.json()) })) } }); var n = _api + "params.options?name=noteAndAttac&limit=50&key="; t.push({ trigger: "PP", requireLeadingSpace: !0, lookup: "value", selectTemplate: function (e) { return "<span class='h-entry p-name'><a class='u-uid' href='" + e.original.id + "' style='display:none'/><a class='u-url' href='" + e.original.path + "?_id=" + e.original.id + "'>" + e.original.value + "</a></span>" }, menuContainer: document.body, fillAttr: "value", values: function (e, t) { webix.ajax(n + e).then((function (e) { t(e.json()) })) } }), t.push({ trigger: "!", requireLeadingSpace: !0, lookup: "value", selectTemplate: function (e) { return "<span class='h-entry p-name'><a class='u-uid' href='" + e.original.id + "' style='display:none'/><a class='u-url' href='" + e.original.path + "?_id=" + e.original.id + "'>" + e.original.value + "</a></span>" }, menuContainer: document.body, fillAttr: "value", values: function (e, t) { webix.ajax(n + e).then((function (e) { t(e.json()) })) } }); var a = _api + "params.options?name=riskAssessment&limit=50&key="; t.push({ trigger: "?", requireLeadingSpace: !0, lookup: "value", selectTemplate: function (e) { return '<span class="h-entry p-name"><a class="u-uid" href="' + e.original.id + '">' + e.original.value + "</a></span > " }, values: function (e, t) { webix.ajax(a + e).then((function (e) { t(e.json()) })) } }); var s = _api + "params.options?name=unit&limit=50&key="; t.push({ trigger: "&", requireLeadingSpace: !0, lookup: "value", selectTemplate: function (e) { return '<span class="h-entry p-name"><a class="u-uid" href="' + e.original.id + '">' + e.original.value + "</a></span > " }, values: function (e, t) { webix.ajax(s + e).then((function (e) { t(e.json()) })) } }); var c = _api + "params.options?name=repository&limit=50&key="; if (t.push({ trigger: "%", requireLeadingSpace: !0, lookup: "value", selectTemplate: function (e) { return "<span class='h-entry p-name'><a class='u-uid' href='" + e.original.id + "' style='display:none'/><a class='u-url' href='" + e.original.path + "?_id=" + e.original.id + "'>" + e.original.value + "</a></span>" }, values: function (e, t) { webix.ajax(c + e).then((function (e) { t(e.json()) })) } }), r) { var l = _api + "params.options?name=files&project=" + r + "&limit=50&key="; t.push({ trigger: "*", requireLeadingSpace: !0, lookup: "value", selectTemplate: function (e) { return '<a class="fr-file" href="' + e.original.id + '" target="_blank">' + e.original.value + "</a>" }, values: function (e, t) { webix.ajax(l + e).then((function (e) { t(e.json()) })) } }) } this.tribute = new Tribute({ collection: t }), this.tribute.attach(this._froala.el), this._froala.events.on("keydown", (function (t) { if (t.which === FroalaEditor.KEYCODE.ENTER && e.tribute.isActive) return !1 }), !0) }, onClick: function (e) { if (("fullscreen" === e || e.type && "click" === e.type && e.altKey) && (this._froala.fullscreen.isActive() ? this.$view.style.height = this._height + "px" : this.$view.style.height = "100%", "fullscreen" !== e && this._froala.fullscreen.toggle()), "linkOpen" === e) { var t = this._froala.link.get().href; if (t.includes("file.get?_id=")) this.$scope.app.getFile(e, this._froala.link.get()); else if (t.includes("?_id=")) { var i = void 0; for (var r in this._froala.link.get().attributes) "href" === this._froala.link.get().attributes[r].name && (i = this._froala.link.get().attributes[r].value); var o = i, n = o.indexOf("="), a = o.substring(n + 1); this.$scope.app.multiShow(i, a) } else window.open(t, "_self"); return !1 } }, putAttachFields: function () { if (this._froala && this.config.attachFields) { var e = {}; for (var t in this.config.attachFields) e[t] = this.config.attachFields[t]; this._froala.opts.fileUploadParams = e, this._froala.opts.imageUploadParams = e } }, readonly: function () { this._froala.edit && this._froala.edit.off(), this._froala.$el[0].className = this._froala.$el[0].className.replace("fr-disabled", ""); var e = this.$view.getElementsByTagName("IMG"); if (e.length > 0) for (var t = 0; t < e.length; t++)e[t].onclick = webix.bind(this.onClick, this) }, refresh: function () { this.config.readonly ? this._froala && this.readonly() : this._froala ? this._froala.size.refresh() : ((this.config.height || 0 === this.config.height) && (this.$view.style.overflow = "auto"), this.config.config.linkAutoPrefix = "", this._froala = new FroalaEditor(this.$view, this.config.config), this._waitEditor.resolve(this._froala), this.config.value && this.setValue(this.config.value), this._focus_await && this.focus(), this._updateScrollSize()) }, onChange: function () { var e = this.parent.config; e.form && $$(e.form) && $$(e.form).callEvent("onChange", [e.name, this.parent.getValue()]) }, focus: function () { this._froala && this._froala.events.focus() }, _updateScrollSize: function () { var e = $$(this.$view); e.style || (e.style = {}), e.style.height = "100%", e.style.width = (this.$width || 0) + "px" }, setActors: function (e, t, i) { var r = document.createElement("template"), o = e.trim(); r.innerHTML = o; var n = r.content.getElementById(t); if (n) { if ("string" == typeof i) n.innerHTML = i; else { var a = ""; for (var s in i) a += i[s].signature ? i[s].signature : i[s].name, a += "<br>"; n.innerHTML = a } this._froala.html.set(r.innerHTML), this.config.value = r.innerHTML } }, setValue: function (e) { if (-1 === e.indexOf('<base href="')) e = '<base href="' + _host + '">' + e; else if (-1 !== e.indexOf('<base href="')) { var t = e.indexOf('<base href="'), i = e.substr(t).indexOf('">'), r = e.substr(t, i + 1), o = r.indexOf('"'), n = r.substr(o + 1).indexOf('"'), a = r.substr(o + 1, n + 1); "" !== a && (e = e.replace(a, _host)) } this.config.value = e, this._froala ? (this._froala.html && this._froala.html.set(e), this.config.docId && (this._froala.opts.imageUploadParams = { _id: this.config.docId }), !0 === this.config.readonly && this.readonly()) : this.$view.innerHTML = e }, getValue: function () { var e = ""; try { e = this._froala ? this._froala.html.get(!0) : this.config.value } catch (e) { webix.message(e) } return e }, getEditor: function (e) { return e ? this._waitEditor : this._froala }, undo: function () { this._froala.undo() }, redo: function () { this._froala.redo() }, undoLength: function () { return this._froala.historySize().undo } }, webix.ui.view) }, function (e, t, i) { "use strict"; i(7); var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; webix.protoUI({ name: "tag", $init: function (e) { this._tag = e.tag ? e.tag : "tag", this._multicombo = webix.uid(), this._dt = webix.uid(), this._form = webix.uid(); var t = { view: e.multiple ? "multicombo" : "selectone", label: e.label, id: this._multicombo, labelPosition: "top", readonly: !!e.readonly && e.readonly, suggest: { body: { url: _api + "params.options?name=" + this._tag, template: function (e) { return "<span class='tag' style='background-color:" + e.color + "'>" + e.value + "</span>" } } } }; if (e.newTags) { var i = webix.uid(), r = { view: "popup", id: i, width: .4 * window.innerWidth, height: .4 * window.innerHeight, body: { cols: [{ view: "abslayout", cols: [{ view: "datatable", relative: !0, columns: [{ id: "value", header: _("tag"), template: "<span class='tag' style='background-color:#color#'>#value#</span>", fillspace: 1 }], select: !0, id: this._dt, on: { onAfterLoad: webix.bind(this.showTag, this) }, url: _api + "params.options?name=" + this._tag }, { view: "button", type: "icon", icon: "mdi mdi-plus", tooltip: _("new"), width: 30, height: 35, right: 3, bottom: 7, css: "formButton", click: webix.bind(this.add, this) }] }, { view: "form", id: this._form, hidden: !0, elements: [{ view: "text", name: "value", label: this._tag, validate: "isNotEmpty" }, { view: "colorpicker", name: "color", label: _("color"), validate: "isNotEmpty" }, { cols: [{}, { view: "button", type: "iconTop", icon: "mdi mdi-content-save", tooltip: _("save"), width: 30, css: "formButton", click: webix.bind(this.save, this) }, { view: "button", type: "iconTop", icon: "mdi mdi-eraser", tooltip: _("cancel"), width: 30, css: "formButton", click: function () { $$(i).hide() } }, { view: "button", type: "iconTop", icon: "mdi mdi-trash-can", tooltip: _("remove"), width: 30, css: "formButton", click: webix.bind(this.delete, this) }] }, {}] }] } }, o = { view: "button", type: "icon", icon: "mdi mdi-pencil-plus", css: "formButton", tooltip: _("update") + this._tag, width: 20, height: 20, popup: r }; e.cols = [t, o] } else e.cols = [t] }, refresh: function () { if (this.config.readonly) { var e = $$(this._multicombo); e.define("readonly", !0), e.refresh() } }, showTag: function () { var e = $$(this._dt), t = $$(this._form); t.bind(e); var i = e.getFirstId(); i && (t.show(), e.select(i), t.focus("value")) }, getValue: function () { var e = []; return $$(this._multicombo) && (e = $$(this._multicombo).getValue()), e }, setValue: function (e) { "object" === (void 0 === e ? "undefined" : r(e)) && (e = e.join(",")), $$(this._multicombo) && $$(this._multicombo).setValue(e) }, add: function () { $$(this._form).show(); var e = $$(this._dt); this.row = e.add({ value: "", color: "#000" }), e.select(this.row), e.showItem(this.row), $$(this._form).focus("value") }, save: function () { var e = this, t = $$(this._form); if (t.validate()) { var i = t.getValues(); i.name = this._tag, i.id ? webix.ajax().post(_api + "params.save", i, (function (t, r, o) { if (200 === o.status) { var n = $$(e._dt), a = r.json(); i.id !== a.id ? (n.load(_api + "params.options?name=" + e._tag), n.remove(e.row), $$(e._multicombo).getList().add(a)) : (n.updateItem(i.id, a), $$(e._multicombo).getList().updateItem(i.id, a)) } else webix.message("Error " + o.status + ", please retry...", "error") })) : webix.message("Error, agregue un elemento", "error") } }, delete: function () { var e = this, t = $$(this._form).getValues().id; webix.ajax().post(_api + "params.delete", { name: this._tag, options: { id: t } }, (function (i, r, o) { 200 === o.status ? ($$(e._dt).remove(t), $$(e._multicombo).getList().remove(t), $$(e._dt).load(_api + "params.options?name=" + e._tag)) : webix.message("Error " + o.status + ", please retry...", "error") })) } }, webix.ui.layout) }, function (e, t, i) { "use strict"; i.r(t); var r = i(0); i(12); function o(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function n(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var a = function (e) { function t() { return o(this, t), n(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e, t, i = this; moment.locale("es"); var r = this.app.getService("user").getUser(); return this.uid = "." + r.user.toString(), this.uploaderImg = webix.ui({ id: "uploadImage" + this.uid, view: "uploader", accept: "image/png, image/gif, image/jpeg", name: "uploader", apiOnly: !0, on: { onAfterFileAdd: webix.bind(this.sendImage, this) } }), this.uploaderFile = webix.ui({ id: "uploadFile" + this.uid, view: "uploader", accept: "text/plain, text/html, application/vnd.ms-excel, application/pdf, application/zip, application/x-7z-compressed, application/x-rar-compressed, video/x-msvideo, application/msword, application/vnd.oasis.opendocument.spreadsheet, application/vnd.oasis.opendocument.text, application/vnd.ms-powerpoint", name: "uploader", apiOnly: !0, on: { onAfterFileAdd: webix.bind(this.sendFile, this) } }), { rows: [{ view: "toolbar", id: "toolbarContactSearch" + this.uid, relative: !0, elements: [{ view: "text", id: "contactSearch" + this.uid, on: { onTimedKeyPress: webix.bind(this.contactSearch, this) } }] }, { view: "multiview", fitBiggest: !0, cells: [{ id: "abslChats" + this.uid, view: "abslayout", rows: [{ view: "dataview", id: "chats" + this.uid, css: "webix_data_border", xCount: 1, type: { height: "auto", width: "auto" }, relative: !0, on: { onItemClick: webix.bind(this.openChat, this), onAfterLoad: webix.bind(this.refreshUserConnected, this), onDestruct: function () { clearInterval(i.idSetTimeOutUsersOnline) } }, template: function (e) { return e.team ? '<div style="position: relative;">\n                          ' + ("0" === e.seen ? '<div class="badgeMsg"></div>' : "") + '\n                          <div style="float: right">' + moment(e.date).startOf("second").fromNow() + '</div>\n                          <span>\n                          <div class="avatar small">\n                          <span>' + i.createNameAvatarTeam(e.username) + '</span>\n                          </div>\n                          <span style="font-weight: bold" >' + e.username + '</span></br>\n                          <span style="font-weight:' + ("0" === e.seen ? "bold" : "normal") + '">' + (e.lastMsg.length > 25 ? e.lastMsg.substring(0, 25) + "..." : e.lastMsg) + "</span>\n                          </span>\n                          </div>" : '<div style="position: relative;">\n                          ' + ("0" === e.seen ? '<div class="badgeMsg"></div>' : "") + '\n                          <div style="float: right">' + moment(e.date).startOf("second").fromNow() + '</div>\n                          <span>\n                          <img class="' + (e.online ? "photoOnline" : "photo") + '" style="float: left;width:44px;height:44px;" src="' + _api + "user.image?size=24&_id=" + e.user + '">\n                          <span style="font-weight: bold" >' + e.username + '</span></br>\n                          <span style="font-weight:' + ("0" === e.seen ? "bold" : "normal") + '">' + (e.lastMsg.length > 25 ? e.lastMsg.substring(0, 25) + "..." : e.lastMsg) + "</span>\n                          </span>\n                          </div>" }, url: _api + "chat.list?" }, { view: "button", tooltip: _("newTeam"), type: "iconTop", icon: "mdi mdi-account-multiple-plus", css: "formButton", bottom: 55, right: 30, height: 40, width: 40, click: webix.bind(this.showUsersTeam, this) }, { view: "button", tooltip: _("newChat"), type: "iconTop", icon: "mdi mdi-message-text", css: "formButton", bottom: 5, right: 30, height: 40, width: 40, click: webix.bind(this.showUsers, this) }] }, { id: "abslFormChat" + this.uid, view: "abslayout", rows: [{ view: "form", padding: 0, relative: !0, id: "formChat" + this.uid, on: { onValues: webix.bind(this.read, this) }, elements: [{ cols: [{ view: "template", id: "userImg" + this.uid, template: "", borderless: !0, height: 50, padding: 0 }, { view: "button", id: "actorsChat" + this.uid, icon: "mdi mdi-information-outline", type: "iconTop", width: 40, height: 40, click: webix.bind(this.showActors, this) }] }, { view: "dataviewBasic", id: "chat" + r.user.toString(), name: "messages", select: !1, xCount: 1, autoheigth: 1, type: { width: "auto", height: "auto" }, on: { onItemClick: webix.bind(this.showMsg, this) }, template: function (e) { if (r.user.toString() === e.user.toString()) { var t = e.actors.findIndex((function (e) { return "0" === e.seen })); return '<div id="' + e.id + '" class="message sent">\n                          ' + e.message + '\n                          <span class="metadata">\n                            ' + (-1 !== t ? '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" id="msg-dblcheck" x="2047" y="2061"><path d="M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.88a.32.32 0 0 1-.484.032l-.358-.325a.32.32 0 0 0-.484.032l-.378.48a.418.418 0 0 0 .036.54l1.32 1.267a.32.32 0 0 0 .484-.034l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.88a.32.32 0 0 1-.484.032L1.892 7.77a.366.366 0 0 0-.516.005l-.423.433a.364.364 0 0 0 .006.514l3.255 3.185a.32.32 0 0 0 .484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z" fill="#92a58c"/></svg>' : '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" id="msg-dblcheck-ack" x="2063" y="2076"><path d="M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.88a.32.32 0 0 1-.484.032l-.358-.325a.32.32 0 0 0-.484.032l-.378.48a.418.418 0 0 0 .036.54l1.32 1.267a.32.32 0 0 0 .484-.034l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.88a.32.32 0 0 1-.484.032L1.892 7.77a.366.366 0 0 0-.516.005l-.423.433a.364.364 0 0 0 .006.514l3.255 3.185a.32.32 0 0 0 .484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z" fill="#02c92a"/></svg>') + '\n                          \n                              <span class="time">' + moment(e.date).format("DD MMM YYYY h:mm a") + "</span>\n                          </span>\n                        </div>" } var o = $$("formChat" + i.uid).getValues().actors, n = void 0; return o.findIndex((function (t) { t.user.toString() === e.user.toString() && (n = t.color) })), n ? '<div id="' + e.id + '" class="message received">\n                        <div style="color: ' + n + '" class="nameMsgTeam">' + e.name + "</div></br>\n                          " + e.message + '\n                          <span class="metadata"><span class="time">' + moment(e.date).format("DD MMM YYYY h:mm a") + "</span></span>\n                        </div>" : '<div id="' + e.id + '" class="message received">\n                          ' + e.message + '\n                          <span class="metadata"><span class="time">' + moment(e.date).format("DD MMM YYYY h:mm a") + "</span></span>\n                          </div>" }, css: "rowsChat", relative: !0 }, { view: "toolbar", cols: [(e = { view: "button", css: { "z-index": 1e17 }, id: "emoji" + this.uid, type: "iconTop", icon: "mdi mdi-sticker-emoji" }, e.css = "formButton", e.height = 40, e.width = 40, e), { view: "button", icon: "mdi mdi-image", type: "iconTop", width: 40, height: 40, click: webix.bind(this.image, this) }, { view: "button", icon: "mdi mdi-paperclip", type: "iconTop", width: 40, height: 40, click: webix.bind(this.file, this) }, { view: "button", icon: "mdi mdi-microphone", id: "startRecorder" + this.uid, type: "iconTop", width: 40, height: 40, click: webix.bind(this.startRecorder, this) }, { view: "button", id: "stopRecorder" + this.uid, hidden: !0, icon: "mdi mdi-stop", type: "iconTop", width: 40, height: 40, click: webix.bind(this.stopRecorder, this) }, { view: "button", id: "cancelRecorder" + this.uid, hidden: !0, icon: "mdi mdi-cancel", type: "iconTop", width: 40, height: 40, click: webix.bind(this.cancelRecorder, this) }, { padding: 0, cells: [{ view: "textarea", height: 50, id: "message" + this.uid, placeholder: _("message"), on: { onKeyPress: webix.bind(this.typing, this) } }, { view: "template", css: "recording", id: "templateRecording" + this.uid, template: '<div class="recording"></div>' }] }, { view: "button", id: "sendMsg" + this.uid, type: "iconTop", icon: "mdi mdi-arrow-right-box", css: "formButton", height: 40, width: 40, click: webix.bind(this.save, this) }] }] }, { view: "button", tooltip: _("back"), type: "iconTop", icon: "mdi mdi-arrow-left-circle", css: "formButton", bottom: 5, right: 30, height: 40, width: 40, click: webix.bind(this.showChats, this) }] }, { view: "abslayout", id: "abslUsersList" + this.uid, cells: [{ view: "dataview", id: "usersList" + this.uid, css: "webix_data_border", xCount: 1, type: { height: "auto", width: "auto" }, relative: !0, on: { onItemClick: webix.bind(this.newChat, this), onViewShow: webix.bind(this.loadUsers, this) }, template: function (e) { return '<div style="position: relative;">\n                ' + ("0" === e.seen ? '<div class="badgeMsg"></div>' : "") + '\n                <span>\n                <img class="' + (e.online ? "photoOnline" : "photo") + '" style="float: left;width:44px;height:44px;" src="' + _api + "user.image?size=24&_id=" + e.id + '">\n                <span style="font-weight: bold" >' + e.name + '</span></br>\n                <span style="">' + (e.position && e.position.length > 25 ? e.position.substring(0, 25) + "..." : e.position || "") + "</span>\n                </span>\n                </div>" } }, { view: "button", tooltip: _("back"), type: "iconTop", icon: "mdi mdi-arrow-left-circle", css: "formButton", bottom: 5, right: 30, height: 40, width: 40, click: webix.bind(this.showChats, this) }] }, { view: "abslayout", id: "abslusersListTeam" + this.uid, cells: [{ relative: !0, rows: [{ view: "text", id: "teamName" + this.uid, placeholder: _("name"), required: !0 }, (t = { view: "dataview", id: "team" + this.uid, css: "webix_data_border", height: 50 }, t.css = "rowsTeam", t.type = { height: 50, width: 60 }, t.relative = !0, t.on = { onItemClick: webix.bind(this.removeUser, this) }, t.template = function (e) { return '<div style="position: relative;">\n                <span title="' + e.name.replace(/(<([^>]+)>)/g, "") + '">\n                <img class="photo" style="float: left;width:44px;height:44px;" src="' + _api + "user.image?size=24&_id=" + e.id + '">\n                </span>\n                </div>' }, t), { view: "dataview", id: "usersListTeam" + this.uid, css: "webix_data_border", xCount: 1, type: { height: "auto", width: "auto" }, relative: !0, on: { onItemClick: webix.bind(this.addUser, this), onViewShow: webix.bind(this.loadUsers, this) }, template: function (e) { return '<div style="position: relative;">\n                ' + ("0" === e.seen ? '<div class="badgeMsg"></div>' : "") + '\n                <span>\n                <img class="' + (e.online ? "photoOnline" : "photo") + '" style="float: left;width:44px;height:44px;" src="' + _api + "user.image?size=24&_id=" + e.id + '">\n                <span style="font-weight: bold" >' + e.name + '</span></br>\n                <span style="">' + (e.position && e.position.length > 25 ? e.position.substring(0, 25) + "..." : e.position || "") + "</span>\n                </span>\n                </div>" } }] }, { view: "button", tooltip: _("create"), type: "iconTop", icon: "mdi mdi-check-circle", css: "formButton", bottom: 105, right: 30, height: 40, width: 40, click: webix.bind(this.newTeam, this) }, { view: "button", tooltip: _("teamProject"), type: "iconTop", icon: "mdi mdi-account-group", css: "formButton", bottom: 55, right: 30, height: 40, width: 40, click: webix.bind(this.showProjects, this) }, { view: "button", tooltip: _("back"), type: "iconTop", icon: "mdi mdi-arrow-left-circle", css: "formButton", bottom: 5, right: 30, height: 40, width: 40, click: webix.bind(this.showChats, this) }] }, { view: "abslayout", id: "abslProjectsList" + this.uid, cells: [{ view: "dataview", relative: !0, id: "projectsList" + this.uid, xCount: 1, type: { height: "auto", width: "auto" }, on: { onItemDblClick: webix.bind(this.newTeamProject, this) }, template: function (e) { return '<div style="position: relative;"><span class="cornerSpan">P</span><div class="triangleCorner"></div>\n                <span title="' + (e.manager && e.manager.name ? e.manager.name : "").replace(/(<([^>]+)>)/g, "") + "\">\n                <img class='photo' style='width:44px;height:44px;' src=\"" + _api + "user.image?size=24&_id=" + e.manager.user + '">\n                <span style="font-weight: bold" >' + e.name + '</span></br>\n                <span style="background-color: orange; color: #fff; display: inline-block; padding-left: 7px; padding-right: 7px; font-weight: bold; font-size: 10px; border-radius: 5px;">' + e.startDate + " - " + e.endDate + "</span>\n                </span>\n                </div>" }, url: _api + "project.list" }, { view: "button", tooltip: _("back"), type: "iconTop", icon: "mdi mdi-arrow-left-circle", css: "formButton", bottom: 5, right: 30, height: 40, width: 40, click: webix.bind(this.showUsersTeam, this) }] }] }] } }, t.prototype.init = function () { var e = this; $$("emoji" + this.uid); var t = $$("emoji" + this.uid).getNode(), i = new EmojiButton; i.on("emoji", (function (t) { var i = $$("message" + e.uid).getValue(); i += t, $$("message" + e.uid).setValue(i) })), t.addEventListener("click", (function () { i.togglePicker(t) })), this.app.socket.on("received", webix.bind((function (t) { var i = e.app.getService("user").getUser(), r = $$("formChat" + e.uid).getValues()._id; for (var o in t.to) { var n = $$("chat" + t.to[o].toString()); if (r && n && t.idChat.toString() === r.toString() && t.from.toString() !== i.user.toString()) { n.add(t.message); var a = n.getLastId(); n.showItem(a), e.app.socket.emit("seenMsg", { user: t.to[o].toString() }), document.getElementById("typing" + e.uid).innerHTML = "", webix.ajax().get(_api + "chat.read?_id=" + r) } } if (t.isNew) { var s = $$("formChat" + e.uid).getValues(); delete s.isNew, $$("formChat" + e.uid).setValues(s), $$("chats" + e.uid).clearAll(), $$("chats" + e.uid).load($$("chats" + e.uid).config.url) } else $$("chats" + e.uid).load($$("chats" + e.uid).config.url).finally((function () { $$("chats" + e.uid).sort("#lastDate#", "desc") })) }), this)), this.app.socket.on("typing", webix.bind((function (t) { var i = document.getElementById("typing" + e.uid), r = $$("formChat" + e.uid).getValues()._id, o = $$("formChat" + e.uid).getValues().team; r && t.idChat.toString() === r.toString() && ("audio" === t.type ? i.innerHTML = o ? t.name + " " + _("recordingAudio") : _("recordingAudio") : i.innerHTML = o ? t.name + " " + _("typing") : _("typing")) }), this)), this.app.socket.on("stopTyping", webix.bind((function (t) { var i = document.getElementById("typing" + e.uid), r = $$("formChat" + e.uid).getValues()._id; r && t.idChat.toString() === r.toString() && (i.innerHTML = "") }), this)), this.app.socket.on("seenMsg", webix.bind((function (t) { var i = e.app.getService("user").getUser(), r = $$("chat" + i.user.toString()); r.find((function (e) { e.actors.findIndex((function (e) { e.user.toString() === t.user.toString() && (e.seen = "1") })), r.updateItem(e.id, e) })) }), this)) }, t.prototype.contactSearch = function () { var e = $$("contactSearch" + this.uid).getValue().toLowerCase(); $$("usersList" + this.uid) && $$("usersList" + this.uid).filter("#name#", e), $$("chats" + this.uid) && $$("chats" + this.uid).filter("#username#", e), $$("usersListTeam" + this.uid) && $$("usersListTeam" + this.uid).filter("#username#", e) }, t.prototype.refreshUserConnected = function () { var e = this; this.idSetTimeOutUsersOnline && clearInterval(this.idSetTimeOutUsersOnline), this.app.socket.on("returnRefreshUserConnected", webix.bind((function (t) { t.users.length && $$("chats" + e.uid) && $$("chats" + e.uid).find((function (i) { t.users.includes(i.user.toString()) ? (i.online = !0, $$("chats" + e.uid).updateItem(i.id, i)) : (delete i.online, $$("chats" + e.uid).updateItem(i.id, i)) }), !0) }), this)), this.app.socket.emit("refreshUserConnected"), this.idSetTimeOutUsersOnline = setInterval((function () { e.app.socket.emit("refreshUserConnected") }), 6e4) }, t.prototype.startRecorder = function () { var e = this, t = this.app.getService("user").getUser(); this.audio_context, this.recorder; try { window.AudioContext = window.AudioContext || window.webkitAudioContext, navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia, window.URL = window.URL || window.webkitURL, this.audio_context = new AudioContext, console.log("Audio context set up."), console.log("navigator.getUserMedia " + (navigator.getUserMedia ? "available." : "not present!")) } catch (e) { alert("No web audio support in this browser!") } navigator.getUserMedia({ audio: !0 }, (function (i) { e.gumStream = i; var r = e.audio_context.createMediaStreamSource(i); console.log("Media stream created."), e.recorder = new Recorder(r, { numChannels: 1 }), console.log("Recorder initialised."); var o = $$("formChat" + e.uid).getValues()._id; $$("templateRecording" + e.uid).show(), $$("templateRecording" + e.uid).setHTML('<div class="recording loading recording1">\n    <span>G</span>\n    <span>r</span>\n    <span>a</span>\n    <span>b</span>\n    <span>a</span>\n    <span>n</span>\n    <span>d</span>\n    <span>o</span>\n    <span>.</span>\n    <span>.</span>\n    <span>.</span>\n    </div>'), e.recorder && e.recorder.record(), console.log("Recording..."), $$("startRecorder" + e.uid).hide(), $$("stopRecorder" + e.uid).show(), $$("cancelRecorder" + e.uid).show(), e.app.socket.emit("typing", { idChat: o, type: "audio", name: t.name }) }), (function (e) { console.log("No live audio input: " + e) })) }, t.prototype.stopRecorder = function () { var e = this, t = $$("formChat" + this.uid).getValues()._id; this.recorder && this.recorder.stop(), this.gumStream.getAudioTracks()[0].stop(), console.log("Stopped recording."), $$("stopRecorder" + this.uid).hide(), $$("cancelRecorder" + this.uid).hide(), $$("templateRecording" + this.uid).setHTML('<div style="float:left;"><div class="recording loading recording1">\n      <span>C</span>\n      <span>a</span>\n      <span>r</span>\n      <span>g</span>\n      <span>a</span>\n      <span>n</span>\n      <span>d</span>\n      <span>o</span>\n      <span>.</span>\n      <span>.</span>\n      <span>.</span>\n      </div><div class="recording" style="background:#ff8080;float:right;"><div id="progress" style="display:none;"></div>\n      <div id="progress-bar" style="background:#CCFF66;" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100">0%</div></div></div>'), this.app.socket.emit("stopTyping", { idChat: t }), this.recorder && this.recorder.exportWAV((function (t) { var i = new FormData; document.getElementById("progress").style.display = "block", i.append("uploadfile", t, (new Date).toISOString() + ".wav"); var r = new XMLHttpRequest; r.open("post", _api + "chat.file", !0), r.upload.onprogress = function (e) { if (e.lengthComputable) { var t = e.loaded / e.total * 100; document.getElementById("progress-bar").style.width = t.toFixed(0) + "%", document.getElementById("progress-bar").innerHTML = t.toFixed(0) + "%" } }, r.onerror = function (e) { alert("An error occurred while submitting the form. Maybe your file is too big") }, r.onload = function () { var t = JSON.parse(r.responseText); if (document.getElementById("progress-bar").style.width = "0%", document.getElementById("progress").style.display = "none", t.id) { var i = '<audio controls preload="none"><source src="/api/file.get?_id=' + t.id + '" type="audio/wav"></audio>'; $$("templateRecording" + e.uid).setHTML('<div class="recording"></div>'), $$("message" + e.uid).show(), $$("startRecorder" + e.uid).show(), e.save(i) } }, r.send(i) })), this.recorder.clear() }, t.prototype.cancelRecorder = function () { var e = $$("formChat" + this.uid).getValues()._id; this.app.socket.emit("stopTyping", { idChat: e }), $$("templateRecording" + this.uid).setHTML('<div class="recording"></div>'), $$("message" + this.uid).show(), $$("stopRecorder" + this.uid).hide(), $$("cancelRecorder" + this.uid).hide(), $$("startRecorder" + this.uid).show(), this.recorder && this.recorder.clear(), this.gumStream && this.gumStream.getAudioTracks()[0].stop() }, t.prototype.showActors = function (e, t) { var i = $$("formChat" + this.uid), r = (i.getValues()._id, i.getValues().actors), o = []; for (var n in r) o.push(r[n].user.toString()); this.popupActors = webix.ui({ view: "popup", body: { view: "datatable", css: "webix_data_border", header: !1, columns: [{ id: "value", sort: "string", width: 200, template: function (e) { return '<span title="' + e.name.replace(/(<([^>]+)>)/g, "") + '"><img class="photo" style="width:24px;height:24px;" src="' + _api + "user.image?size=24&_id=" + e.id + '">' + e.name + "</span>&nbsp" } }], url: _api + "chat.getReviewers?ids=" + o, autowidth: !0, maxHeight: 200 } }), this.popupActors.show(t.srcElement, { pos: "bottom" }) }, t.prototype.image = function () { this.uploaderImg && this.uploaderImg.fileDialog() }, t.prototype.file = function () { this.uploaderFile && this.uploaderFile.fileDialog() }, t.prototype.sendImage = function (e, t) { var i = this; $$("templateRecording" + this.uid).show(), $$("templateRecording" + this.uid).setHTML('<div style="float:left;"><div class="recording loading recording1">\n      <span>C</span>\n      <span>a</span>\n      <span>r</span>\n      <span>g</span>\n      <span>a</span>\n      <span>n</span>\n      <span>d</span>\n      <span>o</span>\n      <span>.</span>\n      <span>.</span>\n      <span>.</span>\n      </div><div class="recording" style="background:#ff8080;float:right;"><div id="progress" style="display:none;"></div>\n      <div id="progress-bar" style="background:#CCFF66;" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100">0%</div></div></div>'); var r = new FormData; document.getElementById("progress").style.display = "block", r.append("uploadfile", e.file, (new Date).toISOString() + "." + e.name); var o = new XMLHttpRequest; o.open("post", _api + "chat.file", !0), o.upload.onprogress = function (e) { if (e.lengthComputable) { var t = e.loaded / e.total * 100; document.getElementById("progress-bar").style.width = t.toFixed(0) + "%", document.getElementById("progress-bar").innerHTML = t.toFixed(0) + "%" } }, o.onerror = function (e) { alert("An error occurred while submitting the form. Maybe your file is too big") }, o.onload = function () { var e = JSON.parse(o.responseText); if (document.getElementById("progress-bar").style.width = "0%", document.getElementById("progress").style.display = "none", e.id) { var t = '<img src="/api/file.get?_id=' + e.id + '&type=png" style="width: 300px;" class="fr-fic fr-dib">'; $$("templateRecording" + i.uid).setHTML('<div class="recording"></div>'), $$("message" + i.uid).show(), i.save(t) } }, o.send(r) }, t.prototype.sendFile = function (e, t) { var i = this; $$("templateRecording" + this.uid).show(), $$("templateRecording" + this.uid).setHTML('<div style="float:left;"><div class="recording loading recording1">\n      <span>C</span>\n      <span>a</span>\n      <span>r</span>\n      <span>g</span>\n      <span>a</span>\n      <span>n</span>\n      <span>d</span>\n      <span>o</span>\n      <span>.</span>\n      <span>.</span>\n      <span>.</span>\n      </div><div class="recording" style="background:#ff8080;float:right;"><div id="progress" style="display:none;"></div>\n      <div id="progress-bar" style="background:#CCFF66;" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100">0%</div></div></div>'); var r = new FormData; document.getElementById("progress").style.display = "block", r.append("uploadfile", e.file, (new Date).toISOString() + "." + e.name); var o = new XMLHttpRequest; o.open("post", _api + "chat.file", !0), o.upload.onprogress = function (e) { if (e.lengthComputable) { var t = e.loaded / e.total * 100; document.getElementById("progress-bar").style.width = t.toFixed(0) + "%", document.getElementById("progress-bar").innerHTML = t.toFixed(0) + "%" } }, o.onerror = function (e) { alert("An error occurred while submitting the form. Maybe your file is too big") }, o.onload = function () { var t = JSON.parse(o.responseText); if (document.getElementById("progress-bar").style.width = "0%", document.getElementById("progress").style.display = "none", t.id) { var r = '<a class="fr-file" href="/api/file.get?_id=' + t.id + '&type=txt" target="_blank">' + e.name + "</a>"; $$("templateRecording" + i.uid).setHTML('<div class="recording"></div>'), $$("message" + i.uid).show(), i.save(r) } }, o.send(r) }, t.prototype.showMsg = function (e) { var t = 0, i = document.getElementById("myModal"), r = document.getElementById("btnLeft"), o = document.getElementById("btnRight"); r.onclick = function () { t - 1 >= 0 && (t -= 1, c.src = u[t].src) }, o.onclick = function () { t + 1 <= u.length - 1 && (t += 1, c.src = u[t].src) }, i.appendChild(r), i.appendChild(o); var n = i.getBoundingClientRect(), a = n.top + window.scrollY, s = n.left + window.scrollX, c = document.getElementById("img01"), l = document.getElementById(e); document.getElementsByClassName("close")[0].onclick = function () { i.style.display = "none" }; var u = []; if (l) { for (var d in l.childNodes) "IMG" == l.childNodes[d].tagName && u.push({ src: l.childNodes[d].src }); u.length && (t = 0, i.style.display = "block", c.style.transition = "transform .5s ease-out", c.onmouseover = function () { c.style.transform = "scale(2.4)" }, c.onmouseout = function () { c.style.transform = "scale(1)" }, c.onmousemove = function (e) { c.style["transform-origin"] = (e.pageX - s) / i.clientWidth * 100 + "% " + (e.pageY - a) / i.clientHeight * 100 + "%" }, c.src = u[0].src, c.alt = u[0].alt) } }, t.prototype.typing = function (e, t) { var i = this.app.getService("user").getUser(), r = $$("message" + this.uid).getValue(), o = $$("formChat" + this.uid).getValues()._id; null !== r && "" !== r && "<br><br>" !== r ? this.app.socket.emit("typing", { idChat: o, name: i.name }) : this.app.socket.emit("stopTyping", { idChat: o }) }, t.prototype.read = function () { this.recorder && this.recorder.clear(), this.gumStream && this.gumStream.getAudioTracks()[0].stop(), $$("templateRecording" + this.uid) && $$("templateRecording" + this.uid).setHTML('<div class="recording"></div>'), $$("message" + this.uid).show(), $$("stopRecorder" + this.uid) && $$("stopRecorder" + this.uid).hide(), $$("cancelRecorder" + this.uid) && $$("cancelRecorder" + this.uid).hide(), $$("startRecorder" + this.uid) && $$("startRecorder" + this.uid).show(); var e = this.app.getService("user").getUser(), t = $$("formChat" + this.uid).getValues()._id, i = $$("formChat" + this.uid).getValues().actors; if (2 === i.length) { var r = i.findIndex((function (t) { return t.user.toString() !== e.user.toString() })), o = i[r], n = webix.ajax().sync().post(_api + "user.getProperties", { _id: o.user, properties: { name: 1 } }); n = JSON.parse(n.responseText); var a = '<div style="position: relative;">\n                <span>\n                <img class="photo" style="float: left;width:44px;height:44px;" src="' + _api + "user.image?size=24&_id=" + n._id + '">\n                <span style="font-weight: bold" >' + n.name.replace(/(<([^>]+)>)/g, "") + '</span></br>\n                <span id="typing' + this.uid + '" style="font-style: oblique; color:red"></span>\n                </span>\n                </div>\n                \x3c!-- The Modal --\x3e\n                  <div id="myModal" class="modal">\n\n                   \x3c!-- The Close Button --\x3e\n                   <span class="close" onclick="document.getElementById(\'myModal\').style.display=\'none\'">&times;</span>\n\n                   \x3c!-- Modal Content (The Image) --\x3e\n                   <div class="tiles">\n                    <img class="modal-content" id="img01">\n                   </div>\n                   \x3c!-- Modal Caption (Image Text) --\x3e\n                   <div id="caption"></div>\n                   <button id="btnLeft" class="w3-button w3-display-left w3-black" ">&#10094;</button>\n                    <button id="btnRight" class="w3-button w3-display-right w3-black" ">&#10095;</button>\n                   </div>'; $$("userImg" + this.uid).setHTML(a) } else { var s = $$("formChat" + this.uid).getValues().name, c = '<div style="position: relative;">\n                <span>\n                <div class="avatar small">\n                 <span>' + this.createNameAvatarTeam(s) + '</span>\n                </div>\n                <span style="font-weight: bold" >' + s + '</span></br>\n                <span id="typing' + this.uid + '" style="font-style: oblique; color:red"></span>\n                </span>\n                </div>\n                \x3c!-- The Modal --\x3e\n                  <div id="myModal" class="modal">\n\n                   \x3c!-- The Close Button --\x3e\n                   <span class="close" onclick="document.getElementById(\'myModal\').style.display=\'none\'">&times;</span>\n\n                   \x3c!-- Modal Content (The Image) --\x3e\n                   <div class="tiles">\n                    <img class="modal-content" id="img01">\n                   </div>\n                   \x3c!-- Modal Caption (Image Text) --\x3e\n                   <div id="caption"></div>\n                   <button id="btnLeft" class="w3-button w3-display-left w3-black" ">&#10094;</button>\n                    <button id="btnRight" class="w3-button w3-display-right w3-black" ">&#10095;</button>\n                   </div>'; $$("userImg" + this.uid).setHTML(c) } this.app.socket.emit("seenMsg", { user: e.user.toString() }); var l = $$("chat" + e.user.toString()).getLastId(); $$("chat" + e.user.toString()).showItem(l), webix.ajax().get(_api + "chat.read?_id=" + t) }, t.prototype.createNameAvatarTeam = function (e) { return e.split(" ").map((function (e) { return e.charAt(0) })).slice(0, 2).join("") }, t.prototype.showChats = function (e, t) { $$("toolbarContactSearch" + this.uid).show(), $$("abslChats" + this.uid).show(), $$("chats" + this.uid).clearAll(), $$("chats" + this.uid).load($$("chats" + this.uid).config.url) }, t.prototype.showProjects = function (e, t) { $$("toolbarContactSearch" + this.uid).show(), $$("abslProjectsList" + this.uid).show(), $$("projectsList" + this.uid).clearAll(), $$("projectsList" + this.uid).load($$("projectsList" + this.uid).config.url) }, t.prototype.loadUsers = function () { var e = this, t = this.app.getService("user").getUser(); this.app.socket.on("returnUsersConnected", webix.bind((function (t) { t.users.length && ($$("usersList" + e.uid) && ($$("usersList" + e.uid).show(), $$("usersList" + e.uid).clearAll(), $$("usersList" + e.uid).parse(t.users)), $$("usersListTeam" + e.uid) && ($$("usersListTeam" + e.uid).show(), $$("usersListTeam" + e.uid).clearAll(), $$("usersListTeam" + e.uid).parse(t.users))) }), this)), this.app.socket.emit("usersConnected", t.user.toString()) }, t.prototype.showUsers = function () { $$("toolbarContactSearch" + this.uid).show(), $$("abslUsersList" + this.uid).show() }, t.prototype.showUsersTeam = function () { $$("toolbarContactSearch" + this.uid).show(), $$("abslusersListTeam" + this.uid).show() }, t.prototype.addUser = function (e) { var t = $$("usersListTeam" + this.uid), i = $$("team" + this.uid); if (!i.exists(e)) { var r = t.getItem(e); i.add(r) } }, t.prototype.removeUser = function (e) { $$("team" + this.uid).remove(e) }, t.prototype.openChat = function (e) { $$("toolbarContactSearch" + this.uid).hide(), $$("abslFormChat" + this.uid).show(), $$("formChat" + this.uid).load(_api + "chat.get?_id=" + e); var t = $$("chats" + this.uid), i = t.getItem(e); i.seen = "1", t.updateItem(e, i) }, t.prototype.newChat = function (e) { var t = this.app.getService("user").getUser(), i = webix.ajax().sync().post(_api + "chat.findChat", { user1: e, user2: t.user.toString() }), r = "" !== i.responseText && JSON.parse(i.responseText); $$("abslFormChat" + this.uid).show(), r ? $$("formChat" + this.uid).load(_api + "chat.get?_id=" + r._id) : $$("formChat" + this.uid).load(_api + "chat.get?user=" + e) }, t.prototype.newTeam = function () { var e = $$("team" + this.uid), t = $$("teamName" + this.uid).getValue(), i = []; t ? (e.find((function (e) { i.push(e.id) })), i.length >= 2 ? ($$("abslFormChat" + this.uid).show(), $$("formChat" + this.uid).load((function () { return webix.ajax().post(_api + "chat.newTeam", { team: i, name: t }) }))) : webix.message("Debe seleccionar 2 o más participantes")) : webix.message("Debe asignar un nombre al grupo") }, t.prototype.newTeamProject = function (e) { $$("abslFormChat" + this.uid).show(), $$("abslFormChat" + this.uid).show(), $$("formChat" + this.uid).load((function () { return webix.ajax().post(_api + "chat.newTeam", { project: e }) })) }, t.prototype.save = function (e) { var t = this.app.getService("user").getUser(), i = $$("formChat" + this.uid).getValues(), r = $$("message" + this.uid).getValue().replace(/(\r\n|\n|\r)/gm, "<br />"), o = e && !e.includes("sendMsg") ? e : r; if (null !== o && "" !== o && "<br><br>" !== o) { var n = []; for (var a in i.actors) if (i.actors[a].user.toString() !== t.user.toString()) { var s = JSON.parse(JSON.stringify(i.actors[a])); s.seen = "0", n.push(s) } var c = { message: o, actors: n, date: new Date, user: t.user, name: t.name }; $$("chat" + t.user.toString()).add(c); var l = $$("chat" + t.user.toString()).getLastId(); $$("chat" + t.user.toString()).showItem(l), i = $$("formChat" + this.uid).getValues(); var u = []; n.findIndex((function (e) { e.user.toString() !== t.user.toString() && u.push(e.user.toString()) })); this.app.socket.emit("chat message", { _id: i._id, chat: i, message: c, to: u, from: t.user.toString(), fromName: t.name }), $$("message" + this.uid).setValue(""), (c = document.getElementById("typing" + this.uid)).innerHTML = "", $$("message" + this.uid).focus() } }, t }(r.c); t.default = a }, function (e, t) { webix.protoUI({ name: "dataviewBasic", setValue: function (e) { this.clearAll(), (e || e.length > 1) && this.parse(e) }, getValue: function () { return this.serialize() } }, webix.ui.dataview) }, function (e, t, i) { "use strict"; function r(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } i.r(t); var n = function (e) { function t() { return r(this, t), o(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e, t = this; moment.locale("es"); var i = this.app.getService("user").getUser(); return this.uid = "." + i.user.toString(), this.uploaderFile = webix.ui({ id: "uploadFile" + this.uid, view: "uploader", accept: "text/plain, text/html, application/vnd.ms-excel, application/pdf, application/zip, application/x-7z-compressed, application/x-rar-compressed, video/x-msvideo, application/msword, application/vnd.oasis.opendocument.spreadsheet, application/vnd.oasis.opendocument.text, application/vnd.ms-powerpoint", name: "uploader", apiOnly: !0, on: { onAfterFileAdd: webix.bind(this.sendFile, this) } }), { id: "abslFormChat" + this.uid, view: "abslayout", rows: [{ view: "form", padding: 0, relative: !0, id: "formChat" + this.uid, on: { onValues: webix.bind(this.read, this) }, elements: [{ cols: [{ view: "template", id: "userImg" + this.uid, template: "", borderless: !0, height: 50, padding: 0 }, { view: "button", id: "actorsChat" + this.uid, icon: "mdi mdi-information-outline", type: "iconTop", width: 40, height: 40, click: webix.bind(this.showActors, this) }] }, { view: "dataviewBasic", id: "chat" + i.user.toString(), name: "messages", select: !1, xCount: 1, autoheigth: 1, type: { width: "auto", height: "auto" }, on: { onItemClick: webix.bind(this.showMsg, this) }, template: function (e) { if ("file" === e.type && (e.message = '<a class="fr-file" href="' + _api + "file.get?_id=" + e.fileId + '&type=txt" onclick="return false;">' + e.fileName + "</a>"), "image" === e.type && (e.message = '<img src="' + _api + "file.get?_id=" + e.fileId + '&type=png" style="max-width: 100%; max-height: 100%;" class="fr-fic fr-dib">'), "audio" === e.type && (e.message = '<audio controls preload="none"><source src="' + _api + "file.get?_id=" + e.fileId + '"></audio>'), i.user.toString() === e.user.toString()) { var r = e.actors.findIndex((function (e) { return "0" === e.seen })); return '<div id="' + e.id + '" class="message sent">\n                          ' + e.message + '\n                          <span class="metadata">\n                            ' + (-1 !== r ? '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" id="msg-dblcheck" x="2047" y="2061"><path d="M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.88a.32.32 0 0 1-.484.032l-.358-.325a.32.32 0 0 0-.484.032l-.378.48a.418.418 0 0 0 .036.54l1.32 1.267a.32.32 0 0 0 .484-.034l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.88a.32.32 0 0 1-.484.032L1.892 7.77a.366.366 0 0 0-.516.005l-.423.433a.364.364 0 0 0 .006.514l3.255 3.185a.32.32 0 0 0 .484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z" fill="#92a58c"/></svg>' : '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" id="msg-dblcheck-ack" x="2063" y="2076"><path d="M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.88a.32.32 0 0 1-.484.032l-.358-.325a.32.32 0 0 0-.484.032l-.378.48a.418.418 0 0 0 .036.54l1.32 1.267a.32.32 0 0 0 .484-.034l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.88a.32.32 0 0 1-.484.032L1.892 7.77a.366.366 0 0 0-.516.005l-.423.433a.364.364 0 0 0 .006.514l3.255 3.185a.32.32 0 0 0 .484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z" fill="#02c92a"/></svg>') + '\n                          \n                              <span class="time">' + moment(e.date).format("DD MMM YYYY h:mm a") + "</span>\n                          </span>\n                        </div>" } var o = $$("formChat" + t.uid).getValues().actors, n = void 0; return o.findIndex((function (t) { t.user.toString() === e.user.toString() && (n = t.color) })), n ? '<div id="' + e.id + '" class="message received">\n                        <div style="color: ' + n + '" class="nameMsgTeam">' + e.name + "</div></br>\n                          " + e.message + '\n                          <span class="metadata"><span class="time">' + moment(e.date).format("DD MMM YYYY h:mm a") + "</span></span>\n                        </div>" : '<div id="' + e.id + '" class="message received">\n                          ' + e.message + '\n                          <span class="metadata"><span class="time">' + moment(e.date).format("DD MMM YYYY h:mm a") + "</span></span>\n                          </div>" }, css: "rowsChat", relative: !0 }, { view: "toolbar", cols: [(e = { view: "button", css: { "z-index": 1e17 }, id: "emoji" + this.uid, type: "iconTop", icon: "mdi mdi-sticker-emoji" }, e.css = "toolbarButton", e.height = 40, e.width = 40, e), { view: "button", icon: "mdi mdi-image", type: "iconTop", css: "toolbarButton", width: 40, height: 40, click: webix.bind(this.image, this) }, { view: "button", icon: "mdi mdi-paperclip", type: "iconTop", css: "toolbarButton", width: 40, height: 40, click: webix.bind(this.file, this) }, { view: "button", icon: "mdi mdi-microphone", css: "toolbarButton", id: "startRecorder" + this.uid, type: "iconTop", width: 40, height: 40, click: webix.bind(this.startRecorder, this) }, { padding: 0, cells: [{ view: "textarea", height: 50, id: "message" + this.uid, placeholder: _("message"), on: { onKeyPress: webix.bind(this.typing, this) } }, { view: "template", css: "recording", id: "templateRecording" + this.uid, template: '<div class="recording"></div>' }] }, { view: "button", id: "sendMsg" + this.uid, type: "iconTop", icon: "mdi mdi-arrow-right-box", css: "toolbarButton", height: 40, width: 40, click: webix.bind(this.save, this) }] }] }] } }, t.prototype.init = function () { var e = this, t = this.getParam("_id", !0), i = this.getParam("user", !0), r = this.getParam("newTeam", !0), o = this.getParam("newTeamProject", !0); t ? $$("formChat" + this.uid).load(_api + "chat.get?_id=" + t) : i ? $$("formChat" + this.uid).load(_api + "chat.get?user=" + i) : r ? $$("formChat" + this.uid).load((function () { return webix.ajax().post(_api + "chat.newTeam", r) })) : o && $$("formChat" + this.uid).load((function () { return webix.ajax().post(_api + "chat.newTeam", { project: t }) })), $$("emoji" + this.uid); var n = $$("emoji" + this.uid).getNode(), a = new EmojiButton; a.on("emoji", (function (t) { var i = $$("message" + e.uid).getValue(); i += t, $$("message" + e.uid).setValue(i) })), n.addEventListener("click", (function () { a.togglePicker(n) })), this.app.socket.on("received", webix.bind((function (t) { var i = e.app.getService("user").getUser(), r = $$("formChat" + e.uid).getValues()._id; for (var o in t.to) { var n = $$("chat" + t.to[o].toString()); if (r && n && t.idChat.toString() === r.toString() && t.from.toString() !== i.user.toString()) { n.add(t.message); var a = n.getLastId(); n.showItem(a), e.app.socket.emit("seenMsg", { user: t.to[o].toString() }), document.getElementById("typing" + e.uid).innerHTML = "", webix.ajax().get(_api + "chat.read?_id=" + r) } } if (t.isNew) { var s = $$("formChat" + e.uid).getValues(); delete s.isNew, $$("formChat" + e.uid).setValues(s), $$("chats" + e.uid).clearAll(), $$("chats" + e.uid).load($$("chats" + e.uid).config.url) } else $$("chats" + e.uid).load($$("chats" + e.uid).config.url).finally((function () { $$("chats" + e.uid).sort("#lastDate#", "desc") })) }), this)), this.app.socket.on("typing", webix.bind((function (t) { var i = document.getElementById("typing" + e.uid), r = $$("formChat" + e.uid).getValues()._id, o = $$("formChat" + e.uid).getValues().team; r && t.idChat.toString() === r.toString() && ("audio" === t.type ? i.innerHTML = o ? t.name + " " + _("recordingAudio") : _("recordingAudio") : i.innerHTML = o ? t.name + " " + _("typing") : _("typing")) }), this)), this.app.socket.on("stopTyping", webix.bind((function (t) { var i = document.getElementById("typing" + e.uid), r = $$("formChat" + e.uid).getValues()._id; r && t.idChat.toString() === r.toString() && (i.innerHTML = "") }), this)), this.app.socket.on("seenMsg", webix.bind((function (t) { var i = e.app.getService("user").getUser(), r = $$("chat" + i.user.toString()); r.find((function (e) { e.actors.findIndex((function (e) { e.user.toString() === t.user.toString() && (e.seen = "1") })), r.updateItem(e.id, e) })) }), this)) }, t.prototype.read = function () { $$("templateRecording" + this.uid) && $$("templateRecording" + this.uid).setHTML('<div class="recording"></div>'), $$("message" + this.uid).show(), $$("startRecorder" + this.uid) && $$("startRecorder" + this.uid).show(); var e = this.app.getService("user").getUser(), t = $$("formChat" + this.uid).getValues()._id, i = $$("formChat" + this.uid).getValues().actors; if (2 === i.length) { var r = i.findIndex((function (t) { return t.user.toString() !== e.user.toString() })), o = i[r], n = webix.ajax().sync().post(_api + "user.getProperties", { _id: o.user, properties: { name: 1 } }); n = JSON.parse(n.responseText); var a = '<div style="position: relative;">\n                <span>\n                <img class="photo" style="float: left;width:44px;height:44px;" src="' + _api + "user.image?size=24&_id=" + n._id + '">\n                <span style="font-weight: bold" >' + n.name.replace(/(<([^>]+)>)/g, "") + '</span></br>\n                <span id="typing' + this.uid + '" style="font-style: oblique; color:red"></span>\n                </span>\n                </div>\n                \x3c!-- The Modal --\x3e\n                  <div id="myModal" class="modal">\n\n                   \x3c!-- The Close Button --\x3e\n                   <span class="close" onclick="document.getElementById(\'myModal\').style.display=\'none\'">&times;</span>\n\n                   \x3c!-- Modal Content (The Image) --\x3e\n                   <div class="tiles">\n                    <img class="modal-content" id="img01">\n                   </div>\n                   \x3c!-- Modal Caption (Image Text) --\x3e\n                   <div id="caption"></div>\n                   <button id="btnLeft" class="w3-button w3-display-left w3-black" ">&#10094;</button>\n                    <button id="btnRight" class="w3-button w3-display-right w3-black" ">&#10095;</button>\n                   </div>'; $$("userImg" + this.uid).setHTML(a) } else { var s = $$("formChat" + this.uid).getValues().name, c = '<div style="position: relative;">\n                <span>\n                <div class="avatar small">\n                 <span>' + this.createNameAvatarTeam(s) + '</span>\n                </div>\n                <span style="font-weight: bold" >' + s + '</span></br>\n                <span id="typing' + this.uid + '" style="font-style: oblique; color:red"></span>\n                </span>\n                </div>\n                \x3c!-- The Modal --\x3e\n                  <div id="myModal" class="modal">\n\n                   \x3c!-- The Close Button --\x3e\n                   <span class="close" onclick="document.getElementById(\'myModal\').style.display=\'none\'">&times;</span>\n\n                   \x3c!-- Modal Content (The Image) --\x3e\n                   <div class="tiles">\n                    <img class="modal-content" id="img01">\n                   </div>\n                   \x3c!-- Modal Caption (Image Text) --\x3e\n                   <div id="caption"></div>\n                   <button id="btnLeft" class="w3-button w3-display-left w3-black" ">&#10094;</button>\n                    <button id="btnRight" class="w3-button w3-display-right w3-black" ">&#10095;</button>\n                   </div>'; $$("userImg" + this.uid).setHTML(c) } this.app.socket.emit("seenMsg", { user: e.user.toString() }); var l = $$("chat" + e.user.toString()).getLastId(); $$("chat" + e.user.toString()).showItem(l), webix.ajax().get(_api + "chat.read?_id=" + t) }, t.prototype.createNameAvatarTeam = function (e) { return e.split(" ").map((function (e) { return e.charAt(0) })).slice(0, 2).join("") }, t.prototype.startRecorder = function () { var e = this.app.getService("user").getUser(); navigator.device.audiorecorder.recordAudio(webix.bind(this.stopRecorder, this), webix.bind(this.cancelRecorder, this)); var t = $$("formChat" + this.uid).getValues()._id; $$("templateRecording" + this.uid).show(), $$("templateRecording" + this.uid).setHTML('<div class="recording loading recording1">\n    <span>G</span>\n    <span>r</span>\n    <span>a</span>\n    <span>b</span>\n    <span>a</span>\n    <span>n</span>\n    <span>d</span>\n    <span>o</span>\n    <span>.</span>\n    <span>.</span>\n    <span>.</span>\n    </div>'), this.app.socket.emit("typing", { idChat: t, type: "audio", name: e.name }) }, t.prototype.stopRecorder = function (e) { var t = this; e = JSON.parse(e); var i = $$("formChat" + this.uid).getValues()._id; console.log("Stopped recording."), $$("templateRecording" + this.uid).setHTML('<div style="float:left;"><div class="recording loading recording1">\n      <span>C</span>\n      <span>a</span>\n      <span>r</span>\n      <span>g</span>\n      <span>a</span>\n      <span>n</span>\n      <span>d</span>\n      <span>o</span>\n      <span>.</span>\n      <span>.</span>\n      <span>.</span>\n      </div><div class="recording" style="background:#ff8080;float:right;"><div id="progress" style="display:none;"></div>\n      <div id="progress-bar" style="background:#CCFF66;" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100">0%</div></div></div>'), this.app.socket.emit("stopTyping", { idChat: i }); var r = new FileTransfer, o = e.full_path, n = e.file_name; r.onprogress = function (e) { if (e.lengthComputable) { var t = e.loaded / e.total * 100; document.getElementById("progress-bar").style.width = t.toFixed(0) + "%", document.getElementById("progress-bar").innerHTML = t.toFixed(0) + "%" } }, r.upload(o, encodeURI(_api + "chat.file"), webix.bind((function (e) { var i = JSON.parse(e.response); if (document.getElementById("progress-bar").style.width = "0%", document.getElementById("progress").style.display = "none", i.id) { var r = { fileId: i.id, type: "audio" }; $$("templateRecording" + t.uid).setHTML('<div class="recording"></div>'), $$("message" + t.uid).show(), $$("startRecorder" + t.uid).show(), t.save(r) } console.log("Upload success: " + e.responseCode), console.log(e.bytesSent + " bytes sent") }), this), (function (e) { navigator.notification.alert("Error uploading file " + o + ": " + e.code) }), { fileName: n }) }, t.prototype.cancelRecorder = function () { var e = $$("formChat" + this.uid).getValues()._id; this.app.socket.emit("stopTyping", { idChat: e }), $$("templateRecording" + this.uid).setHTML('<div class="recording"></div>'), $$("message" + this.uid).show(), $$("startRecorder" + this.uid).show() }, t.prototype.showActors = function (e, t) { var i = $$("formChat" + this.uid), r = (i.getValues()._id, i.getValues().actors), o = []; for (var n in r) o.push(r[n].user.toString()); this.popupActors = webix.ui({ view: "popup", body: { view: "datatable", css: "webix_data_border", header: !1, columns: [{ id: "value", sort: "string", width: 200, template: function (e) { return '<span title="' + e.name.replace(/(<([^>]+)>)/g, "") + '"><img class="photo" style="width:24px;height:24px;" src="' + _api + "user.image?size=24&_id=" + e.id + '">' + e.name + "</span>&nbsp" } }], url: _api + "chat.getReviewers?ids=" + o, autowidth: !0, maxHeight: 200 } }), this.popupActors.show(t.srcElement, { pos: "bottom" }) }, t.prototype.image = function () { var e = this, t = {}; function i(e) { "No Image Selected" !== e && alert("Failed because: " + e) } navigator.notification.confirm("", (function (r) { 1 === r ? t = { quality: 50, destinationType: Camera.DestinationType.FILE_URI, sourceType: Camera.PictureSourceType.CAMERA, encodingType: Camera.EncodingType.JPEG, mediaType: Camera.MediaType.PICTURE, correctOrientation: !0 } : 2 === r && (t = { quality: 50, destinationType: Camera.DestinationType.FILE_URI, sourceType: Camera.PictureSourceType.PHOTOLIBRARY, encodingType: Camera.EncodingType.JPEG, mediaType: Camera.MediaType.PICTURE, correctOrientation: !0 }), r && navigator.camera.getPicture(webix.bind(e.sendImage, e), i, t) }), _("Insert") + "...", ["Hacer foto", "Desde galería"]) }, t.prototype.file = function () { this.uploaderFile && this.uploaderFile.fileDialog() }, t.prototype.sendImage = function (e) { var t = this; $$("templateRecording" + this.uid).show(), $$("templateRecording" + this.uid).setHTML('<div style="float:left;"><div class="recording loading recording1">\n      <span>C</span>\n      <span>a</span>\n      <span>r</span>\n      <span>g</span>\n      <span>a</span>\n      <span>n</span>\n      <span>d</span>\n      <span>o</span>\n      <span>.</span>\n      <span>.</span>\n      <span>.</span>\n      </div><div class="recording" style="background:#ff8080;float:right;"><div id="progress" style="display:none;"></div>\n      <div id="progress-bar" style="background:#CCFF66;" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100">0%</div></div></div>'); var i = new FileTransfer, r = e, o = (new Date).toISOString() + ".JPEG"; i.onprogress = function (e) { if (e.lengthComputable) { var t = e.loaded / e.total * 100; document.getElementById("progress-bar").style.width = t.toFixed(0) + "%", document.getElementById("progress-bar").innerHTML = t.toFixed(0) + "%" } }, i.upload(r, encodeURI(_api + "chat.file"), webix.bind((function (e) { var i = JSON.parse(e.response); if (document.getElementById("progress-bar").style.width = "0%", document.getElementById("progress").style.display = "none", i.id) { var r = { fileId: i.id, type: "image" }; $$("templateRecording" + t.uid).setHTML('<div class="recording"></div>'), $$("message" + t.uid).show(), t.save(r) } console.log("Upload success: " + e.responseCode), console.log(e.bytesSent + " bytes sent") }), this), (function (e) { navigator.notification.alert("Error uploading file " + r + ": " + e.code) }), { fileName: o }) }, t.prototype.sendFile = function (e, t) { var i = this; $$("templateRecording" + this.uid).show(), $$("templateRecording" + this.uid).setHTML('<div style="float:left;"><div class="recording loading recording1">\n      <span>C</span>\n      <span>a</span>\n      <span>r</span>\n      <span>g</span>\n      <span>a</span>\n      <span>n</span>\n      <span>d</span>\n      <span>o</span>\n      <span>.</span>\n      <span>.</span>\n      <span>.</span>\n      </div><div class="recording" style="background:#ff8080;float:right;"><div id="progress" style="display:none;"></div>\n      <div id="progress-bar" style="background:#CCFF66;" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100">0%</div></div></div>'); var r = new FormData; document.getElementById("progress").style.display = "block", r.append("uploadfile", e.file, (new Date).toISOString() + "." + e.name); var o = new XMLHttpRequest; o.open("post", _api + "chat.file", !0), o.upload.onprogress = function (e) { if (e.lengthComputable) { var t = e.loaded / e.total * 100; document.getElementById("progress-bar").style.width = t.toFixed(0) + "%", document.getElementById("progress-bar").innerHTML = t.toFixed(0) + "%" } }, o.onerror = function (e) { alert("An error occurred while submitting the form. Maybe your file is too big") }, o.onload = function () { var t = JSON.parse(o.responseText); if (document.getElementById("progress-bar").style.width = "0%", document.getElementById("progress").style.display = "none", t.id) { var r = { fileId: t.id, fileName: e.name, type: "file" }; $$("templateRecording" + i.uid).setHTML('<div class="recording"></div>'), $$("message" + i.uid).show(), i.save(r) } }, o.send(r) }, t.prototype.typing = function (e, t) { var i = this.app.getService("user").getUser(), r = $$("message" + this.uid).getValue(), o = $$("formChat" + this.uid).getValues()._id; null !== r && "" !== r && "<br><br>" !== r ? this.app.socket.emit("typing", { idChat: o, name: i.name }) : this.app.socket.emit("stopTyping", { idChat: o }) }, t.prototype.save = function (e) { var t = this.app.getService("user").getUser(), i = $$("formChat" + this.uid).getValues(), r = $$("message" + this.uid).getValue().replace(/(\r\n|\n|\r)/gm, "<br />"), o = e.type ? "" : e && !e.includes("sendMsg") ? e : r; if (null !== o && "" !== o && "<br><br>" !== o || e.type) { var n = []; for (var a in i.actors) if (i.actors[a].user.toString() !== t.user.toString()) { var s = JSON.parse(JSON.stringify(i.actors[a])); s.seen = "0", n.push(s) } var c = { message: o, actors: n, date: new Date, user: t.user, name: t.name }; e.type && (c.type = e.type), e.fileId && (c.fileId = e.fileId), e.fileName && (c.fileName = e.fileName), $$("chat" + t.user.toString()).add(c); var l = $$("chat" + t.user.toString()).getLastId(); $$("chat" + t.user.toString()).showItem(l), i = $$("formChat" + this.uid).getValues(); var u = []; n.findIndex((function (e) { e.user.toString() !== t.user.toString() && u.push(e.user.toString()) })); this.app.socket.emit("chat message", { _id: i._id, chat: i, message: c, to: u, from: t.user.toString(), fromName: t.name }), $$("message" + this.uid).setValue(""), (c = document.getElementById("typing" + this.uid)).innerHTML = "", $$("message" + this.uid).focus() } }, t }(i(0).c); t.default = n }, function (e, t, i) { "use strict"; i.r(t); var r = i(0), o = (i(12), i(1)); function n(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function a(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var s = function (e) { function t() { return n(this, t), a(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e = this; moment.locale("es"); var t = this.app.getService("user").getUser(); return this.uid = "." + t.user.toString(), { rows: [Object(o.a)(_("Chats")), { view: "toolbar", id: "toolbarContactSearch" + this.uid, relative: !0, elements: [{ view: "text", id: "contactSearch" + this.uid, on: { onTimedKeyPress: webix.bind(this.contactSearch, this) } }] }, { id: "abslChats" + this.uid, view: "abslayout", rows: [{ view: "dataview", id: "chats" + this.uid, css: "webix_data_border", xCount: 1, type: { height: "auto", width: "auto" }, relative: !0, on: { onItemClick: webix.bind(this.openChat, this), onAfterLoad: webix.bind(this.refreshUserConnected, this), onDestruct: function () { clearInterval(e.idSetTimeOutUsersOnline) } }, template: function (t) { return t.team ? '<div style="position: relative;">\n                          ' + ("0" === t.seen ? '<div class="badgeMsg"></div>' : "") + '\n                          <div style="float: right">' + moment(t.date).startOf("second").fromNow() + '</div>\n                          <span>\n                          <div class="avatar small">\n                          <span>' + e.createNameAvatarTeam(t.username) + '</span>\n                          </div>\n                          <span style="font-weight: bold" >' + t.username + '</span></br>\n                          <span style="font-weight:' + ("0" === t.seen ? "bold" : "normal") + '">' + (t.lastMsg.length > 25 ? t.lastMsg.substring(0, 25) + "..." : t.lastMsg) + "</span>\n                          </span>\n                          </div>" : '<div style="position: relative;">\n                          ' + ("0" === t.seen ? '<div class="badgeMsg"></div>' : "") + '\n                          <div style="float: right">' + moment(t.date).startOf("second").fromNow() + '</div>\n                          <span>\n                          <img class="' + (t.online ? "photoOnline" : "photo") + '" style="float: left;width:44px;height:44px;" src="' + _api + "user.image?size=24&_id=" + t.user + '">\n                          <span style="font-weight: bold" >' + t.username + '</span></br>\n                          <span style="font-weight:' + ("0" === t.seen ? "bold" : "normal") + '">' + (t.lastMsg.length > 25 ? t.lastMsg.substring(0, 25) + "..." : t.lastMsg) + "</span>\n                          </span>\n                          </div>" }, url: _api + "chat.list?" }, { view: "button", tooltip: _("newTeam"), type: "iconTop", icon: "mdi mdi-account-multiple-plus", css: "formButton", bottom: 55, right: 30, height: 40, width: 40, click: webix.bind(this.showUsersTeam, this) }, { view: "button", tooltip: _("newChat"), type: "iconTop", icon: "mdi mdi-message-text", css: "formButton", bottom: 5, right: 30, height: 40, width: 40, click: webix.bind(this.showUsers, this) }] }] } }, t.prototype.init = function () { var e = this; this.app.socket.on("received", webix.bind((function (t) { var i = "." + e.app.getService("user").getUser().user.toString(); $$("chats" + i).isVisible() && (t.isNew ? ($$("chats" + i).clearAll(), $$("chats" + i).load($$("chats" + i).config.url)) : $$("chats" + i).load($$("chats" + i).config.url).finally((function () { $$("chats" + i).sort("#lastDate#", "desc") }))) }), this)) }, t.prototype.contactSearch = function () { var e = $$("contactSearch" + this.uid).getValue().toLowerCase(); $$("usersList" + this.uid) && $$("usersList" + this.uid).filter("#name#", e), $$("chats" + this.uid) && $$("chats" + this.uid).filter("#username#", e), $$("usersListTeam" + this.uid) && $$("usersListTeam" + this.uid).filter("#username#", e) }, t.prototype.refreshUserConnected = function () { var e = this; this.idSetTimeOutUsersOnline && clearInterval(this.idSetTimeOutUsersOnline), this.app.socket.on("returnRefreshUserConnected", webix.bind((function (t) { t.users.length && $$("chats" + e.uid) && $$("chats" + e.uid).find((function (i) { t.users.includes(i.user.toString()) ? (i.online = !0, $$("chats" + e.uid).updateItem(i.id, i)) : (delete i.online, $$("chats" + e.uid).updateItem(i.id, i)) }), !0) }), this)), this.app.socket.emit("refreshUserConnected"), this.idSetTimeOutUsersOnline = setInterval((function () { e.app.socket.emit("refreshUserConnected") }), 6e4) }, t.prototype.createNameAvatarTeam = function (e) { return e.split(" ").map((function (e) { return e.charAt(0) })).slice(0, 2).join("") }, t.prototype.showUsers = function () { this.app.multiShow("chat.userList", "chat.userList") }, t.prototype.showUsersTeam = function () { this.app.multiShow("chat.userListTeam", "chat.userListTeam") }, t.prototype.openChat = function (e) { var t = $$("chats" + this.uid).getItem(e); t.seen = "1", $$("chats" + this.uid).updateItem(e, t), this.app.multiShow("chat.chat?_id=" + e, e) }, t }(r.c); t.default = s }, function (e, t, i) { "use strict"; function r(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } i.r(t); var n = function (e) { function t() { return r(this, t), o(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e = this.app.getService("user").getUser(); return this.uid = "." + e.user.toString(), { rows: [{ view: "toolbar", id: "toolbarContactSearch" + this.uid, relative: !0, elements: [{ view: "text", id: "contactSearch" + this.uid, on: { onTimedKeyPress: webix.bind(this.contactSearch, this) } }] }, { view: "abslayout", id: "abslProjectsList" + this.uid, cells: [{ view: "dataview", relative: !0, id: "projectsList" + this.uid, xCount: 1, type: { height: "auto", width: "auto" }, on: { onItemDblClick: webix.bind(this.newTeamProject, this) }, template: function (e) { return '<div style="position: relative;"><span class="cornerSpan">P</span><div class="triangleCorner"></div>\n                <span title="' + (e.manager && e.manager.name ? e.manager.name : "").replace(/(<([^>]+)>)/g, "") + "\">\n                <img class='photo' style='width:44px;height:44px;' src=\"" + _api + "user.image?size=24&_id=" + e.manager.user + '">\n                <span style="font-weight: bold" >' + e.name + '</span></br>\n                <span style="background-color: orange; color: #fff; display: inline-block; padding-left: 7px; padding-right: 7px; font-weight: bold; font-size: 10px; border-radius: 5px;">' + e.startDate + " - " + e.endDate + "</span>\n                </span>\n                </div>" }, url: _api + "project.list" }] }] } }, t.prototype.contactSearch = function () { $$("contactSearch" + this.uid).getValue().toLowerCase() }, t.prototype.newTeamProject = function (e) { this.app.multiShow("chat.chat?newTeamProject=" + { project: e }, e) }, t }(i(0).c); t.default = n }, function (e, t, i) { "use strict"; function r(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } i.r(t); var n = function (e) { function t() { return r(this, t), o(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e = this.app.getService("user").getUser(); return this.uid = "." + e.user.toString(), { rows: [{ view: "toolbar", id: "toolbarContactSearch" + this.uid, relative: !0, elements: [{ view: "text", id: "contactSearch" + this.uid, on: { onTimedKeyPress: webix.bind(this.contactSearch, this) } }] }, { view: "abslayout", id: "abslUsersList" + this.uid, cells: [{ view: "dataview", id: "usersList" + this.uid, css: "webix_data_border", xCount: 1, type: { height: "auto", width: "auto" }, relative: !0, on: { onItemClick: webix.bind(this.newChat, this), onAfterRender: webix.once(webix.bind(this.loadUsers, this)) }, template: function (e) { return '<div style="position: relative;">\n                ' + ("0" === e.seen ? '<div class="badgeMsg"></div>' : "") + '\n                <span>\n                <img class="' + (e.online ? "photoOnline" : "photo") + '" style="float: left;width:44px;height:44px;" src="' + _api + "user.image?size=24&_id=" + e.id + '">\n                <span style="font-weight: bold" >' + e.name + '</span></br>\n                <span style="">' + (e.position && e.position.length > 25 ? e.position.substring(0, 25) + "..." : e.position || "") + "</span>\n                </span>\n                </div>" } }] }] } }, t.prototype.contactSearch = function () { var e = $$("contactSearch" + this.uid).getValue().toLowerCase(); $$("usersList" + this.uid).filter("#name#", e) }, t.prototype.newChat = function (e) { var t = this.app.getService("user").getUser(), i = webix.ajax().sync().post(_api + "chat.findChat", { user1: e, user2: t.user.toString() }), r = "" !== i.responseText && JSON.parse(i.responseText); r ? this.app.multiShow("chat.chat?_id=" + r._id, r._id) : this.app.multiShow("chat.chat?user=" + e, e) }, t.prototype.loadUsers = function () { var e = this, t = this.app.getService("user").getUser(); this.app.socket.on("returnUsersConnected", webix.bind((function (t) { t.users.length && $$("usersList" + e.uid) && ($$("usersList" + e.uid).show(), $$("usersList" + e.uid).clearAll(), $$("usersList" + e.uid).parse(t.users)) }), this)), this.app.socket.emit("usersConnected", t.user.toString()) }, t }(i(0).c); t.default = n }, function (e, t, i) { "use strict"; function r(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } i.r(t); var n = function (e) { function t() { return r(this, t), o(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e, t = this.app.getService("user").getUser(); return this.uid = "." + t.user.toString(), { rows: [{ view: "toolbar", id: "toolbarContactSearch" + this.uid, relative: !0, elements: [{ view: "text", id: "contactSearch" + this.uid, on: { onTimedKeyPress: webix.bind(this.contactSearch, this) } }] }, { view: "abslayout", id: "abslusersListTeam" + this.uid, cells: [{ relative: !0, rows: [{ view: "text", id: "teamName" + this.uid, placeholder: _("name"), required: !0 }, (e = { view: "dataview", id: "team" + this.uid, css: "webix_data_border", height: 50 }, e.css = "rowsTeam", e.type = { height: 50, width: 60 }, e.relative = !0, e.on = { onItemClick: webix.bind(this.removeUser, this) }, e.template = function (e) { return '<div style="position: relative;">\n                <span title="' + e.name.replace(/(<([^>]+)>)/g, "") + '">\n                <img class="photo" style="float: left;width:44px;height:44px;" src="' + _api + "user.image?size=24&_id=" + e.id + '">\n                </span>\n                </div>' }, e), { view: "dataview", id: "usersListTeam" + this.uid, css: "webix_data_border", xCount: 1, type: { height: "auto", width: "auto" }, relative: !0, on: { onItemClick: webix.bind(this.addUser, this), onAfterRender: webix.once(webix.bind(this.loadUsers, this)) }, template: function (e) { return '<div style="position: relative;">\n                ' + ("0" === e.seen ? '<div class="badgeMsg"></div>' : "") + '\n                <span>\n                <img class="' + (e.online ? "photoOnline" : "photo") + '" style="float: left;width:44px;height:44px;" src="' + _api + "user.image?size=24&_id=" + e.id + '">\n                <span style="font-weight: bold" >' + e.name + '</span></br>\n                <span style="">' + (e.position && e.position.length > 25 ? e.position.substring(0, 25) + "..." : e.position || "") + "</span>\n                </span>\n                </div>" } }] }, { view: "button", tooltip: _("create"), type: "iconTop", icon: "mdi mdi-check-circle", css: "formButton", bottom: 105, right: 30, height: 40, width: 40, click: webix.bind(this.newTeam, this) }, { view: "button", tooltip: _("teamProject"), type: "iconTop", icon: "mdi mdi-account-group", css: "formButton", bottom: 55, right: 30, height: 40, width: 40, click: webix.bind(this.showProjects, this) }] }] } }, t.prototype.removeUser = function (e) { $$("team" + this.uid).remove(e) }, t.prototype.addUser = function (e) { var t = $$("usersListTeam" + this.uid), i = $$("team" + this.uid); if (!i.exists(e)) { var r = t.getItem(e); i.add(r) } }, t.prototype.newTeam = function () { var e = $$("team" + this.uid), t = $$("teamName" + this.uid).getValue(), i = []; t ? (e.find((function (e) { i.push(e.id) })), i.length >= 2 ? this.app.multiShow("chat.chat?newTeam=" + { team: i, name: t }, t) : webix.message("Debe seleccionar 2 o más participantes")) : webix.message("Debe asignar un nombre al grupo") }, t.prototype.contactSearch = function () { var e = $$("contactSearch" + this.uid).getValue().toLowerCase(); $$("usersListTeam" + this.uid).filter("#name#", e) }, t.prototype.showProjects = function (e, t) { this.app.multiShow("chat.projectsList", "chat.projectsList") }, t.prototype.newChat = function (e) { var t = this.app.getService("user").getUser(), i = webix.ajax().sync().post(_api + "chat.findChat", { user1: e, user2: t.user.toString() }), r = "" !== i.responseText && JSON.parse(i.responseText); r ? this.app.multiShow("chat.chat?_id=" + r._id, r._id) : this.app.multiShow("chat.chat?user=" + e, e) }, t.prototype.loadUsers = function () { var e = this, t = this.app.getService("user").getUser(); this.app.socket.on("returnUsersConnected", webix.bind((function (t) { t.users.length && $$("usersListTeam" + e.uid) && ($$("usersListTeam" + e.uid).show(), $$("usersListTeam" + e.uid).clearAll(), $$("usersListTeam" + e.uid).parse(t.users)) }), this)), this.app.socket.emit("usersConnected", t.user.toString()) }, t }(i(0).c); t.default = n }, function (e, t, i) { "use strict"; i.r(t); var r = i(0), o = i(3), n = i(1); function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function s(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var c = function (e) { function t() { return a(this, t), s(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e = this, t = this.app.getService("user").getUser(), i = this.getParam("_id", !0), r = this.getParam("project", !0), a = this.getParam("taskOwnerId", !0), s = (this.getParam("collection", !0), this.getParam("documentType", !0), this.getParam("name", !0), !!this.getParam("addReviser", !0)), c = _api + "comment.list?document=" + i, l = _api + "comment.save?document=" + i; return r && (c = c + "&project=" + r, l = l + "&project=" + r), a && (l = l + "&taskOwnerId=" + a), this.uid = "." + webix.uid(), this.uploaderFile = webix.ui({ id: "uploadFile" + this.uid, view: "uploader", accept: "text/plain, text/html, application/vnd.ms-excel, application/pdf, application/zip, application/x-7z-compressed, application/x-rar-compressed, video/x-msvideo, application/msword, application/vnd.oasis.opendocument.spreadsheet, application/vnd.oasis.opendocument.text, application/vnd.ms-powerpoint", name: "uploader", apiOnly: !0, on: { onAfterFileAdd: function (t, i) { e.app.file(t, i, null, (function (t) { e.setMsg(null, null, t) })) } } }), { rows: [Object(n.a)(_("comments")), { view: "dataview", id: "dvComments" + i, select: !1, xCount: 1, autoheigth: 1, type: { width: "auto", height: "auto" }, on: { onAfterLoad: function () { this.showItem(this.getLastId()) } }, url: c, save: l, onClick: { seenActors: function (e, t, i) { var r = this.getItem(t); webix.ui({ view: "popup", body: { rows: [r.seenActors.length > 0 ? { view: "datatable", css: "webix_data_border", data: r.seenActors, columns: [{ id: "value", sort: "string", header: [_("seenBy") + "   <img src='img/seen.png'/>"], width: 200, template: function (e) { return "<span title='" + e.name + "'><img class='photo' style='width:24px;height:24px;' src='" + _api + "user.image?size=24&_id=" + e.id + "'>" + e.name + "</span>&nbsp" } }], autowidth: !0, maxHeight: 200 } : { hidden: !0 }, r.deliveredActors.length > 0 ? { view: "datatable", css: "webix_data_border", data: r.deliveredActors, columns: [{ id: "value", sort: "string", header: [_("deliveredTo") + "   <img src='img/notseen.png'/>"], width: 200, template: function (e) { return "<span title='" + e.name + "'><img class='photo' style='width:24px;height:24px;' src='" + _api + "user.image?size=24&_id=" + e.id + "'>" + e.name + "</span>&nbsp" } }], autowidth: !0, maxHeight: 200 } : { hidden: !0 }] } }).show(e.target, { pos: "right" }) } }, template: function (i) { var r = ""; return r = '<base href="' + _host + '"><span ' + (i.user === t.user ? "style='color:#4a4'" : "") + "><img class='photo' src='" + _api + "user.image?size=20&_id=" + i.user + "'/>" + i.username + "  <span style=' font-style: italic;font-size:10px;'>" + e.toDate(i.dateTime) + "</span ></span>", r += "<br>", r += "<div " + (i.class ? "class='comment " + i.class + "'" : 'class="comment"') + ">" + i.comment + "</div>" + (i.seen && "none" !== i.seen ? "<div style=\"float:right;\" class='seenActors'><img src='img/" + i.seen + ".png'/></div>" : "") } }, { view: "form", id: "fcomment" + i, padding: 0, elements: [{ view: "toolbar", relative: !0, cols: [{ view: "button", icon: "mdi mdi-image", type: "iconTop", css: "toolbarButton", width: 40, height: 40, click: webix.bind(this.image, this) }, { view: "button", icon: "mdi mdi-file", type: "iconTop", css: "toolbarButton", width: 40, height: 40, click: webix.bind(this.file, this) }, { view: "froala", config: o.comment, css: "withoutPadding", addReviser: s, placeholder: _("comment"), id: "comment" + i, name: "comment", minHeight: 40 }, { view: "button", type: "iconTop", css: "toolbarButton", icon: "mdi mdi-arrow-right-box", tooltip: _("send"), width: 40, height: 40, click: webix.bind(this.setMsg, this) }] }] }] } }, t.prototype.init = function () { var e = this.getParam("_id"), t = $$("dvComments" + e); t.load(t.config.url), webix.ajax().post(_api + "comment.readComments", { document: e }).then((function (e) { })) }, t.prototype.file = function () { this.uploaderFile && this.uploaderFile.fileDialog() }, t.prototype.image = function () { var e = this; this.app.image(null, (function (t) { e.setMsg(null, null, t) })) }, t.prototype.setMsg = function (e, t, i) { var r = this.getParam("_id", !0), o = this.getParam("project", !0), n = this.getParam("collection", !0), a = this.getParam("documentType", !0), s = this.getParam("name", !0), c = this.app.getService("user").getUser(), l = $$("comment" + r), u = i || l.getValue(); if (u && u.length > 0) { var d = $$("dvComments" + r), p = {}; p = o && s ? { user: c.user, project: o, name: s, username: c.name, document: r, comment: u, collection: n, documentType: a, dateTime: new Date } : { user: c.user, username: c.name, document: r, comment: u, collection: n, documentType: a, dateTime: new Date }, d.add(p), l.setValue(""), d.showItem(d.getLastId()) } }, t.prototype.toDate = function (e) { var t = new Date; "string" == typeof e && (e = new Date(e)); var i = (t.getTime() - e.getTime()) / 1e3; return i < 86400 ? t.getDay() - e.getDay() != 0 ? _("yesterday") + ", " + webix.Date.dateToStr("%G:%i:%s")(e) : webix.Date.dateToStr("%G:%i:%s")(e) : i < 518400 ? t.getDay() - e.getDay() == 1 ? _("yesterday") + ", " + webix.Date.dateToStr("%G:%i:%s")(e) : webix.Date.dateToStr("%l, %G:%i:%s")(e) : webix.Date.dateToStr("%l, %j %F %Y, %G:%i:%s")(e) }, t }(r.c); t.default = c }, function (e, t, i) { "use strict"; i.r(t); var r = i(0), o = i(1); function n(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function a(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var s = function (e) { function t() { return n(this, t), a(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e = this, t = this.app.getService("user").getUser(); return { rows: [Object(o.a)(_("alarms")), { view: "datatable", css: "webix_data_border", id: "dt-alarms", relative: !0, multiselect: !0, header: !1, fixedRowHeight: !1, select: !1, columns: [{ id: "alarm", fillspace: 1, template: function (i) { var r = "", o = ""; switch (i.type) { case 1: o = "expires"; break; case 2: o = "tracking" }return r = "<span " + (i.user === t.user ? "style='color:#4a4'" : "") + "><img class='photo' src='" + _api + "user.image?size=20&_id=" + i.user + "'/>" + i.username + "</span>", r += "<br>", r += "<div style='margin-left:25px;' " + (i.class ? "class='" + i.class + "'" : "") + ">" + e.toDate(i.dateAlarm) + " " + _(o) + " " + _(i.collection) + " " + i.docname + " " + (i.document.status ? "<span class='spanTags " + i.document.status + "'>" + _(i.document.status) + "</span>" : "") + "</div>" } }], on: { onAfterLoad: function () { this.adjustRowHeight() }, onSelectChange: function () { this.getSelectedId(!0).join() } }, url: _api + "alarms.list" }] } }, t.prototype.toDate = function (e) { new Date; return "string" == typeof e && (e = new Date(e)), webix.Date.dateToStr("%l, %j %F %Y, %G:%i:%s")(e) }, t.prototype.readAlarm = function (e) { var t = $$("dt-alarms").getItem(e.row); this.app.tabShow(t.path + "?_id=" + t.document.id, t.document.id, _(t.collection)), webix.ajax().post(_api + "alarms.seen", { _id: t._id }).then((function (e) { $$("dt-alarms") && $$("dt-alarms").load($$("dt-alarms").config.url) })) }, t }(r.c); t.default = s }, function (e, t, i) { "use strict"; i.r(t); var r = i(0), o = i(2), n = i(1); function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function s(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var c = function (e) { function t() { return a(this, t), s(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e = this, t = this.app.getService("user").getUser(); return this.uid = "." + webix.uid(), { rows: [Object(n.a)(_("comments")), { view: "dataview", select: !1, xCount: 1, scroll: "y", datafetch: 50, autoheigth: 1, type: { width: this._parent._root.$width, height: 100 }, id: "dt-comments", relative: !0, name: o.a.Links, template: function (i) { var r = ""; return r = '<base href="' + _host + '"><span ' + (i.user === t.user ? "style='color:#4a4'" : "") + "><img class='photo' src='" + _api + "user.image?size=20&_id=" + i.user + "'/>" + i.username + "  <span style=' font-style: italic;font-size:10px;'>" + e.toDate(i.dateTime) + "</span ></span>", r += "<br>", r += "<div " + (i.class ? "class='comment " + i.class + "'" : 'class="comment"') + ">" + i.comment + "</div>" }, on: { onItemClick: webix.bind(this.readComment, this), onSelectChange: function () { this.getSelectedId(!0).join() } }, url: _api + "comment.listAll" }] } }, t.prototype.init = function () { this.app.socket.on("dt_entries", (function () { var e = $$("dt_entries"); e.clearAll(), e.load(e.config.url) })) }, t.prototype.toDate = function (e) { var t = new Date; "string" == typeof e && (e = new Date(e)); var i = (t.getTime() - e.getTime()) / 1e3; return i < 86400 ? t.getDay() - e.getDay() != 0 ? _("yesterday") + ", " + webix.Date.dateToStr("%G:%i:%s")(e) : webix.Date.dateToStr("%G:%i:%s")(e) : i < 518400 ? t.getDay() - e.getDay() == 1 ? _("yesterday") + ", " + webix.Date.dateToStr("%G:%i:%s")(e) : webix.Date.dateToStr("%l, %G:%i:%s")(e) : webix.Date.dateToStr("%l, %j %F %Y, %G:%i:%s")(e) }, t.prototype.getEntry = function (e) { this.app.tabShow("entry?_id=" + e, e, _("entries")) }, t.prototype.add = function () { this.app.tabShow("entry?new=true", webix.uid(), _("entries")) }, t.prototype.readComment = function (e) { var t = $$("dt-comments").getItem(e); "note" !== t.collection && "attached" !== t.collection && "commitment" !== t.collection && "evidence" !== t.collection || (t.collection = "note"), "note" === t.collection && "note" === t.documentType && this.app.multiShow(t.collection + "." + t.documentType + "?_id=" + t.document + "&issued=1", t.document), webix.ajax().post(_api + "comment.removeUnread", { _id: t._id }).then((function () { $$("dt-comments") && $$("dt-comments").load($$("dt-comments").config.url) })) }, t }(r.c); t.default = c }, function (e, t, i) { "use strict"; i.r(t); var r = i(0), o = (i(2), i(6)); function n(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function a(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var s = function (e) { function t() { return n(this, t), a(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e = this.app.getService("user").getUser(); return this.uid = "." + webix.uid(), webix.ui({ view: "sidemenu", id: "menu", width: 200, position: "left", state: function (e) { var t = $$("toolbar").$height; e.top = t, e.height -= t }, body: { view: "list", id: "listMenu" + this.uid, type: { height: "auto", width: "auto" }, borderless: !0, scroll: !1, template: function (t) { return "user" === t.id ? '<div style="position:relative">\n            <div class="imgProfile bg-image bg-wrap text-center py-4" style="background-image: url(' + _api + "user.image?_id=" + e.user + ');"></div>\n            <div class="user-logo">\n                <img class="imgProfile" src="' + _api + "user.image?_id=" + e.user + '">\n                </div>\n            <div class="name-logo">    \n              <h3>' + e.name + "</h3>\n            </div>      \n            </div>" : "<span class='webix_icon " + t.icon + "'></span> " + t.value }, onClick: { "user-logo": webix.bind(this.profile, this) }, on: { onItemClick: webix.bind(this.menuClick, this) }, data: this.menu(e) } }), { id: "header", css: "gpax", height: 50, type: "clean", cols: [{ cols: [{ rows: [{ view: "toolbar", id: "toolbar", css: "noSeparator", elements: [{ view: "icon", icon: "mdi mdi-menu", click: function () { $$("menu").config.hidden ? $$("menu").show() : $$("menu").hide() } }, { borderless: !0, view: "template", type: "clean", template: '<img src="img/gpax.svg" style="max-width:100px">', css: "gpax_label", tooltip: this.app.config.name + "@" + this.app.config.version }, { view: "button", id: "chats", type: "iconTop", icon: "mdi mdi-forum-outline", width: 40, badge: "", value: "", tooltip: _("Chats"), click: webix.bind(this.mvClick, this) }, { view: "button", id: "badgeAlarm", type: "iconTop", icon: "mdi mdi-alarm", width: 40, badge: "", value: "", tooltip: _("alarms"), click: webix.bind(this.mvClick, this) }, { view: "button", id: "badgeComment", type: "iconTop", icon: "mdi mdi-comment-text-outline", width: 40, badge: "", value: "&nbsp;", tooltip: _("comments"), click: webix.bind(this.mvClick, this) }, { view: "button", id: "badgeNotification", type: "iconTop", icon: "webix_icon_btn mdi mdi-bell-outline", width: 40, badge: "", value: "", tooltip: _("notifications"), click: webix.bind(this.mvClick, this) }] }] }] }] } }, t.prototype.profile = function () { var e = this.app.getService("user").getUser(); $$("menu").hide(), this.app.multiShow("user?_id=" + e.user, "user") }, t.prototype.menuClick = function (e) { var t = $$("listMenu" + this.uid).getItem(e); t.url && ($$("menu").hide(), this.app.multiShow(t.url, e)) }, t.prototype.menu = function (e) { return JSON.parse(JSON.stringify(o[e.menu])) }, t.prototype.deleteUser = function (e) { for (var t in e) { if ("user" === e[t].id || "reportUser" === e[t].id) return void e.splice(t, 1); e[t].data && this.deleteUser(e[t].data) } }, t.prototype.mvClick = function (e) { var t = $$(e); "badgeAlarm" === e ? (t.config.badge = 0, t.refresh(), this.app.multiShow("home.alarms", "home.alarms")) : "badgeComment" === e ? (t.config.badge = 0, t.refresh(), this.app.multiShow("home.comments", "home.comments")) : "badgeNotification" === e ? (t.config.badge = 0, t.refresh(), this.app.multiShow("home.notifications", "home.notifications")) : "chats" === e && (t.config.badge = 0, t.refresh(), this.app.multiShow("chat.chats", "chatsView")) }, t }(r.c); t.default = s }, function (e, t, i) { "use strict"; function r(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } i.r(t); var n = function (e) { function t() { return r(this, t), o(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e = webix.uid(); this.validate = !1, webix.ui({ view: "window", id: "windowExpired", position: "center", head: '"' + _("expired Password") + '" ' + _("update"), width: 500, height: 300, modal: !0, type: "clean", margin: 0, body: { rows: [{ view: "form", id: "f_Expired", relative: !0, elements: [{ view: "text", type: "password", id: "password" + e, name: "password", labelWidth: 120, label: _("password"), required: !0, validateEvent: "blur", on: { onChange: webix.bind((function (e) { var t = new RegExp("^(?=.{10,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$", "g"); 0 === e.length || t.test(e) || (webix.message(_("invalidPassword"), "error", 3e3), this.validate = !1), this.validate = !0 }), this) }, validate: function (e) { var t = new RegExp("^(?=.{10,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$", "g"); return 0 === e.length || t.test(e) } }, { view: "text", type: "password", id: "repeatPassword" + e, name: "repeatPassword", labelWidth: 120, label: _("repeatPassword"), required: !0, on: { onChange: webix.bind((function (e) { var t = new RegExp("^(?=.{10,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$", "g"); if (0 === e.length || t.test(e)) { this.validate = !0; var i = $$("f_Expired").getValues(); i.password !== i.repeatPassword && (this.validate = !1, webix.message(_("differentPassword"), "error", 3e3)) } else webix.message(_("invalidPassword"), "error", 3e3), this.validate = !1 }), this) }, validate: function (t) { var i = new RegExp("^(?=.{10,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$", "g"), r = 0 === t.length || i.test(t); return r ? $$("password" + e).getValue() === $$("repeatPassword" + e).getValue() : r } }, { cols: [{ width: 125 }, { view: "button", value: _("update"), width: 200, click: webix.bind(this.update, this) }, { width: 25 }, { view: "button", value: _("logout"), width: 75, click: webix.bind(this.login, this) }] }] }] } }).hide(); return { rows: [{ relative: !0, $subview: "home.multiview" }] } }, t.prototype.init = function () { webix.ui({ view: "window", id: "progressWindowGlobal", width: 260, height: 40, position: "center", head: !1, modal: !0, body: { id: "templateWindowGlobal", template: '<label for="file">' + _("progress") + ': </label><progress max="100" value="0" id="ft-progGlobal"></progress>' } }); var e = this.app, t = this.app.canClose; function i() { document.addEventListener("backbutton", webix.bind((function () { t() }), this), !1), window.open = cordova.InAppBrowser.open, cordova.plugins.backgroundMode.enable(), cordova.plugins.backgroundMode.setDefaults({ silent: !0 }), cordova.plugins.notification.local.requestPermission((function (e) { console.log("aceptado notificaciones") })), cordova.plugins.notification.local.on("click", (function (t) { t.data && t.data.run && e[t.data.run] && e[t.data.run](t.data) })) } document.addEventListener("deviceready", i, !1), this.app.getService("user").getUser().expiredPassword && $$("windowExpired").show() }, t.prototype.login = function () { $$("windowExpired").hide(), this.app.show("/login") }, t.prototype.update = function () { var e = this, t = this.app.getService("user").getUser(), i = $$("f_Expired").getValues(); i._id = t.user; var r = i.password || "", o = i.repeatPassword || ""; this.validate && r && o ? webix.confirm({ title: _("warning"), ok: _("yes"), cancel: _("no"), text: _("update"), callback: function (t) { t && webix.ajax().post(_api + "user.updateExpiredPassword", i, (function (t, i, r) { i && 200 === r.status ? "ok" === (i = i.json()).msj ? (webix.message(_("savedChanges") + ", Ingresa con la nueva clave", "info"), $$("windowExpired").hide(), e.app.show("/login")) : "not saved" === i.msj ? webix.message("Error " + r.status + ", please retry...", "error") : "iguales" === i.msj && webix.message(_("Ingrese una contraseña diferente a la anterior"), "error") : webix.message("Error " + r.status + ", please retry...", "error") })) } }) : webix.message(_("differentPassword") + " or nulls", "error") }, t }(i(0).c); t.default = n }, function (e, t, i) { "use strict"; i.r(t); var r = i(0); i(6); function o(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function n(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var a = function (e) { function t() { return o(this, t), n(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { this.app.getService("user").getUser(); var e = "slopes"; _("slopes"); return { view: "multiview", id: "multiviewGlobal", cells: [{ id: e, rows: [{ relative: !0, $subview: "home.header" }, { $subview: "note.slopes" }] }] } }, t.prototype.ready = function () { webix.UIManager.addHotKey("esc", this.app.canClose) }, t.prototype.added = function (e) { this.getRoot().setValue(e) }, t }(r.c); t.default = a }, function (e, t, i) { "use strict"; i.r(t); var r = i(0), o = i(1); function n(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function a(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var s = function (e) { function t() { return n(this, t), a(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e = this, t = this.app.getService("user").getUser(); return { rows: [Object(o.a)(_("notifications")), { view: "datatable", css: "webix_data_border", select: !1, id: "dt-notifications", relative: !0, multiselect: !0, header: !1, fixedRowHeight: !1, columns: [{ id: "notification", fillspace: 1, template: function (i) { var r = "", o = ""; switch (i.type) { case 1: o = "created"; break; case 2: o = "modified"; break; case 3: o = "started"; break; case 4: o = "changed"; break; case 5: o = "received"; break; case 6: o = "seen" }return r = "<div " + (i.class ? 'style="background-color:lightblue;"' : "") + "><span " + (i.user === t.user ? "style='color:#4a4'" : "") + "><img class='photo' src='" + _api + "user.image?size=20&_id=" + i.user + "'/>" + i.username + "  <span style=' font-style: italic;font-size:10px;'>" + e.toDate(i.createdAt) + "</span ></span>", r += "<br>", r += "<div style='margin-left:25px;' " + (i.class ? "class='" + i.class + "'" : "") + ">" + _(o) + " " + _(i.collection) + " " + i.docname + " " + (i.document.status ? "<span class='spanTags " + i.document.status + "'>" + _(i.document.status) + "</span>" : "") + "</div></div>" } }], on: { onItemClick: webix.bind(this.readNotification, this), onAfterLoad: function () { this.adjustRowHeight() }, onSelectChange: function () { this.getSelectedId(!0).join() } }, url: _api + "notification.list" }] } }, t.prototype.toDate = function (e) { var t = new Date; "string" == typeof e && (e = new Date(e)); var i = (t.getTime() - e.getTime()) / 1e3; return i < 86400 ? t.getDay() - e.getDay() != 0 ? _("yesterday") + ", " + webix.Date.dateToStr("%G:%i:%s")(e) : webix.Date.dateToStr("%G:%i:%s")(e) : i < 518400 ? t.getDay() - e.getDay() == 1 ? _("yesterday") + ", " + webix.Date.dateToStr("%G:%i:%s")(e) : webix.Date.dateToStr("%l, %G:%i:%s")(e) : webix.Date.dateToStr("%l, %j %F %Y, %G:%i:%s")(e) }, t.prototype.readNotification = function (e) { var t = $$("dt-notifications").getItem(e.row); t.path.includes("note.") && this.app.multiShow(t.path + "?_id=" + t.document.id, t.document.id), webix.ajax().post(_api + "notification.seen", { _id: t._id }).then((function (e) { $$("dt-notifications") && $$("dt-notifications").load($$("dt-notifications").config.url) })) }, t }(r.c); t.default = s }, function (e, t, i) { "use strict"; i.r(t); var r = i(0), o = i(6); function n(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function a(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var s = function (e) { function t() { return n(this, t), a(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e = this.app.getService("user").getUser(), t = webix.uid(); return e.licensedUser || "clients" === e.menu || (e.menu = "auditor"), { rows: [{ view: "menu", id: "sidebar" + t, tooltip: !0, autowidth: !0, layout: "y", subMenuPos: "right", width: 45, css: "sidebar", template: "<img src='#image#' class='menu_image'/>", on: { onMenuItemClick: this.menuClick }, data: this.menu(e) }] } }, t.prototype.menuClick = function (e) { var t = this.getMenuItem(e); t.url && this.$scope.app.multiShow(t.url, e) }, t.prototype.menu = function (e) { var t = JSON.parse(JSON.stringify(o[e.menu])); return e.createUsers || this.deleteUser(t), t }, t.prototype.deleteUser = function (e) { for (var t in e) { if ("user" === e[t].id || "reportUser" === e[t].id) return void e.splice(t, 1); e[t].data && this.deleteUser(e[t].data) } }, t }(r.c); t.default = s }, function (e, t, i) { "use strict"; function r(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } i.r(t); var n = function (e) { function t() { return r(this, t), o(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { return { css: { "background-image": 'url("img/login.png")', "background-repeat": "no-repeat", "background-size": "cover" }, rows: [{ height: window.innerHeight / 3, rows: [{ height: 50 }, { cols: [{}, { view: "template", borderless: !0, width: 260, css: "transparent", template: '<img src="img/logoGPAX.svg" />' }, {}] }, { minheight: 20, height: 30 }] }, { cols: [{ width: 30 }, { view: "form", id: "flogin", borderless: !0, elements: [{ view: "text", name: "login", placeholder: _("email"), height: 50 }, { height: 20 }, { view: "text", type: "password", name: "password", placeholder: _("password"), height: 50 }, { cols: [{ view: "checkbox", name: "rememberMe", css: "white", label: _("rememberMe"), labelWidth: 100, width: 120, click: webix.bind(this.rememberMe, this) }, {}, { view: "label", width: 120, label: _("forgotPassword") + "?", css: { color: "#fff" }, click: webix.bind(this.forgotPassword, this) }] }, { view: "button", label: _("login"), height: 60, click: webix.bind(this.doLogin, this) }] }, { width: 30 }] }, { height: 100 }] } }, t.prototype.doLogin = function () { var e = $$("flogin"); if (e.validate() && !e.inProcess) { e.inProcess = 1; var t = e.getValues(); this.app.getService("user").login(t.login, t.password).catch((function () { delete e.inProcess, webix.message(_("invalidCredentials"), "error") })) } }, t }(i(0).c); t.default = n }, function (e, t, i) { "use strict"; i.r(t); var r = i(0), o = (i(9), i(7), i(10), i(8)), n = i(4), a = i(5); function s(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function c(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var l = function (e) { function t() { return s(this, t), c(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e = this, t = this.getParam("_id", !0); return webix.ajax(_api + "attached.get?_id=" + t).then((function (t) { var i = t.json(); e.app.getService("user").getUser(); e.uid = "." + webix.uid(); var r = [Object(n.a)(_("attached"), i.status)], s = []; i.sequence && i.sequence.text && r.push({ view: "template", id: "originDocument" + e.uid, autoheight: !0, borderless: !0, template: function (e) { return "<a class='openReference' href='javascript:void(0);'>#" + i.sequence.text + "</a>" }, onClick: { openReference: function () { e.app.multiShow("note.note?_id=" + i.reference, i.reference) } } }), r.push({ view: "template", borderless: !0, template: '<div style=" font-weight: bold;">' + i.name + "</div>", name: "name", autoheight: !0 }), r.push({ height: 30 }), r.push({ view: "fieldset", label: _("content"), body: { view: "template", id: "description" + e.uid, template: i.content, name: "content" } }), s.push({ view: "combo", id: "responsible" + e.uid, labelWidth: 100, label: _("responsible"), name: "responsible", suggest: { view: "suggest", body: { url: _api + "params.options?name=responsible&reference=" + i.reference, template: function (e) { return "<img class='photo' src='" + _api + "user.image?size=20&_id=" + e.id + "'/>" + e.value } } } }), s.push({ view: "label", labelWidth: 150, label: _("requiredResponse") }), s.push({ view: "label", template: "1" === i.requiredResponse ? _("yes") : _("no") }), i.deadline && (s.push({ view: "label", label: _("deadline"), labelWidth: 100 }), s.push({ view: "label", template: i.deadline })), s.push({ id: "riskLevel", view: "tag", name: "tags", label: _("riskLevel"), tooltip: _("riskLevel"), tag: "riskLevel", labelWidth: 200 }), s.push({ id: "attachedTag", view: "tag", name: "attachedTag", label: _("tag"), labelWidth: 50, tag: "attachedTag" }), s.push({}); var c = { margin: 0, relative: !0, padding: 0, view: "form", id: "formContent" + e.uid, complexData: !0, autoheight: !0, on: {}, data: i, elementsConfig: { labelPosition: "top", readonly: !0, margin: 3, invalidMessage: _("invalid") }, elements: r }, l = { margin: 0, padding: 3, view: "form", id: "formDetails" + e.uid, complexData: !0, autoheight: !0, data: i, elementsConfig: { labelPosition: "top", readonly: !0, margin: 3, invalidMessage: _("invalid") }, elements: s }; return { rows: [Object(a.a)(i.status), { view: "abslayout", rows: [Object(o.a)(l, e), c] }, { view: "toolbar", relative: !0, cols: [{ view: "button", icon: "mdi mdi-comment-text-multiple", type: "iconTop", css: "toolbarButton", width: 40, height: 40, click: webix.bind(e.showComments, e) }, { view: "button", icon: "mdi mdi-note-text", type: "iconTop", css: "toolbarButton", width: 40, height: 40, click: webix.bind(e.openNote, e) }] }] } })) }, t.prototype.openNote = function () { var e = $$("formContent" + this.uid).getValues().reference; this.app.multiShow("note.note?_id=" + e, e) }, t.prototype.showComments = function () { var e = this.getParam("_id", !0), t = this.app.getService("user").getUser(), i = -1 !== $$("formContent" + this.uid).getValues().actors.findIndex((function (e) { return !(!e || e.user !== t.user) && ("referrer" !== e.path && ["reviser", "supervisor", "from", "to", "copy", "inCharge"].includes(e.role)) })); this.app.multiShow("comments?_id=" + e + "&collection=attached&documentType=note" + (i ? "&addReviser=1" : ""), "comments" + e) }, t }(r.c); t.default = l }, function (e, t, i) { "use strict"; i.r(t); var r = i(0), o = i(1); function n(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function a(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var s = function (e) { function t() { return n(this, t), a(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { this.app.getService("user").getUser(); this.uid = "." + webix.uid(); var e = this.getParam("reference", !0); return { rows: [Object(o.a)(_("attacheds")), { view: "dataview", relative: !0, id: "attachedsList" + this.uid, datafetch: 10, loadahead: 100, scroll: "y", xCount: 1, type: { height: "auto", width: "auto" }, on: {}, template: function (e) { var t = "", i = ""; return e.emisor && (t = (t = e.emisor.name ? e.emisor.name : "").replace(/(<([^>]+)>)/g, ""), i = e.emisor.user), '<div class="dataview">\n            <div class="status ' + e.status + '"><p>' + _(e.status) + '</p></div>\n\n\n            <div class="user-icon"><img class="user-icon" src=\'' + _api + "user.image?size=24&_id=" + i + '\' alt="">\n\n            </div>\n            <div class="title">' + e.name + ' </div>\n            <div class="subtitle">' + e.sequence + ' </div>\n            <div class="username">' + t + (e.emisorUnit ? ", " + e.emisorUnit.name : "") + ' </div>\n            <div class="progress-bar">\n            <img src="bar.png"alt=""/>\n\n            </div>\n            <div class="date">\n\n              <div class="from">' + e.issue + '</div>\n              <div class="to">' + (e.expired ? '<span class="status ' + e.expired + '">' + e.deadline + "</span>" : e.expired) + "</div>\n\n            </div>\n            </div>" }, url: _api + "attached.forReference?_id=" + e }] } }, t }(r.c); t.default = s }, function (e, t, i) { "use strict"; i.r(t); var r = i(0), o = i(3), n = (i(9), i(7), i(10), i(8)), a = i(4), s = i(5); function c(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function l(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var u = function (e) { function t() { return c(this, t), l(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e = this, t = this.getParam("_id", !0); return webix.ajax(_api + "commitment.get?_id=" + t).then((function (i) { var r = i.json(), c = e.app.getService("user").getUser(); e.uid = "." + r._id.toString(); var l = [Object(a.a)(_("commitment"), r.status)], u = [], d = r.actors.findIndex((function (e) { if (e.user === c.user) return "inCharge" === e.role })); r.att.sequence && r.att.sequence.text && l.push({ view: "template", id: "originDocument" + e.uid, autoheight: !0, borderless: !0, template: function (e) { return "<a class='openReference' href='javascript:void(0);'>#" + r.att.sequence.text + "</a>" }, onClick: { openReference: function () { e.app.multiShow("note.note?_id=" + r.att.reference, r.att.reference) } } }), l.push({ view: "template", borderless: !0, template: '<div style=" font-weight: bold;">' + r.name + "</div>", name: "name", autoheight: !0 }), l.push({ height: 30 }), l.push({ view: "fieldset", label: _("content"), body: { view: "froala", css: { height: "auto" }, readonly: !0, config: o.basic, name: "content" } }), r.answerDate && (u.push({ view: "label", labelWidth: 150, label: _("answerDate") }), u.push({ view: "label", template: r.answerDate })), u.push({ view: "label", label: _("deadline"), labelWidth: 100 }), u.push({ view: "label", template: r.deadline }), r.trackingDate && r.trackingDate[0] && "" !== r.trackingDate[0][0] && (u.push({ view: "label", labelWidth: 150, label: _("trackingDate") }), u.push({ view: "label", template: r.trackingDate })), u.push({ height: 20 }), u.push({ view: "fieldset", label: _("evidences"), body: { view: "dataview", relative: !0, id: "evidencesList" + e.uid, datafetch: 10, loadahead: 100, autoheight: !0, scroll: "y", xCount: 1, type: { css: "withoutPadding", height: "auto", width: "auto" }, on: { onItemClick: webix.bind(e.get, e) }, template: function (e) { return '<div class="dataview" style="max-width: 100%">\n                  <div class="status ' + e.status + '"><span>' + _(e.status) + '</span></div>\n                  <div class="title">' + e.name + ' </div>\n                  <div class="subtitle">' + _("evidence") + ' </div>\n                  <div class="date">\n                    <div class="from">' + e.issue + "</div>\n                  </div>\n                  </div>" }, url: _api + "evidence.forReference?reference=" + t } }); var p = { margin: 0, relative: !0, padding: 0, view: "form", id: "formContent" + e.uid, complexData: !0, autoheight: !0, data: r, elementsConfig: { labelPosition: "top", readonly: !0, margin: 3, invalidMessage: _("invalid") }, elements: l }, h = { margin: 0, padding: 3, relative: !0, view: "form", id: "formDetails" + e.uid, complexData: !0, autoheight: !0, width: e._parent._root.$width, data: r, elementsConfig: { labelPosition: "top", readonly: !0, margin: 3, invalidMessage: _("invalid") }, elements: u }; return { rows: [Object(s.a)(r.status), { view: "abslayout", rows: [Object(n.a)(h, e), p] }, { view: "toolbar", relative: !0, cols: [{ view: "button", icon: "mdi mdi-comment-text-multiple", type: "iconTop", css: "toolbarButton", width: 40, height: 40, click: webix.bind(e.showComments, e) }, { view: "button", icon: "mdi mdi-note-text", type: "iconTop", width: 40, css: "toolbarButton", height: 40, click: webix.bind(e.openNote, e) }, { view: "button", icon: "mdi mdi-paperclip", type: "iconTop", css: "toolbarButton", width: 40, height: 40, click: webix.bind(e.openAttached, e) }, {}, -1 !== d && "accepted" === r.status ? { view: "button", id: "evidence" + e.uid, icon: "mdi mdi-magnify-plus", type: "iconTop", css: "toolbarButton", width: 40, height: 40, click: webix.bind(e.createEvidence, e) } : { hidden: !0 }] }] } })) }, t.prototype.openNote = function () { var e = $$("formContent" + this.uid).getValues().att.reference; this.app.multiShow("note.note?_id=" + e, e) }, t.prototype.openAttached = function () { var e = $$("formContent" + this.uid).getValues().att._id; this.app.multiShow("note.attached?_id=" + e, e) }, t.prototype.get = function (e) { this.app.multiShow("note.evidence?_id=" + e, e) }, t.prototype.showComments = function () { var e = this.getParam("_id", !0), t = this.app.getService("user").getUser(), i = -1 !== $$("formContent" + this.uid).getValues().actors.findIndex((function (e) { if (e && e.user === t.user) return "referrer" !== e.path && ["reviser", "supervisor", "from", "to", "copy", "inCharge"].includes(e.role) })); this.app.multiShow("comments?_id=" + e + "&collection=commitment&documentType=note" + (i ? "&addReviser=1" : ""), "comments" + e) }, t.prototype.createEvidence = function (e, t, i, r) { var o = this.$$("formContent" + this.uid).getValues(), n = o._id + ".note"; this.app.multiShow("note.evidence?link=" + n + "&issued=1&reference=" + o._id + "&evidence=1&actors=" + encodeURIComponent(JSON.stringify(o.actors)), webix.uid()) }, t }(r.c); t.default = u }, function (e, t, i) { "use strict"; i.r(t); var r = i(0), o = i(3), n = (i(9), i(7), i(10), i(4)), a = i(5); function s(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function c(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var l = function (e) { function t() { return s(this, t), c(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e = this, t = this.getParam("_id", !0), i = this.getParam("link", !0), r = this.getParam("reference", !0), s = this.getParam("actors", !0); this.issued = this.getParam("issued", !0); var c; this.getParam("template", !0); return c = t ? _api + "evidence.get?_id=" + t : i ? _api + "evidence.get?type=note&link=" + i : _api + "evidence.get", r && (c += "&reference=" + r + "&actors=" + s), webix.ajax(c).then((function (t) { var i = t.json(); e.app.getService("user").getUser(); e._derty = !1, e.uid = "." + webix.uid(); var r = [Object(n.a)(_("evidence"), i.status)]; "draft" !== i.status ? (r.push({ view: "template", borderless: !0, template: '<div style=" font-weight: bold;">' + i.name + "</div>", name: "name", autoheight: !0 }), i.answerDate && (r.push({ view: "label", label: _("answerDate") }), r.push({ view: "label", template: i.answerDate })), r.push({ height: 30 }), r.push({ view: "fieldset", label: _("content"), body: { view: "template", id: "description" + e.uid, template: i.content, name: "content" } })) : (r.push({ view: "text", name: "name", required: !0, label: _("subject"), validate: webix.rules.isNotEmpty }), r.push({ view: "combo", name: "pageType", label: _("pageType"), value: "letter", options: [{ id: "letter", value: _("letter") }, { id: "office", value: _("office") }, { id: "legal", value: _("legal") }, { id: "sticker", value: _("sticker") }] }), r.push({ view: "froala", id: "description" + e.uid, form: "formContent" + e.uid, config: o.moreBasic, signature: 1, name: "content", label: _("description"), css: { height: "auto" } })); var s = { margin: 0, relative: !0, padding: 0, view: "form", id: "formContent" + e.uid, complexData: !0, autoheight: !0, on: { onChange: function () { e._derty = !0 } }, data: i, elementsConfig: { labelPosition: "top", readonly: "draft" !== i.status, margin: 3, invalidMessage: _("invalid") }, elements: r }; return e.uploaderFile = webix.ui({ id: "uploadFile" + e.uid, view: "uploader", accept: "text/plain, text/html, application/vnd.ms-excel, application/pdf, application/zip, application/x-7z-compressed, application/x-rar-compressed, video/x-msvideo, application/msword, application/vnd.oasis.opendocument.spreadsheet, application/vnd.oasis.opendocument.text, application/vnd.ms-powerpoint", name: "uploader", apiOnly: !0, on: { onAfterFileAdd: function (t, i) { e.app.file(t, i, $$("description" + e.uid)) } } }), { rows: [Object(a.a)(i.status), { view: "abslayout", rows: [s] }, { view: "toolbar", relative: !0, cols: [{ view: "button", icon: "mdi mdi-comment-text-multiple", type: "iconTop", css: "toolbarButton", width: 40, height: 40, click: webix.bind(e.showComments, e) }, { view: "button", icon: "mdi mdi-image", type: "iconTop", css: "toolbarButton", width: 40, height: 40, click: function () { e.app.image($$("description" + e.uid)) } }, { view: "button", icon: "mdi mdi-file", type: "iconTop", css: "toolbarButton", width: 40, height: 40, click: webix.bind(e.file, e) }, {}, "draft" === i.status ? { view: "button", icon: "mdi mdi-content-save", type: "iconTop", width: 40, css: "toolbarButton", height: 40, click: webix.bind(e.save, e) } : {}, i.isNew || "draft" !== i.status ? { hidden: !0 } : { view: "button", id: "trash" + e.uid, type: "iconTop", icon: "mdi mdi-trash-can", css: "toolbarButton", tooltip: _("delete"), height: 40, width: 40, click: webix.bind(e.delete, e) }] }] } })) }, t.prototype.save = function () { var e = this, t = this.$$("formContent" + this.uid), i = t.getValues(); t.validate() && webix.ajax().post(_api + "evidence.save", i, (function (r, o, n) { if (200 === n.status) { t.$scope._derty = !1, e.setParam("_id", i._id.toString(), !0), e.refresh(); var a = $$("evidencesList." + i.reference.toString()); a && (a.clearAll(), a.load(a.config.url)), webix.message(_("savedChanges"), "info") } else webix.message("Error " + n.status + ", please retry...", "error") })) }, t.prototype.delete = function () { var e = this, t = this.$$("formContent" + this.uid).getValues(), i = t._id; webix.confirm({ title: _("warning"), ok: _("yes"), cancel: _("no"), text: _("confirmDelete"), callback: function (r) { r && webix.ajax(_api + "evidence.delete?_id=" + i, (function (i, r, o) { if (200 === o.status) { var n = $$("evidencesList." + t.reference.toString()); n && (n.clearAll(), n.load(n.config.url)), webix.message("borrado", "info"), e.app.canClose() } else webix.message("Error " + o.status + ", please retry...", "error") })) } }) }, t.prototype.showComments = function () { var e = this.getParam("_id", !0), t = this.app.getService("user").getUser(), i = -1 !== $$("formContent" + this.uid).getValues().actors.findIndex((function (e) { if (e && e.user === t.user) return "referrer" !== e.path && ["reviser", "supervisor", "from", "to", "inCharge"].includes(e.role) })); this.app.multiShow("comments?_id=" + e + "&collection=evidence&documentType=note" + (i ? "&addReviser=1" : ""), "comments" + e) }, t.prototype.file = function () { this.uploaderFile && this.uploaderFile.fileDialog() }, t }(r.c); t.default = l }, function (e, t, i) { "use strict"; i.r(t); var r = i(0), o = i(1); function n(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function a(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var s = function (e) { function t() { return n(this, t), a(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { this.app.getService("user").getUser(); return this.uid = "." + webix.uid(), { rows: [Object(o.a)(_("notes")), { view: "dataview", relative: !0, id: "notesList" + this.uid, datafetch: 10, loadahead: 100, scroll: "y", xCount: 1, type: { height: "auto", width: "auto" }, on: { onItemClick: webix.bind(this.get, this) }, template: function (e) { var t = "", i = ""; return e.emisor && (t = (t = e.emisor.name ? e.emisor.name : "").replace(/(<([^>]+)>)/g, ""), i = e.emisor.user), '<div class="dataview">\n            <div class="status ' + e.status + '"><p>' + _(e.status) + '</p></div>\n\n\n            <div class="user-icon"><img class="user-icon" src=\'' + _api + "user.image?size=24&_id=" + i + '\' alt="">\n\n            </div>\n            <div class="title">' + e.name + ' </div>\n            <div class="subtitle">' + e.sequence + ' </div>\n            <div class="username">' + t + (e.emisorUnit ? ", " + e.emisorUnit.name : "") + ' </div>\n            <div class="progress-bar">\n            <img src="bar.png"alt=""/>\n\n            </div>\n            <div class="date">\n\n              <div class="from">' + e.issue + '</div>\n              <div class="to">' + (e.expired ? '<span class="status ' + e.expired + '">' + e.deadline + "</span>" : e.expired) + "</div>\n\n            </div>\n            </div>" }, url: _api + "note.list" }] } }, t.prototype.get = function (e) { this.app.multiShow("note.note?_id=" + e, e) }, t }(r.c); t.default = s }, function (e, t, i) { "use strict"; i.r(t); var r = i(0), o = i(1); function n(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function a(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var s = function (e) { function t() { return n(this, t), a(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { this.app.getService("user").getUser(); this.uid = "." + webix.uid(); var e = this.getParam("_id", !0), t = this.getParam("name", !0); return { rows: [Object(o.a)(t), { view: "dataview", relative: !0, id: "slopeUnitList" + this.uid, datafetch: 10, loadahead: 100, scroll: "y", xCount: 1, type: { css: "withoutPadding", height: "auto", width: "auto" }, on: { onItemClick: webix.bind(this.get, this) }, template: function (e) { return e.responsibleName = e.responsibleName.replace(/(<([^>]+)>)/g, ""), '<div style="position: relative;">' + (e.tagsname ? '<span class="cornerSpan">' + e.tagsname.charAt(0) + '</span><div class="triangleCorner" style="border-bottom: 40px solid ' + e.tagscolor + '"></div>' : "") + '\n           <div class="dataview" >\n            <div class="status ' + e.status + '"><span>' + _(e.status) + '</span></div>\n\n\n            <div class="user-icon"><img class="user-icon" src=\'' + _api + "user.image?size=24&_id=" + e.responsible + '\' alt="">\n\n            </div>\n            <div class="title">' + e.name + ' </div>\n            <div class="subtitle">' + (e.commitment ? "Compromiso" : "Anexo") + ' </div>\n            <div class="username">' + e.responsibleName + ' </div>\n            <div class="date">\n              <div class="to">' + (e.expired ? '<div style="color: red;">' + e.deadline + "</div>" : e.deadline) + "</div>\n\n            </div>\n            </div>\n            </div>" }, url: _api + "commitment.slopeUnit?_id=" + e }] } }, t.prototype.get = function (e) { $$("slopeUnitList" + this.uid).getItem(e).commitment ? this.app.multiShow("note.commitment?_id=" + e, e) : this.app.multiShow("note.attached?_id=" + e, e) }, t }(r.c); t.default = s }, function (e, t, i) { "use strict"; i.r(t); var r = i(0), o = i(1); function n(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function a(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var s = function (e) { function t() { return n(this, t), a(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { this.app.getService("user").getUser(); return this.uid = "." + webix.uid(), { rows: [Object(o.a)(_("slopes")), { view: "dataview", relative: !0, id: "slopesList" + this.uid, datafetch: 10, loadahead: 100, scroll: "y", xCount: 1, type: { height: "auto", width: "auto" }, on: { onItemClick: webix.bind(this.get, this) }, template: function (e) { return '<div style="position: relative;">\n                <span style=" top: 30px; padding: 5px; margin-top: 10px; margin-bottom: 10px; display: block; width:100%; color: #00abcc; font: 700 18px/1 Lato, sans-serif;text-shadow: 0 1px 1px #fff;" >' + e.name + "</span>          \n                " + (e.commitments > 0 ? '<span style="background-color: #dce1e6; color: dark; display: inline-block; padding-left: 7px; padding-right: 7px; text-shadow: 0 1px 1px rgba(0,0,0,.2); font-weight: bold; font-size: 14px; border-radius: 5px;"><div class="badgeSlopes">' + e.commitments + "</div> Compromisos</span>" : "") + "\n                " + (e.attacheds > 0 ? '<span style="background-color: #dce1e6; color: dark; display: inline-block; padding-left: 7px; padding-right: 7px; text-shadow: 0 1px 1px rgba(0,0,0,.2); font-weight: bold; font-size: 14px; border-radius: 5px;"><div class="badgeSlopes">' + e.attacheds + "</div> Anexos sin respuesta</span>" : "") + "\n                </div>" }, url: _api + "commitment.slopes" }] } }, t.prototype.get = function (e) { var t = $$("slopesList" + this.uid).getItem(e).name; this.app.multiShow("note.slopeUnit?_id=" + e + "&name=" + t, e) }, t }(r.c); t.default = s }, function (e, t, i) { "use strict"; i.r(t); var r = i(0), o = i(1); function n(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function a(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var s = function (e) { function t() { return n(this, t), a(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { this.app.getService("user").getUser(); return this.uid = "." + webix.uid(), { rows: [Object(o.a)(_("projects")), { view: "dataview", relative: !0, id: "projectsList" + this.uid, xCount: 1, type: { css: "withoutPadding", height: "auto", width: "auto" }, template: function (e) { var t = "", i = ""; return e.manager && (t = (t = e.manager && e.manager.name ? e.manager.name : "").replace("@", '<span title="communicationOnly">@</span>'), i = e.manager.user), '\n            <div class="dataview">\n            <div class="status ' + e.status + '"><span>' + _(e.status) + '</span></div>\n\n\n            <div class="user-icon"><img class="user-icon" src=\'' + _api + "user.image?size=24&_id=" + i + '\' alt="">\n\n            </div>\n            <div class="title">' + e.name + ' </div>\n            <div class="subtitle">' + e.planName + ' </div>\n            <div class="username">' + t + ' </div>\n            <div class="progress-bar">\n            <img src="bar.png"alt=""/>\n\n            </div>\n            <div class="date">\n\n              <div class="from">De: ' + e.startDate + '</div>\n              <div class="to">A: ' + e.endDate + "</div>\n\n            </div>\n            </div>" }, url: _api + "project.list" }] } }, t }(r.c); t.default = s }, function (e, t, i) { "use strict"; i.r(t); var r = i(0), o = i(1), n = (i(9), i(7), i(10), i(42), i(43), i(2)); function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function s(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var c = function (e) { function t() { return a(this, t), s(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e = this, t = this.getParam("_id", !0); return webix.ajax(_api + "user.get?_id=" + t).then((function (i) { var r = i.json(); e.app.getService("user").getUser(); e._derty = !1, e.uid = "." + webix.uid(), e.uploader = webix.ui({ id: "uploadAPI", view: "uploader", name: "uploader", upload: _api + "user.setImage?_id=" + t, autosend: !0, on: { onFileUpload: function () { var e = $$("photo" + t); e.config.image = e.config.image + "&x=" + Math.random(), e.refresh() }, onFileUploadError: function () { webix.alert("Error during file upload") } }, apiOnly: !0 }); var a = []; a.push({ cols: [{ view: "button", name: "photo", type: "image", css: "toolbarButton", image: _api + "user.image?size=100&_id=" + t, id: "photo" + t, width: 150, height: 100, click: webix.bind(e.photo, e) }, { width: 10 }, { rows: [{ view: "text", name: n.a.name, id: "name" + e.uid, label: _("name"), required: !0, labelWidth: 150 }, { view: "text", name: "userId", id: "userId" + e.uid, label: _("identification"), labelWidth: 100, width: 200 }] }] }), a.push({ view: "text", name: n.a.email, id: "email" + e.uid, label: _("email"), required: !0, labelWidth: 150 }), a.push({ view: "text", name: "phone", id: "phone" + e.uid, label: _("phone"), labelWidth: 70, width: 180 }), a.push({ view: "text", name: "login", id: "login" + e.uid, labelWidth: 120, label: _("userCode"), required: !0 }), a.push({ view: "password", name: "password", id: "password" + e.uid, labelWidth: 100, label: _("password"), on: { onChange: webix.bind((function (e) { var t = new RegExp("^(?=.{10,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$", "g"); 0 === e.length || t.test(e) || (webix.message(_("invalidPassword"), "error", 3e3), this.validate = !1), this.validate = !0 }), e) }, validate: function (e) { var t = new RegExp("^(?=.{10,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$", "g"); return 0 === e.length || t.test(e) } }), a.push({ view: "password", name: n.a.repeatPassword, id: "repeatPassword" + e.uid, labelWidth: 100, label: _("repeatPassword"), on: { onChange: webix.bind((function (e) { var t = new RegExp("^(?=.{10,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$", "g"); if (0 === e.length || t.test(e)) { this.validate = !0; var i = $$("fuser" + this.uid).getValues(); i.password !== i.repeatPassword && webix.message(_("differentPassword"), "error", 3e3) } else webix.message(_("invalidPassword"), "error", 3e3), this.validate = !1 }), e) }, validate: function (e) { var t = new RegExp("^(?=.{10,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$", "g"), i = 0 === e.length || t.test(e); return i ? $$("password" + this.uid).getValue() === $$("repeatPassword" + this.uid).getValue() : i } }), a.push({}); var s = { margin: 0, relative: !0, padding: 0, view: "form", id: "fuser" + e.uid, complexData: !0, autoheight: !0, on: { onChange: function () { e._derty = !0 } }, data: r, elementsConfig: { labelPosition: "top", margin: 3, invalidMessage: _("invalid") }, elements: a }; return { rows: [Object(o.a)(_("user")), { view: "abslayout", rows: [s] }, { view: "toolbar", relative: !0, cols: [{}, { view: "button", icon: "mdi mdi-content-save", type: "iconTop", width: 40, css: "toolbarButton", height: 40, click: webix.bind(e.save, e) }] }] } })) }, t.prototype.photo = function () { if (this.uploader) { var e = $$("fuser" + this.uid).getValues()._id; this.uploader.fileDialog({ id: e }) } }, t.prototype.save = function () { var e = this, t = $$("fuser" + this.uid); $$("email" + this.uid).validate() && $$("name" + this.uid).validate() && $$("login" + this.uid).validate() ? this.validate = !0 : this.validate = !1; var i = t.getValues(), r = i.password || "", o = i.repeatPassword || ""; this.validate && r === o ? webix.ajax().post(_api + "user.save", i).then((function (t) { webix.message(_("savedChanges"), "info"), $$("fuser" + e.uid).$scope._derty = !1 })) : r !== o ? webix.message(_("differentPassword"), "info") : webix.message(_("invalidForm"), "error") }, t }(r.c); t.default = c }, function (e, t, i) { "use strict"; i.r(t), t.default = { action: "Action", active: "Active", activities: "Activities", "Actual duration": "Duración", addLink: "addLink", alarms: "alarms", "Alarms Parameters": "Alarms Parameters", annual: "annual", all: "all", alreadySaved: "alreadySaved", gpax: "gpax", archived: "archived", assistant: "assistant", assignment: "assignment", assigned: "assigned", attachments: "attachments", autoTimer: "autoTimer", available: "available", beginHiring: "beginHiring", bpd: "bpd", budget: "budget", bye: "bye", calendar: "calendar", cancel: "cancel", category: "category", calc: "calc", cited: "cited", channel: "channel", charset: "charset", class: "class", click2delete: "click2delete", click2open: "click2open", client: "client", clients: "clients", close: "close", closeEditor: "closeEditor", closeOrganigramEditor: "closeOrganigramEditor", closeProcessEditor: "closeProcessEditor", closeSesion: "closeSesion", code: "code", collection: "collection", combo: "combo", comment: "comment", comments: "comments", committed: "committed", commitment: "commitment", completed: "completed", condition: "condition", confirm: "Data not saved, continue and discard changes?", confirmDelete: "confirmDelete", constants: "constants", content: "content", copy: "copy", countryCode: "countryCode", create: "create", correspondence: "Correspondencia", createLanguages: "createLanguages", createPlans: "createPlans", createProcedures: "createProcedures", createProcesses: "createProcesses", createProjects: "createProjects", createTemplates: "createTemplates", createSequences: "createSequences", createUnits: "createUnits", createUsers: "createUsers", createTags: "createTags", createRepositories: "createRepositories", dates: "dates", dateTime: "dateTime", dashboard: "Panel de control", days: "days", "days before": "days before", dblClick2AddChild: "dblClick2AddChild", deadline: "deadline", device: "device", dayNames: "Sun,Mon,Tue,Wed,Thu,Fri,Sat,Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday", remove: "remove", description: "description", details: "details", detectedChanges: "detectedChanges", discart: "discart", discartChanges: "discartChanges", discardedEntry: "discardedEntry", discarded: "discarded", docsPend: "docsPend", document: "document", documents: "documents", draft: "draft", drag2upload: "drag2upload", dropHere: "dropHere", duration: "duration", edit: "edit", email: "email", "Email configuration": "Email configuration", end: "end", endDate: "endDate", endHiring: "endHiring", enter: "enter", entry: "entry", entries: "entries", erasedLog: "Erased log", error: "error", externalUnit: "externalUnit", expenseReports: "expenseReports", expired: "expired", expiredPassword: "expiredPassword", favorites: "favorites", fields: "fields", files: "files", filter: "filter", floating: "floating", format: "format", form: "form", from: "from", global: "global", gantt: "gantt", gateway: "gateway", gateways: "gateways", header: "header", hidden: "hidden", high: "high", highlights: "highlights", history: "history", holidays: "holidays", host: "host", "hours adjust": "hours adjust", hourCost: "hourCost", hours: "hours", identification: "identification", in: "in", inactiveuser: "inactiveuser", includeSignature: "includeSignature", invalid: "invalid", invalidCredentials: "invalidCredentials", invoice: "invoice", invoices: "invoices", input: "input", inprocessentry: "inprocessentry", interval: "interval", issue: "issue", item: "item", items: "items", justification: "justification", kanban: "kanban", laborData: "laborData", language: "language", languages: "languages", level: "level", licensedUser: "licensedUser", lifeCycle: "lifeCycle", limitUseTo: "limitUseTo", links: "links", loading: "loading", locale: "locale", log: "log", login: "login", logout: "logout", low: "low", manager: "manager", me: "me", medium: "medium", members: "members", member: "member", methods: "methods", minutes: "minutes", mission: "mission", months: "months", monthNames: "Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,January,February,March,April,May,June,July,August,September,October,November,December", msgNotClass: "msgNotClass", msgNotMethod: "msgNotMethod", msgNotReply: "msgNotReply", msgSeelog: "msgSeelog", myEntries: "myEntries", myProfile: "myProfile", myScheduler: "myScheduler", name: "name", note: "note", notification: "notification", nameSurname: "nameSurname", new: "new", newTransaction: "newTransaction", no: "no", notSaved: "notSaved", objective: "objective", objectives: "objectives", opeConnection: "openConnection", "Organization title": "Organization title", organizationChart: "organizationChart", organizationChartMaintenanace: "organizationChartMaintenanace", others: "others", output: "output", owner: "owner", path: "path", pause: "pause", processing: "processing", period: "period", perpetual: "perpetual", photo: "photo", plan: "plan", plans: "plans", placeholder: "placeholder", passTo: "passTo", password: "password", perUnit: "perUnit", port: "port", preview: "preview", print: "print", priority: "priority", processes: "processes", processChart: "processChart", processChartMaintenanace: "processChartMaintenanace", processType: "processType", progress: "progress", project: "project", projects: "projects", properties: "properties", received: "received", recipients: "recipients", froala: "froala", referredBy: "referredBy", referred: "referred", relationship: "relationship", repeatPassword: "repeatPassword", replied: "replied", reply: "reply", replyTo: "replyTo", repository: "repository", requiredBy: "requiredBy", reset: "reset", restrict2units: "restrcit2units", resolvedentry: "resolvedentry", resolved: "resolved", reviser: "reviser", roles: "roles", save: "save", savedChanges: "savedChanges", savingProblem: "savingProblem", scaleHour: "scaleHour", scaleDay: "scaleDay", scaleWeek: "scaleWeek", scaleMonth: "scaleMonth", scaleYear: "scaleYear", scope: "scope", search: "search", seconds: "secounds", sections: "sections", security: "security", send: "send", sent: "sent", sequence: "sequence", sequences: "sequences", server: "server", sessionExpired: "sessionExpired", settings: "settings", signature: "signature", signOff: "signOff", similarTo: "similarTo", size: "size", slogan: "slogan", source: "source", solution: "solution", specific: "specific", spreadsheet: "spreadsheet", start: "start", startDate: "startDate", statistics: "statistics", strategy: "strategy", status: "status", stx: "stx", subject: "subject", subobjective: "subobjective", suspended: "suspended", tags: "tags", Team: "Team", template: "template", templateName: "templateName", templates: "templates", templateType: "templateType", text: "text", time: "time", timeNames: "a,p,am,pm,A,P,AM,PM", timeReports: "timeReports", timeZone: "timeZone", to: "to", today: "today", todo: "todo", total: "total", toPDF: "toPDF", tools: "tools", transaction: "transaction", txt2search: "txt2search", type: "type", types: "types", unitName: "unitName", unitNameRequired: "unitNameRequired", unit: "unit", units: "units", unitType: "unitType", url: "url", unsave: "unsave", user: "user", userCode: "userCode", userLanguage: "userLanguage", users: "users", validEmail: "validEmail", value: "value", versions: "versions", vigency: "vigency", vision: "vision", wantSave: "wantSave", warning: "warning", wellcome: "wellcome", window: "window", withoutStarting: "withoutStarting", workDay: "workDay", wrokload: "wrokload", workflow: "workflow", workingDays: "workingDays", workGuide: "workGuide", yes: "yes", yesterday: "yesterday", "smtp server": "smtp server", "port Smtp": "port Smtp", "imap server": "imap server", "port Imap": "port Imap", public: "public", "expired Password": "expired Password", update: "update", deletedBy: "Deleted by", collectionName: "Collection Name", documentName: "Document name", documentStatus: "Document status", deletedDate: "Deleted date", restore: "Restore", restored: "Restored", adminTrash: "Admin trash", consecutive: "Consecutive", ticket: "Ticket", credit: "Credit", debit: "Debit" } }, function (e, t, i) { "use strict"; i.r(t), t.default = { accept: "Aceptar", accepted: "Aceptado", action: "Acción", active: "Activo", activity: "Actividad", activities: "Actividades", actual: "Actual", actualDuration: "Duración actual", add: "Agregar", addNew: "Agregar nuevo", addControl: "Agregar control", addLink: "Crear vínculo", address: "Dirección", advance: "Avance", alarms: "Alarmas", alarm: "alarma", alarmsParameters: "Parámetros de alarmas", amount: "Cantidad", amountWork: "Cantidad de trabajo", annual: "Anual", all: "Tod@s", alreadySaved: "Ya guardado", area: "Área", archive: "Archivo", archived: "Archivado", answered: "Respondido", assessment: "Evaluación", assessmentByRisk: "Evaluación por Riesgo", assessmentByFactor: "Evaluación por Factor", assessmentByControl: "Efectividad de controles", answerDate: "Fecha de Respuesta", assistant: "Asistente", assignment: "Asignación", assigned: "Asignado", attachments: "Archivos adjuntos", attended: "Atendido", attached: "Anexo", attacheds: "Anexos", attachedKanban: "Anexos por estado", attachedsOfUnit: "Anexos de unidad", autoTimer: "Registro automático de tiempo", autoSchedule: "Programación automática", authorized: "Autorizada", auditCommitee: "Comité de auditoría", auditUnit: "Unidad Auditora", available: "Disponible", average: "Promedio", backup: "Respaldo", backups: "Respaldos", backgroundColor: "Color de fondo", base: "Base", baseline: "Línea base", differentPassword: "Las contraseñas no coinciden", documentBased: "Basado en documento", documental: "Documentar", beginHiring: "Ingreso", bpmn: "BPMN", bpd: "Proceso de negocio", body: "Cuerpo", budget: "Presupuesto", businessDays: "Días hábiles", byControls: "Efectividad controles", bye: "Adiós", byFactors: "Por factores", byResource: "Por recurso", byRisk: "Por riesgo", byStatus: "Por estados", calendar: "Calendario", cancel: "Cancelar", canceled: "Cancelado", canton: "Cantón", category: "Categoría", calc: "Calculos", capacity: "Capacidad", center: "centro", cited: "Citado", channel: "Canal", change: "Cambiar", charset: "Conjunto de caracteres", checkList: "Lista de verificación", chart: "Gráfico", class: "Clase", created: "Creado", click2delete: "Clic para borrar", click2edit: "Clic para editar", click2open: "Clic para abrir", client: "Cliente", clients: "Clientes", close: "Cerrar", closeEditor: "Cerrar el editor", closeOrganigramEditor: "Cerrar editor de organigrama", closeProcessEditor: "Cerrar editor de proceso", closeSesion: "Cerrar sesión", code: "Código", collection: "Colección", combo: "Combo", comment: "Comentario", comments: "Comentarios", committed: "Comprometido", commitment: "Compromiso", commitmentKanban: "Compromisos por estado", commitments: "Compromisos", companies: "Compañias", complete: "Completo", completed: "Completado", compliance: "Conformidad", condition: "Condición", confidential: "Confidencial", confirm: "Datos no guardados, continuar y descartar cambios?", confirmDelete: "Atención, ¿Realmente quiere borrar este documento?", constants: "Constantes", content: "Contenido", controlMatrix: "Matriz de controles", controls: "Controles", control: "Control", copy: "Copiar", copies: "Copia", countryCode: "Código de país", count: "Contador", create: "Crear", color: "Color", columns: "Columnas", communication: "Comunicación", configuration: "Configuración", continue: "Continuar", continuingEducation: "Educación Continua", company: "Compañía", companyName: "Nombre de Compañia", correspondence: "Correspondencia", createLanguages: "Crear lenguajes", createPlans: "Crear planes", createProcedures: "Crear procedimientos", createProcesses: "Crear procesos", createProjects: "Crear proyectos", createTemplates: "Crear plantillas", createSequences: "Crear secuencias", createUnits: "Crear unidades", createUsers: "Crear usuarios", createTags: "Crear etiquetas", createRepositories: "Crear repositorios", criticality: "Criticidad", communicationOnly: "Usuario de comunicación", currency: "Moneda", cutoffDate: "Fecha de corte", datatable: "Tabla de datos", dataview: "Vista de datos", date: "Fecha", dateEvent: "Fecha del evento", dateRange: "Rango Fecha", dateReport: "Fecha de reporte", dates: "Fechas", dateTime: "Fecha y hora", dashboard: "Tablero de control", dayNames: "Dom Lun Mar Mié Jue Vie Sáb Domingo Lunes Martes Miércoles Jueves Viernes Sábado", days: "Días", daysBefore: "Días antes", daysEstimated: "Días estimados", deutsch: "Alemán", dblClick2AddChild: "Doble clic para crear documento hijo", deadline: "Vencimiento", delayedProjects: "Proyectos retrasados", delete: "Borrar", default: "Por defecto", degree: "Grado", department: "Departamento", device: "Dispositivo", description: "Descripción", detail: "Detalle", details: "Detalles", deliveredTo: "Entregado a", detectedChanges: "Cambios detectados", discart: "Descartar", discartChanges: "Descartar cambios", discardedEntry: "Entrada descartada", discarded: "Descartado", district: "Distrito", docsPend: "Documentos pendientes", document: "Documento", documents: "Documentos", done: "Terminado", download: "Descargar", draft: "Borrador", drag2upload: "Arrastre para cargar", dropHere: "Sueltelo aquí", duration: "Duración", duplicate: "Duplicar", edit: "Editar", editor: "Procesador de palabras", effectivity: "Efectividad", effectivityOfAProcess: "Efectividad del proceso", email: "Correo electrónico", emisor: "Emisor", emisorUnit: "Unidad emisora", "email account": "Cuenta correo", "Email configuration": "Configuración de correo electrónico", end: "Fin", endDate: "Fecha final", english: "Inglés", endHiring: "Fin de contrato", enter: "Ingresar", entry: "Entrada", entries: "Entradas", erasedLog: "Registro de borrados", error: "Error", evaluationMatrix: "Matriz de evaluación", evidence: "Evidencia", evidences: "Evidencias", event: "Evento", events: "Eventos", excel: "Excel", exclude: "Excluir", excludeSection2: "Excluir sección 2", excludeSection3: "Excluir sección 3", externalUnit: "Unidad externa", externalUnits: "Unidades externas", extension: "Extensión", expenseReports: "Reportes de gastos", expired: "Expirado", expires: "Vence", expiredPassword: "Clave expirada", expirationPassword: "EXPIRACIÓN DE LA CLAVE", exportAs: "Exportar como...", factor: "Factor", factors: "Factores", favorites: "Favoritos", favorite: "Favorito", fe: "Factura electrónica", fields: "Campos", findings: "Hallazgos", files: "Archivos", fileManager: "Administrador de archivos", filter: "Filtro", floating: "Flotando", format: "Formato", form: "Formulario", formula: "Fórmula", footer: "Pie de tabla", froala: "Editor froala", from: "De", fullscreen: "Pantalla completa", fullscreenExit: "Salir pantalla completa", gantt: "Gantt", gateway: "Gateway", gateways: "Gatewaays", getMethods: "Obtener servicios", giveBack: "Devolver", gravity: "Peso", global: "global", globalAvailable: "Disponible global(Plan)", goal: "Meta", goals: "Metas", gpax: "Gestión de proyectos y automatización de procesos", grid: "Tabla de datos", gui: "Interfaz de usuario", guis: "Interfaces de usuario", header: "Encabezado", hide: "Ocultar", hidden: "Escondido", high: "Alto", highlights: "Destacados", hint: "Consejo", history: "Historia", holidays: "Festivos", host: "Servidor", hourCost: "Valor hora", hourTrainning: "Duración", "hours adjust": "Ajuste de horas", hours: "Horas", id: "Cédula", identification: "Identificación", idType: "Tipo de identificación", idNumber: "Identificación", in: "En", inactiveuser: "Usuario inactivo", inactive: "Inactivo", includeSignature: "Incluye firma", incomplete: "Incompleto", indicator: "Indicador", indicators: "Indicadores", invalid: "Inválido", invalidCredentials: "Credenciales inválidas", invalidPassword: "Contraseña inválida", invalidName: "Nombre inválido", invalidUnitUsers: "Usuarios externos no pueden formar parte de esta unidad", invoice: "Factura", invoices: "Facturas", reportInvoice: "Reporte Factura", invoicesNote: "Nota crédito/débito", invoices2pay: "Recibidas", input: "Ingreso", inprocessentry: "Entrada en proceso", inProcess: "En proceso", interval: "Intervalo", impact: "Impacto", improvement: "Oportunidad de mejora", residualImpact: "Impacto residual", issue: "Publicar", item: "Artículo", items: "Artículos", justification: "Justificación", kanban: "Kanban", laborData: "Datos laborales", language: "Lenguaje", languages: "Lenguajes", legal: "Legal", letter: "Carta", level: "Nivel", license: "Licencia", licensedUser: "Usuario con licencia", lifeCycle: "Ciclo de vida", limitUseTo: "Uso limitado a", link: "Enlace", links: "Enlaces", listReal: "Lista real", listplanned: "Lista planeada", loading: "Cargando", Loading: "Cargando", locale: "Local", location: "Dirección", log: "Bitácora", login: "Ingresar", logout: "Salir", low: "Bajo", map: "mapa", manager: "Gerente", manualSchedule: "Programación manual", me: "Mi", medium: "Medio", milestone: "hito", members: "Miembros", member: "Miembro", menu: "Menú", message: "Mensaje", methods: "Métodos", minutes: "Minutos", mission: "Misión", modified: "Modificado", months: "Meses", monthNames: "enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre", msgNotClass: "Clase no existe", msgNotMethod: "Método no existe", msgNotReply: "Sin respuesta", msgSeelog: "Revise la bitácora", multiSelect: "Selección múltiple", myEntries: "Mis entradas", myProfile: "Mi perfil", myScheduler: "Mi organizador", name: "Nombre", No: "No", none: "Ninguno", note: "Nota", notes: "Notas", notesForPeriod: "Notas por periodo", notification: "Notificación", notifications: "Notificaciones", nameSurname: "Apellido", new: "Nueva", nextWeek: "Semana siguiente", newTransaction: "Nueva transacción", no: "No", notSaved: "Sin guardado", notData: "No hay datos", objective: "Objetivo", objectives: "Objetivos", observation: "Observaciones", office: "Oficio", openConnection: "Abrir conexión", operativePlan: "Plan operativo", organization: "Organización", organogram: "Organigrama", others: "Otros", otherActivity: "Otras actividades", output: "Salida", overdue: "atrasado", owner: "Dueño", pageType: "Tipo página", parameters: "Parámetros generales", path: "Ruta", pause: "Pausa", paused: "Pausado", pdf: "PDF", pending: "Pendiente", pendingInvoices: "Facturas pendientes", pendingInvoices2pay: "Recibidas pendientes", pendingInvoicesNote: "Notas pendientes", perpetual: "Permanente", period: "Periodo", periods: "Periodos", periodicity: "Periodicidad", personalization: "Personalización", photo: "Foto", phone: "Teléfono", phoneCode: "Código país", plan: "Plan", planGantt: "Gantt del plan", planned: "Planeado", planning: "Planificación", planDocument: "Plan en un documento", plans: "Planes operativos", placeholder: "placeholder", passTo: "Pasar a", password: "Contraseña", perUnit: "Por unidad", pivotChart: "Gráfico dinámico", pivotTable: "Tabla dinámica", port: "Puerto", preview: "Vista previa", prepared: "Preparado", print: "Imprimir", priority: "Prioridad", probability: "Probabilidad", processAssessment: "Evaluación del proceso", residualProbability: "Probabilidad residual", processes: "Procesos", process: "Proceso", processControl: "Evaluación de control", processChart: "Tabla de procesos", processChartMaintenanace: "Mantenimiento tabla de porcesos", processDate: "Fecha proceso", processing: "En proceso", processingCommitments: "Compromisos pendientes", processType: "Tipo de proceso", production: "Producción", progress: "Progreso", project: "Proyecto", projects: "Proyectos", projectTask: "Tarea de un proyecto", properties: "Propiedades", province: "Provincia", quarterlyReport: "Informe trimestral", quarter: "Trimestre", quickUser: "Nuevo usuario", received: "Recibido", receiver: "Receptor", receiverUnit: "Unidad receptora", recipients: "Recipientes", responsibleUnit: "Unidad responsable", ready: "Listo", real: "Real", recommendations: "Recomendaciones", recordDate: "Fecha creación", recorded: "grabado", recordingAudio: "Grabando audio...", redactor: "Procesador de palabras", referredBy: "Referido por", referred: "Referido", refresh: "Refrescar", relationship: "Relación", remaining: "Restante", remove: "Remover", repeatPassword: "Repetir clave", replied: "Respondido", reply: "Responder", replyTo: "Responder a", repository: "Repositorio", reportUser: "Reporte Usuarios", requiredBy: "Requerido por", requiredDays: "Días requeridos", requiredResponse: "Requiere respuesta", reset: "Reiniciar", residualRisk: "Riesgo residual", restrict2units: "Restringir a unidades", restrictedTo: "Restringido a", resolvedentry: "Entrada resuelta", resolved: "Resuelto", resources: "Recursos", result: "Resultado", responsible: "Responsable", returned: "Devuelto", reviser: "Revisor", reviserUnit: "Unidad revisora", review: "Revisar", reviewed: "Revisado", reviewers: "Revisores", reviewedSchedulers: "Revisar tiempos", report: "Reporte", reports: "Reportes", RI: "Riesgo inherente", RR: "Riesgo residual", RROfAProcess: "Riesgo residual del proceso", risk: "Riesgo", riskFactor: "Medio", risks: "Riesgos", riskAssessments: "Calificación del riesgo", riskEvent: "Evento de riesgo", riskEvents: "Eventos de riesgo", riskLevel: "Nivel de riesgo", riskMatrix: "Matriz de riesgos", riskRanges: "Rangos de riesgo", riskValue: "Valor de riesgo", role: "Rol", roles: "Roles", rpa: "RPA", rpaAdminUser: "Administrador RPA", rpaDocuments: "Documentos generados por RPA", rpaLogs: "Bitácora RPA", rpaSettings: "Configuración RPA", rpaUserNotify: "RPA - Notificar a", runnable: "Ejecutar", sandbox: "Pruebas", save: "Guardar", savedChanges: "Cambios guardados", savingProblem: "Problema al guardar", scalable: "Escalable", scale: "Escalas", scaleHour: "Escala por horas", scaleDay: "Escala por días", scaleWeek: "Escala por semanas", scaleMonth: "Escala por meses", scaleYear: "Escala por años", scope: "Alcance", schedule: "", search: "Buscar", seconds: "Segundos", sections: "Seccionoes", security: "Seguridad", securityCode: "Código de seguridad", select: "Seleccione", send: "En proceso", sendMessage: "Texto del email", sent: "Enviado", seenBy: "Visto por", seen: "Visto", sequence: "Consecutivo", sequences: "Consecutivos", server: "Servidor", servers: "Servidores", service: "Servicio", services: "Servicios", sessionExpired: "Sesión expirada", settings: "Configuración", signal: "Señal", signals: "Señales", signature: "Firma", signOff: "Terminar", similarTo: "Similar a", size: "Tamaño", skill: "Experiencia", snippet: "Snippet", slogan: "Eslogan", slopes: "Pendientes", source: "Fuente", solution: "Solución", spanish: "Español", specific: "Específico", specificRisk: "Riesgo específico", spreadsheet: "Hoja de cálculo", start: "Inicio", started: "Iniciado", startDate: "Fecha inicio", statistics: "Estadísticas", sticker: "Etiquetador", strategicObjective: "Objetivo estratégico", strategies: "Planes estratégicos", strategy: "Estrategia", status: "Estado", steps: "Pasos", step: "Paso", stx: "stx", stop: "Parar", subject: "Asunto", subobjective: "Subobjetivo", sum: "suma", suspended: "Suspendido", supervisorDefault: "Supervisor(a) predeterminad@", supervisorOn: "Supervisor(a) activad@", supervisorOff: "Supervisor(a) desactivad@", support: "Soporte", table: "Tabla pivote", tag: "Etiqueta", tags: "Etiquetas", task: "Tarea", tasks: "Tareas", tracking: "Seguimiento", trackingDate: "Fecha de seguimiento", trainnningsHours: "Horas de Capacitación", telephone: "Teléfono", Team: "Equipo", template: "Modelo", templateName: "Nombre del modelo", templates: "Modelos", templateType: "Tipo de modelo", termDays: "Plazo", text: "Texto", textColor: "Color de texto", time: "Tiempo", timeNames: "a p am pm A P AM PM", timeReports: "Reportes de tiempo", timeZone: "zona horaria", timeByArea: "Tiempo por área", timePivotChart: "Gráfico reportes de tiempo", timePivotTable: "Tabla reportes de tiempo", to: "Para", today: "Hoy", todo: "Todo", toIssue: "Remitir", total: "Total", toPDF: "Como PDF", tools: "Herramientas", topic: "Tema", topics: "Temas", toAnswered: "Para responder", toAccept: "Para aceptar", toCheck: "Para revisar", toStart: "Para iniciar", token: "Token", trainning: "Capacitaciones", transaction: "Transacción", txt2search: "Texto a buscar", type: "Tipo", types: "Tipos", typing: "Escribiendo...", unitName: "Nombre de unidad", unitNameRequired: "Nombre de unidad requerido", unit: "Unidad", units: "Unidades", unitType: "Tipo de unidad", url: "url", unsave: "No guardar", until: "Hasta", update: "Actualizar", user: "Usuario", userCode: "Código de usuario", userLanguage: "Lenguaje del usuario", users: "Usuarios", userReport: "Reportado por", validEmail: "Correo electrónico válido", value: "Valor", versions: "Versiones", vigency: "Vigencia", vision: "Vision", wantSave: "Quiere guardar sus cambios", warning: "Advertencia", welcome: "Bienvenid@", week: "Semana", weeks: "Semanas", weekDays: "Días de la semana", weight: "Peso", window: "Ventana", withBorder: "Con bordes", withoutStarting: "Sin iniciar", wordProcessor: "Procesador de palabras", workDay: "Jornada laboral", workload: "Carga de trabajo", workflow: "Flujo de trabajo", workingDays: "Días laborales", workGuide: "Guía de trabajo", workPapers: "Papeles de trabajo", yes: "Si", yesterday: "Ayer", year: "Año", years: "Años", zoomIn: "Acercar", zoomOut: "Alejar", january: "Enero", february: "Febrero", march: "Marzo", april: "Abril", may: "Mayo", june: "Junio", july: "Julio", august: "Agosto", september: "Septiembre", october: "Octubre", november: "Noviembre", december: "Diciembre", sunday: "Domingo", sendBy: "Enviado por", monday: "Lunes", tuesday: "Martes", wednesday: "Miércoles", thursday: "Jueves", friday: "Viernes", saturday: "Sábado", keepTimeForLunch: "Hora de almuerzo", off: "Sin hora de almuerzo", "smtp server": "servidor SMTP", "port Smtp": "puerto SMTP", "imap server": "servidor Imap", "port Imap": "puerto Imap", public: "Público", "expired Password": "contraseña expirada", deletedBy: "Borrado por", collectionName: "Nombre de colección", documentName: "Nombre del documento", documentStatus: "Estado del documento", deleted: "Borrado", deletedDate: "Fecha de borrado", restore: "Restaurar", restored: "Restaurado", adminTrash: "Administrador general", consecutive: "Consecutivo", ticket: "Tiquete", credit: "Crédito", debit: "Débito", mandatory: "Obligatorio", recurrent: "Recurrente", heatMap: "Mapa de calor", auditable: "Elemento auditable", auditables: "Universo auditable", lock: "Bloquear", unlock: "Desbloquear", locked: "Bloqueado", unlocked: "Desbloqueado", getToken: "Obtener Token", "contains plans or objectives created, can not be deleted": "Contiene planes u objetivos creados, no puede ser borrado", xmlDownload: "Descargar xml", xmlUpload: "Cargar xml", "Data loaded": "Datos cargados", SaveAutomaticTimer: "Guardar tiempo", byAuditor: "Por auditor", byDeparment: "Por Departamento", "Confirm Sequence": "Confirmar secuencia", forUnit: "Por unidad", channels: "Canales", messages: "Mensajes", "no projects": "No hay proyectos", linkless: "Proyectos sin metas", unlink: "Desvincular", "Hours per day": "Horas por día", "Tasks per day": "Tareas por día", undo: "Deshacer", redo: "Rehacer", addDocuments: "Añadir documentos", changeStatus: "Cambiar estado", pdfWithDetails: "PDF con detalles", pdfHeader: "PDF con encabezado", bpmnSuite: "Suite bpmn", bpds: "Procesos de negocio", avgResponse: "Promedio de respuesta", normal: "Normal", auditCommitteeAgreements: "Acuerdos comité de auditoría", duplicated: "Duplicado", "can't create projects": "No puede crear proyectos", unitActive: "Activa", offline: "Fuera de línea", online: "En línea", automationLevel: "Nivel de automatización", competencies: "Competencias", position: "Posición", ofProcess: "Ef. Proceso", ri: "RI", rr: "RR", performanceForms: "Evaluación de Desempeño", performance: "Evaluación de Desempeño", nameEvaluador: "Evaluador", inWriting: "En redacción", informative: "Informativo", import: "Importar", evaluate: "Evaluar", daily: "Diario", weekly: "Semanal", monthly: "Mensual", quarterly: "Trimestral", ADIntegration: "Configuracion del Active Directory", realm: "Dominio AD", importActivity: "Importar Actividad", useKerberos: "Credenciales Windows", sign: "Firmar", setSequence: "Establecer secuencia", previousWeek: "Semana anterior", displayTask: "Mostrar tarea", undefined: "-Indefinido-", png: "png", PDFs: "PDFs", printPdf: "Imprimir PDF", expense: "Gastos", "Nº": "Nº", extensions: "Prórrogas", papersAutoReview: "Revisar automáticamente", invalidForm: "No se pudo guardar el formulario", certificates: "Certificados", pin: "PIN", certificate: "Certificado", version: "Versión", validate: "Validar", planDeletedMessage: "Contiene metas y/o actividades creadas, No se puede borrar" } }, function (e, t) { var i = [["Aacute", [193]], ["aacute", [225]], ["Abreve", [258]], ["abreve", [259]], ["ac", [8766]], ["acd", [8767]], ["acE", [8766, 819]], ["Acirc", [194]], ["acirc", [226]], ["acute", [180]], ["Acy", [1040]], ["acy", [1072]], ["AElig", [198]], ["aelig", [230]], ["af", [8289]], ["Afr", [120068]], ["afr", [120094]], ["Agrave", [192]], ["agrave", [224]], ["alefsym", [8501]], ["aleph", [8501]], ["Alpha", [913]], ["alpha", [945]], ["Amacr", [256]], ["amacr", [257]], ["amalg", [10815]], ["amp", [38]], ["AMP", [38]], ["andand", [10837]], ["And", [10835]], ["and", [8743]], ["andd", [10844]], ["andslope", [10840]], ["andv", [10842]], ["ang", [8736]], ["ange", [10660]], ["angle", [8736]], ["angmsdaa", [10664]], ["angmsdab", [10665]], ["angmsdac", [10666]], ["angmsdad", [10667]], ["angmsdae", [10668]], ["angmsdaf", [10669]], ["angmsdag", [10670]], ["angmsdah", [10671]], ["angmsd", [8737]], ["angrt", [8735]], ["angrtvb", [8894]], ["angrtvbd", [10653]], ["angsph", [8738]], ["angst", [197]], ["angzarr", [9084]], ["Aogon", [260]], ["aogon", [261]], ["Aopf", [120120]], ["aopf", [120146]], ["apacir", [10863]], ["ap", [8776]], ["apE", [10864]], ["ape", [8778]], ["apid", [8779]], ["apos", [39]], ["ApplyFunction", [8289]], ["approx", [8776]], ["approxeq", [8778]], ["Aring", [197]], ["aring", [229]], ["Ascr", [119964]], ["ascr", [119990]], ["Assign", [8788]], ["ast", [42]], ["asymp", [8776]], ["asympeq", [8781]], ["Atilde", [195]], ["atilde", [227]], ["Auml", [196]], ["auml", [228]], ["awconint", [8755]], ["awint", [10769]], ["backcong", [8780]], ["backepsilon", [1014]], ["backprime", [8245]], ["backsim", [8765]], ["backsimeq", [8909]], ["Backslash", [8726]], ["Barv", [10983]], ["barvee", [8893]], ["barwed", [8965]], ["Barwed", [8966]], ["barwedge", [8965]], ["bbrk", [9141]], ["bbrktbrk", [9142]], ["bcong", [8780]], ["Bcy", [1041]], ["bcy", [1073]], ["bdquo", [8222]], ["becaus", [8757]], ["because", [8757]], ["Because", [8757]], ["bemptyv", [10672]], ["bepsi", [1014]], ["bernou", [8492]], ["Bernoullis", [8492]], ["Beta", [914]], ["beta", [946]], ["beth", [8502]], ["between", [8812]], ["Bfr", [120069]], ["bfr", [120095]], ["bigcap", [8898]], ["bigcirc", [9711]], ["bigcup", [8899]], ["bigodot", [10752]], ["bigoplus", [10753]], ["bigotimes", [10754]], ["bigsqcup", [10758]], ["bigstar", [9733]], ["bigtriangledown", [9661]], ["bigtriangleup", [9651]], ["biguplus", [10756]], ["bigvee", [8897]], ["bigwedge", [8896]], ["bkarow", [10509]], ["blacklozenge", [10731]], ["blacksquare", [9642]], ["blacktriangle", [9652]], ["blacktriangledown", [9662]], ["blacktriangleleft", [9666]], ["blacktriangleright", [9656]], ["blank", [9251]], ["blk12", [9618]], ["blk14", [9617]], ["blk34", [9619]], ["block", [9608]], ["bne", [61, 8421]], ["bnequiv", [8801, 8421]], ["bNot", [10989]], ["bnot", [8976]], ["Bopf", [120121]], ["bopf", [120147]], ["bot", [8869]], ["bottom", [8869]], ["bowtie", [8904]], ["boxbox", [10697]], ["boxdl", [9488]], ["boxdL", [9557]], ["boxDl", [9558]], ["boxDL", [9559]], ["boxdr", [9484]], ["boxdR", [9554]], ["boxDr", [9555]], ["boxDR", [9556]], ["boxh", [9472]], ["boxH", [9552]], ["boxhd", [9516]], ["boxHd", [9572]], ["boxhD", [9573]], ["boxHD", [9574]], ["boxhu", [9524]], ["boxHu", [9575]], ["boxhU", [9576]], ["boxHU", [9577]], ["boxminus", [8863]], ["boxplus", [8862]], ["boxtimes", [8864]], ["boxul", [9496]], ["boxuL", [9563]], ["boxUl", [9564]], ["boxUL", [9565]], ["boxur", [9492]], ["boxuR", [9560]], ["boxUr", [9561]], ["boxUR", [9562]], ["boxv", [9474]], ["boxV", [9553]], ["boxvh", [9532]], ["boxvH", [9578]], ["boxVh", [9579]], ["boxVH", [9580]], ["boxvl", [9508]], ["boxvL", [9569]], ["boxVl", [9570]], ["boxVL", [9571]], ["boxvr", [9500]], ["boxvR", [9566]], ["boxVr", [9567]], ["boxVR", [9568]], ["bprime", [8245]], ["breve", [728]], ["Breve", [728]], ["brvbar", [166]], ["bscr", [119991]], ["Bscr", [8492]], ["bsemi", [8271]], ["bsim", [8765]], ["bsime", [8909]], ["bsolb", [10693]], ["bsol", [92]], ["bsolhsub", [10184]], ["bull", [8226]], ["bullet", [8226]], ["bump", [8782]], ["bumpE", [10926]], ["bumpe", [8783]], ["Bumpeq", [8782]], ["bumpeq", [8783]], ["Cacute", [262]], ["cacute", [263]], ["capand", [10820]], ["capbrcup", [10825]], ["capcap", [10827]], ["cap", [8745]], ["Cap", [8914]], ["capcup", [10823]], ["capdot", [10816]], ["CapitalDifferentialD", [8517]], ["caps", [8745, 65024]], ["caret", [8257]], ["caron", [711]], ["Cayleys", [8493]], ["ccaps", [10829]], ["Ccaron", [268]], ["ccaron", [269]], ["Ccedil", [199]], ["ccedil", [231]], ["Ccirc", [264]], ["ccirc", [265]], ["Cconint", [8752]], ["ccups", [10828]], ["ccupssm", [10832]], ["Cdot", [266]], ["cdot", [267]], ["cedil", [184]], ["Cedilla", [184]], ["cemptyv", [10674]], ["cent", [162]], ["centerdot", [183]], ["CenterDot", [183]], ["cfr", [120096]], ["Cfr", [8493]], ["CHcy", [1063]], ["chcy", [1095]], ["check", [10003]], ["checkmark", [10003]], ["Chi", [935]], ["chi", [967]], ["circ", [710]], ["circeq", [8791]], ["circlearrowleft", [8634]], ["circlearrowright", [8635]], ["circledast", [8859]], ["circledcirc", [8858]], ["circleddash", [8861]], ["CircleDot", [8857]], ["circledR", [174]], ["circledS", [9416]], ["CircleMinus", [8854]], ["CirclePlus", [8853]], ["CircleTimes", [8855]], ["cir", [9675]], ["cirE", [10691]], ["cire", [8791]], ["cirfnint", [10768]], ["cirmid", [10991]], ["cirscir", [10690]], ["ClockwiseContourIntegral", [8754]], ["clubs", [9827]], ["clubsuit", [9827]], ["colon", [58]], ["Colon", [8759]], ["Colone", [10868]], ["colone", [8788]], ["coloneq", [8788]], ["comma", [44]], ["commat", [64]], ["comp", [8705]], ["compfn", [8728]], ["complement", [8705]], ["complexes", [8450]], ["cong", [8773]], ["congdot", [10861]], ["Congruent", [8801]], ["conint", [8750]], ["Conint", [8751]], ["ContourIntegral", [8750]], ["copf", [120148]], ["Copf", [8450]], ["coprod", [8720]], ["Coproduct", [8720]], ["copy", [169]], ["COPY", [169]], ["copysr", [8471]], ["CounterClockwiseContourIntegral", [8755]], ["crarr", [8629]], ["cross", [10007]], ["Cross", [10799]], ["Cscr", [119966]], ["cscr", [119992]], ["csub", [10959]], ["csube", [10961]], ["csup", [10960]], ["csupe", [10962]], ["ctdot", [8943]], ["cudarrl", [10552]], ["cudarrr", [10549]], ["cuepr", [8926]], ["cuesc", [8927]], ["cularr", [8630]], ["cularrp", [10557]], ["cupbrcap", [10824]], ["cupcap", [10822]], ["CupCap", [8781]], ["cup", [8746]], ["Cup", [8915]], ["cupcup", [10826]], ["cupdot", [8845]], ["cupor", [10821]], ["cups", [8746, 65024]], ["curarr", [8631]], ["curarrm", [10556]], ["curlyeqprec", [8926]], ["curlyeqsucc", [8927]], ["curlyvee", [8910]], ["curlywedge", [8911]], ["curren", [164]], ["curvearrowleft", [8630]], ["curvearrowright", [8631]], ["cuvee", [8910]], ["cuwed", [8911]], ["cwconint", [8754]], ["cwint", [8753]], ["cylcty", [9005]], ["dagger", [8224]], ["Dagger", [8225]], ["daleth", [8504]], ["darr", [8595]], ["Darr", [8609]], ["dArr", [8659]], ["dash", [8208]], ["Dashv", [10980]], ["dashv", [8867]], ["dbkarow", [10511]], ["dblac", [733]], ["Dcaron", [270]], ["dcaron", [271]], ["Dcy", [1044]], ["dcy", [1076]], ["ddagger", [8225]], ["ddarr", [8650]], ["DD", [8517]], ["dd", [8518]], ["DDotrahd", [10513]], ["ddotseq", [10871]], ["deg", [176]], ["Del", [8711]], ["Delta", [916]], ["delta", [948]], ["demptyv", [10673]], ["dfisht", [10623]], ["Dfr", [120071]], ["dfr", [120097]], ["dHar", [10597]], ["dharl", [8643]], ["dharr", [8642]], ["DiacriticalAcute", [180]], ["DiacriticalDot", [729]], ["DiacriticalDoubleAcute", [733]], ["DiacriticalGrave", [96]], ["DiacriticalTilde", [732]], ["diam", [8900]], ["diamond", [8900]], ["Diamond", [8900]], ["diamondsuit", [9830]], ["diams", [9830]], ["die", [168]], ["DifferentialD", [8518]], ["digamma", [989]], ["disin", [8946]], ["div", [247]], ["divide", [247]], ["divideontimes", [8903]], ["divonx", [8903]], ["DJcy", [1026]], ["djcy", [1106]], ["dlcorn", [8990]], ["dlcrop", [8973]], ["dollar", [36]], ["Dopf", [120123]], ["dopf", [120149]], ["Dot", [168]], ["dot", [729]], ["DotDot", [8412]], ["doteq", [8784]], ["doteqdot", [8785]], ["DotEqual", [8784]], ["dotminus", [8760]], ["dotplus", [8724]], ["dotsquare", [8865]], ["doublebarwedge", [8966]], ["DoubleContourIntegral", [8751]], ["DoubleDot", [168]], ["DoubleDownArrow", [8659]], ["DoubleLeftArrow", [8656]], ["DoubleLeftRightArrow", [8660]], ["DoubleLeftTee", [10980]], ["DoubleLongLeftArrow", [10232]], ["DoubleLongLeftRightArrow", [10234]], ["DoubleLongRightArrow", [10233]], ["DoubleRightArrow", [8658]], ["DoubleRightTee", [8872]], ["DoubleUpArrow", [8657]], ["DoubleUpDownArrow", [8661]], ["DoubleVerticalBar", [8741]], ["DownArrowBar", [10515]], ["downarrow", [8595]], ["DownArrow", [8595]], ["Downarrow", [8659]], ["DownArrowUpArrow", [8693]], ["DownBreve", [785]], ["downdownarrows", [8650]], ["downharpoonleft", [8643]], ["downharpoonright", [8642]], ["DownLeftRightVector", [10576]], ["DownLeftTeeVector", [10590]], ["DownLeftVectorBar", [10582]], ["DownLeftVector", [8637]], ["DownRightTeeVector", [10591]], ["DownRightVectorBar", [10583]], ["DownRightVector", [8641]], ["DownTeeArrow", [8615]], ["DownTee", [8868]], ["drbkarow", [10512]], ["drcorn", [8991]], ["drcrop", [8972]], ["Dscr", [119967]], ["dscr", [119993]], ["DScy", [1029]], ["dscy", [1109]], ["dsol", [10742]], ["Dstrok", [272]], ["dstrok", [273]], ["dtdot", [8945]], ["dtri", [9663]], ["dtrif", [9662]], ["duarr", [8693]], ["duhar", [10607]], ["dwangle", [10662]], ["DZcy", [1039]], ["dzcy", [1119]], ["dzigrarr", [10239]], ["Eacute", [201]], ["eacute", [233]], ["easter", [10862]], ["Ecaron", [282]], ["ecaron", [283]], ["Ecirc", [202]], ["ecirc", [234]], ["ecir", [8790]], ["ecolon", [8789]], ["Ecy", [1069]], ["ecy", [1101]], ["eDDot", [10871]], ["Edot", [278]], ["edot", [279]], ["eDot", [8785]], ["ee", [8519]], ["efDot", [8786]], ["Efr", [120072]], ["efr", [120098]], ["eg", [10906]], ["Egrave", [200]], ["egrave", [232]], ["egs", [10902]], ["egsdot", [10904]], ["el", [10905]], ["Element", [8712]], ["elinters", [9191]], ["ell", [8467]], ["els", [10901]], ["elsdot", [10903]], ["Emacr", [274]], ["emacr", [275]], ["empty", [8709]], ["emptyset", [8709]], ["EmptySmallSquare", [9723]], ["emptyv", [8709]], ["EmptyVerySmallSquare", [9643]], ["emsp13", [8196]], ["emsp14", [8197]], ["emsp", [8195]], ["ENG", [330]], ["eng", [331]], ["ensp", [8194]], ["Eogon", [280]], ["eogon", [281]], ["Eopf", [120124]], ["eopf", [120150]], ["epar", [8917]], ["eparsl", [10723]], ["eplus", [10865]], ["epsi", [949]], ["Epsilon", [917]], ["epsilon", [949]], ["epsiv", [1013]], ["eqcirc", [8790]], ["eqcolon", [8789]], ["eqsim", [8770]], ["eqslantgtr", [10902]], ["eqslantless", [10901]], ["Equal", [10869]], ["equals", [61]], ["EqualTilde", [8770]], ["equest", [8799]], ["Equilibrium", [8652]], ["equiv", [8801]], ["equivDD", [10872]], ["eqvparsl", [10725]], ["erarr", [10609]], ["erDot", [8787]], ["escr", [8495]], ["Escr", [8496]], ["esdot", [8784]], ["Esim", [10867]], ["esim", [8770]], ["Eta", [919]], ["eta", [951]], ["ETH", [208]], ["eth", [240]], ["Euml", [203]], ["euml", [235]], ["euro", [8364]], ["excl", [33]], ["exist", [8707]], ["Exists", [8707]], ["expectation", [8496]], ["exponentiale", [8519]], ["ExponentialE", [8519]], ["fallingdotseq", [8786]], ["Fcy", [1060]], ["fcy", [1092]], ["female", [9792]], ["ffilig", [64259]], ["fflig", [64256]], ["ffllig", [64260]], ["Ffr", [120073]], ["ffr", [120099]], ["filig", [64257]], ["FilledSmallSquare", [9724]], ["FilledVerySmallSquare", [9642]], ["fjlig", [102, 106]], ["flat", [9837]], ["fllig", [64258]], ["fltns", [9649]], ["fnof", [402]], ["Fopf", [120125]], ["fopf", [120151]], ["forall", [8704]], ["ForAll", [8704]], ["fork", [8916]], ["forkv", [10969]], ["Fouriertrf", [8497]], ["fpartint", [10765]], ["frac12", [189]], ["frac13", [8531]], ["frac14", [188]], ["frac15", [8533]], ["frac16", [8537]], ["frac18", [8539]], ["frac23", [8532]], ["frac25", [8534]], ["frac34", [190]], ["frac35", [8535]], ["frac38", [8540]], ["frac45", [8536]], ["frac56", [8538]], ["frac58", [8541]], ["frac78", [8542]], ["frasl", [8260]], ["frown", [8994]], ["fscr", [119995]], ["Fscr", [8497]], ["gacute", [501]], ["Gamma", [915]], ["gamma", [947]], ["Gammad", [988]], ["gammad", [989]], ["gap", [10886]], ["Gbreve", [286]], ["gbreve", [287]], ["Gcedil", [290]], ["Gcirc", [284]], ["gcirc", [285]], ["Gcy", [1043]], ["gcy", [1075]], ["Gdot", [288]], ["gdot", [289]], ["ge", [8805]], ["gE", [8807]], ["gEl", [10892]], ["gel", [8923]], ["geq", [8805]], ["geqq", [8807]], ["geqslant", [10878]], ["gescc", [10921]], ["ges", [10878]], ["gesdot", [10880]], ["gesdoto", [10882]], ["gesdotol", [10884]], ["gesl", [8923, 65024]], ["gesles", [10900]], ["Gfr", [120074]], ["gfr", [120100]], ["gg", [8811]], ["Gg", [8921]], ["ggg", [8921]], ["gimel", [8503]], ["GJcy", [1027]], ["gjcy", [1107]], ["gla", [10917]], ["gl", [8823]], ["glE", [10898]], ["glj", [10916]], ["gnap", [10890]], ["gnapprox", [10890]], ["gne", [10888]], ["gnE", [8809]], ["gneq", [10888]], ["gneqq", [8809]], ["gnsim", [8935]], ["Gopf", [120126]], ["gopf", [120152]], ["grave", [96]], ["GreaterEqual", [8805]], ["GreaterEqualLess", [8923]], ["GreaterFullEqual", [8807]], ["GreaterGreater", [10914]], ["GreaterLess", [8823]], ["GreaterSlantEqual", [10878]], ["GreaterTilde", [8819]], ["Gscr", [119970]], ["gscr", [8458]], ["gsim", [8819]], ["gsime", [10894]], ["gsiml", [10896]], ["gtcc", [10919]], ["gtcir", [10874]], ["gt", [62]], ["GT", [62]], ["Gt", [8811]], ["gtdot", [8919]], ["gtlPar", [10645]], ["gtquest", [10876]], ["gtrapprox", [10886]], ["gtrarr", [10616]], ["gtrdot", [8919]], ["gtreqless", [8923]], ["gtreqqless", [10892]], ["gtrless", [8823]], ["gtrsim", [8819]], ["gvertneqq", [8809, 65024]], ["gvnE", [8809, 65024]], ["Hacek", [711]], ["hairsp", [8202]], ["half", [189]], ["hamilt", [8459]], ["HARDcy", [1066]], ["hardcy", [1098]], ["harrcir", [10568]], ["harr", [8596]], ["hArr", [8660]], ["harrw", [8621]], ["Hat", [94]], ["hbar", [8463]], ["Hcirc", [292]], ["hcirc", [293]], ["hearts", [9829]], ["heartsuit", [9829]], ["hellip", [8230]], ["hercon", [8889]], ["hfr", [120101]], ["Hfr", [8460]], ["HilbertSpace", [8459]], ["hksearow", [10533]], ["hkswarow", [10534]], ["hoarr", [8703]], ["homtht", [8763]], ["hookleftarrow", [8617]], ["hookrightarrow", [8618]], ["hopf", [120153]], ["Hopf", [8461]], ["horbar", [8213]], ["HorizontalLine", [9472]], ["hscr", [119997]], ["Hscr", [8459]], ["hslash", [8463]], ["Hstrok", [294]], ["hstrok", [295]], ["HumpDownHump", [8782]], ["HumpEqual", [8783]], ["hybull", [8259]], ["hyphen", [8208]], ["Iacute", [205]], ["iacute", [237]], ["ic", [8291]], ["Icirc", [206]], ["icirc", [238]], ["Icy", [1048]], ["icy", [1080]], ["Idot", [304]], ["IEcy", [1045]], ["iecy", [1077]], ["iexcl", [161]], ["iff", [8660]], ["ifr", [120102]], ["Ifr", [8465]], ["Igrave", [204]], ["igrave", [236]], ["ii", [8520]], ["iiiint", [10764]], ["iiint", [8749]], ["iinfin", [10716]], ["iiota", [8489]], ["IJlig", [306]], ["ijlig", [307]], ["Imacr", [298]], ["imacr", [299]], ["image", [8465]], ["ImaginaryI", [8520]], ["imagline", [8464]], ["imagpart", [8465]], ["imath", [305]], ["Im", [8465]], ["imof", [8887]], ["imped", [437]], ["Implies", [8658]], ["incare", [8453]], ["in", [8712]], ["infin", [8734]], ["infintie", [10717]], ["inodot", [305]], ["intcal", [8890]], ["int", [8747]], ["Int", [8748]], ["integers", [8484]], ["Integral", [8747]], ["intercal", [8890]], ["Intersection", [8898]], ["intlarhk", [10775]], ["intprod", [10812]], ["InvisibleComma", [8291]], ["InvisibleTimes", [8290]], ["IOcy", [1025]], ["iocy", [1105]], ["Iogon", [302]], ["iogon", [303]], ["Iopf", [120128]], ["iopf", [120154]], ["Iota", [921]], ["iota", [953]], ["iprod", [10812]], ["iquest", [191]], ["iscr", [119998]], ["Iscr", [8464]], ["isin", [8712]], ["isindot", [8949]], ["isinE", [8953]], ["isins", [8948]], ["isinsv", [8947]], ["isinv", [8712]], ["it", [8290]], ["Itilde", [296]], ["itilde", [297]], ["Iukcy", [1030]], ["iukcy", [1110]], ["Iuml", [207]], ["iuml", [239]], ["Jcirc", [308]], ["jcirc", [309]], ["Jcy", [1049]], ["jcy", [1081]], ["Jfr", [120077]], ["jfr", [120103]], ["jmath", [567]], ["Jopf", [120129]], ["jopf", [120155]], ["Jscr", [119973]], ["jscr", [119999]], ["Jsercy", [1032]], ["jsercy", [1112]], ["Jukcy", [1028]], ["jukcy", [1108]], ["Kappa", [922]], ["kappa", [954]], ["kappav", [1008]], ["Kcedil", [310]], ["kcedil", [311]], ["Kcy", [1050]], ["kcy", [1082]], ["Kfr", [120078]], ["kfr", [120104]], ["kgreen", [312]], ["KHcy", [1061]], ["khcy", [1093]], ["KJcy", [1036]], ["kjcy", [1116]], ["Kopf", [120130]], ["kopf", [120156]], ["Kscr", [119974]], ["kscr", [12e4]], ["lAarr", [8666]], ["Lacute", [313]], ["lacute", [314]], ["laemptyv", [10676]], ["lagran", [8466]], ["Lambda", [923]], ["lambda", [955]], ["lang", [10216]], ["Lang", [10218]], ["langd", [10641]], ["langle", [10216]], ["lap", [10885]], ["Laplacetrf", [8466]], ["laquo", [171]], ["larrb", [8676]], ["larrbfs", [10527]], ["larr", [8592]], ["Larr", [8606]], ["lArr", [8656]], ["larrfs", [10525]], ["larrhk", [8617]], ["larrlp", [8619]], ["larrpl", [10553]], ["larrsim", [10611]], ["larrtl", [8610]], ["latail", [10521]], ["lAtail", [10523]], ["lat", [10923]], ["late", [10925]], ["lates", [10925, 65024]], ["lbarr", [10508]], ["lBarr", [10510]], ["lbbrk", [10098]], ["lbrace", [123]], ["lbrack", [91]], ["lbrke", [10635]], ["lbrksld", [10639]], ["lbrkslu", [10637]], ["Lcaron", [317]], ["lcaron", [318]], ["Lcedil", [315]], ["lcedil", [316]], ["lceil", [8968]], ["lcub", [123]], ["Lcy", [1051]], ["lcy", [1083]], ["ldca", [10550]], ["ldquo", [8220]], ["ldquor", [8222]], ["ldrdhar", [10599]], ["ldrushar", [10571]], ["ldsh", [8626]], ["le", [8804]], ["lE", [8806]], ["LeftAngleBracket", [10216]], ["LeftArrowBar", [8676]], ["leftarrow", [8592]], ["LeftArrow", [8592]], ["Leftarrow", [8656]], ["LeftArrowRightArrow", [8646]], ["leftarrowtail", [8610]], ["LeftCeiling", [8968]], ["LeftDoubleBracket", [10214]], ["LeftDownTeeVector", [10593]], ["LeftDownVectorBar", [10585]], ["LeftDownVector", [8643]], ["LeftFloor", [8970]], ["leftharpoondown", [8637]], ["leftharpoonup", [8636]], ["leftleftarrows", [8647]], ["leftrightarrow", [8596]], ["LeftRightArrow", [8596]], ["Leftrightarrow", [8660]], ["leftrightarrows", [8646]], ["leftrightharpoons", [8651]], ["leftrightsquigarrow", [8621]], ["LeftRightVector", [10574]], ["LeftTeeArrow", [8612]], ["LeftTee", [8867]], ["LeftTeeVector", [10586]], ["leftthreetimes", [8907]], ["LeftTriangleBar", [10703]], ["LeftTriangle", [8882]], ["LeftTriangleEqual", [8884]], ["LeftUpDownVector", [10577]], ["LeftUpTeeVector", [10592]], ["LeftUpVectorBar", [10584]], ["LeftUpVector", [8639]], ["LeftVectorBar", [10578]], ["LeftVector", [8636]], ["lEg", [10891]], ["leg", [8922]], ["leq", [8804]], ["leqq", [8806]], ["leqslant", [10877]], ["lescc", [10920]], ["les", [10877]], ["lesdot", [10879]], ["lesdoto", [10881]], ["lesdotor", [10883]], ["lesg", [8922, 65024]], ["lesges", [10899]], ["lessapprox", [10885]], ["lessdot", [8918]], ["lesseqgtr", [8922]], ["lesseqqgtr", [10891]], ["LessEqualGreater", [8922]], ["LessFullEqual", [8806]], ["LessGreater", [8822]], ["lessgtr", [8822]], ["LessLess", [10913]], ["lesssim", [8818]], ["LessSlantEqual", [10877]], ["LessTilde", [8818]], ["lfisht", [10620]], ["lfloor", [8970]], ["Lfr", [120079]], ["lfr", [120105]], ["lg", [8822]], ["lgE", [10897]], ["lHar", [10594]], ["lhard", [8637]], ["lharu", [8636]], ["lharul", [10602]], ["lhblk", [9604]], ["LJcy", [1033]], ["ljcy", [1113]], ["llarr", [8647]], ["ll", [8810]], ["Ll", [8920]], ["llcorner", [8990]], ["Lleftarrow", [8666]], ["llhard", [10603]], ["lltri", [9722]], ["Lmidot", [319]], ["lmidot", [320]], ["lmoustache", [9136]], ["lmoust", [9136]], ["lnap", [10889]], ["lnapprox", [10889]], ["lne", [10887]], ["lnE", [8808]], ["lneq", [10887]], ["lneqq", [8808]], ["lnsim", [8934]], ["loang", [10220]], ["loarr", [8701]], ["lobrk", [10214]], ["longleftarrow", [10229]], ["LongLeftArrow", [10229]], ["Longleftarrow", [10232]], ["longleftrightarrow", [10231]], ["LongLeftRightArrow", [10231]], ["Longleftrightarrow", [10234]], ["longmapsto", [10236]], ["longrightarrow", [10230]], ["LongRightArrow", [10230]], ["Longrightarrow", [10233]], ["looparrowleft", [8619]], ["looparrowright", [8620]], ["lopar", [10629]], ["Lopf", [120131]], ["lopf", [120157]], ["loplus", [10797]], ["lotimes", [10804]], ["lowast", [8727]], ["lowbar", [95]], ["LowerLeftArrow", [8601]], ["LowerRightArrow", [8600]], ["loz", [9674]], ["lozenge", [9674]], ["lozf", [10731]], ["lpar", [40]], ["lparlt", [10643]], ["lrarr", [8646]], ["lrcorner", [8991]], ["lrhar", [8651]], ["lrhard", [10605]], ["lrm", [8206]], ["lrtri", [8895]], ["lsaquo", [8249]], ["lscr", [120001]], ["Lscr", [8466]], ["lsh", [8624]], ["Lsh", [8624]], ["lsim", [8818]], ["lsime", [10893]], ["lsimg", [10895]], ["lsqb", [91]], ["lsquo", [8216]], ["lsquor", [8218]], ["Lstrok", [321]], ["lstrok", [322]], ["ltcc", [10918]], ["ltcir", [10873]], ["lt", [60]], ["LT", [60]], ["Lt", [8810]], ["ltdot", [8918]], ["lthree", [8907]], ["ltimes", [8905]], ["ltlarr", [10614]], ["ltquest", [10875]], ["ltri", [9667]], ["ltrie", [8884]], ["ltrif", [9666]], ["ltrPar", [10646]], ["lurdshar", [10570]], ["luruhar", [10598]], ["lvertneqq", [8808, 65024]], ["lvnE", [8808, 65024]], ["macr", [175]], ["male", [9794]], ["malt", [10016]], ["maltese", [10016]], ["Map", [10501]], ["map", [8614]], ["mapsto", [8614]], ["mapstodown", [8615]], ["mapstoleft", [8612]], ["mapstoup", [8613]], ["marker", [9646]], ["mcomma", [10793]], ["Mcy", [1052]], ["mcy", [1084]], ["mdash", [8212]], ["mDDot", [8762]], ["measuredangle", [8737]], ["MediumSpace", [8287]], ["Mellintrf", [8499]], ["Mfr", [120080]], ["mfr", [120106]], ["mho", [8487]], ["micro", [181]], ["midast", [42]], ["midcir", [10992]], ["mid", [8739]], ["middot", [183]], ["minusb", [8863]], ["minus", [8722]], ["minusd", [8760]], ["minusdu", [10794]], ["MinusPlus", [8723]], ["mlcp", [10971]], ["mldr", [8230]], ["mnplus", [8723]], ["models", [8871]], ["Mopf", [120132]], ["mopf", [120158]], ["mp", [8723]], ["mscr", [120002]], ["Mscr", [8499]], ["mstpos", [8766]], ["Mu", [924]], ["mu", [956]], ["multimap", [8888]], ["mumap", [8888]], ["nabla", [8711]], ["Nacute", [323]], ["nacute", [324]], ["nang", [8736, 8402]], ["nap", [8777]], ["napE", [10864, 824]], ["napid", [8779, 824]], ["napos", [329]], ["napprox", [8777]], ["natural", [9838]], ["naturals", [8469]], ["natur", [9838]], ["nbsp", [160]], ["nbump", [8782, 824]], ["nbumpe", [8783, 824]], ["ncap", [10819]], ["Ncaron", [327]], ["ncaron", [328]], ["Ncedil", [325]], ["ncedil", [326]], ["ncong", [8775]], ["ncongdot", [10861, 824]], ["ncup", [10818]], ["Ncy", [1053]], ["ncy", [1085]], ["ndash", [8211]], ["nearhk", [10532]], ["nearr", [8599]], ["neArr", [8663]], ["nearrow", [8599]], ["ne", [8800]], ["nedot", [8784, 824]], ["NegativeMediumSpace", [8203]], ["NegativeThickSpace", [8203]], ["NegativeThinSpace", [8203]], ["NegativeVeryThinSpace", [8203]], ["nequiv", [8802]], ["nesear", [10536]], ["nesim", [8770, 824]], ["NestedGreaterGreater", [8811]], ["NestedLessLess", [8810]], ["nexist", [8708]], ["nexists", [8708]], ["Nfr", [120081]], ["nfr", [120107]], ["ngE", [8807, 824]], ["nge", [8817]], ["ngeq", [8817]], ["ngeqq", [8807, 824]], ["ngeqslant", [10878, 824]], ["nges", [10878, 824]], ["nGg", [8921, 824]], ["ngsim", [8821]], ["nGt", [8811, 8402]], ["ngt", [8815]], ["ngtr", [8815]], ["nGtv", [8811, 824]], ["nharr", [8622]], ["nhArr", [8654]], ["nhpar", [10994]], ["ni", [8715]], ["nis", [8956]], ["nisd", [8954]], ["niv", [8715]], ["NJcy", [1034]], ["njcy", [1114]], ["nlarr", [8602]], ["nlArr", [8653]], ["nldr", [8229]], ["nlE", [8806, 824]], ["nle", [8816]], ["nleftarrow", [8602]], ["nLeftarrow", [8653]], ["nleftrightarrow", [8622]], ["nLeftrightarrow", [8654]], ["nleq", [8816]], ["nleqq", [8806, 824]], ["nleqslant", [10877, 824]], ["nles", [10877, 824]], ["nless", [8814]], ["nLl", [8920, 824]], ["nlsim", [8820]], ["nLt", [8810, 8402]], ["nlt", [8814]], ["nltri", [8938]], ["nltrie", [8940]], ["nLtv", [8810, 824]], ["nmid", [8740]], ["NoBreak", [8288]], ["NonBreakingSpace", [160]], ["nopf", [120159]], ["Nopf", [8469]], ["Not", [10988]], ["not", [172]], ["NotCongruent", [8802]], ["NotCupCap", [8813]], ["NotDoubleVerticalBar", [8742]], ["NotElement", [8713]], ["NotEqual", [8800]], ["NotEqualTilde", [8770, 824]], ["NotExists", [8708]], ["NotGreater", [8815]], ["NotGreaterEqual", [8817]], ["NotGreaterFullEqual", [8807, 824]], ["NotGreaterGreater", [8811, 824]], ["NotGreaterLess", [8825]], ["NotGreaterSlantEqual", [10878, 824]], ["NotGreaterTilde", [8821]], ["NotHumpDownHump", [8782, 824]], ["NotHumpEqual", [8783, 824]], ["notin", [8713]], ["notindot", [8949, 824]], ["notinE", [8953, 824]], ["notinva", [8713]], ["notinvb", [8951]], ["notinvc", [8950]], ["NotLeftTriangleBar", [10703, 824]], ["NotLeftTriangle", [8938]], ["NotLeftTriangleEqual", [8940]], ["NotLess", [8814]], ["NotLessEqual", [8816]], ["NotLessGreater", [8824]], ["NotLessLess", [8810, 824]], ["NotLessSlantEqual", [10877, 824]], ["NotLessTilde", [8820]], ["NotNestedGreaterGreater", [10914, 824]], ["NotNestedLessLess", [10913, 824]], ["notni", [8716]], ["notniva", [8716]], ["notnivb", [8958]], ["notnivc", [8957]], ["NotPrecedes", [8832]], ["NotPrecedesEqual", [10927, 824]], ["NotPrecedesSlantEqual", [8928]], ["NotReverseElement", [8716]], ["NotRightTriangleBar", [10704, 824]], ["NotRightTriangle", [8939]], ["NotRightTriangleEqual", [8941]], ["NotSquareSubset", [8847, 824]], ["NotSquareSubsetEqual", [8930]], ["NotSquareSuperset", [8848, 824]], ["NotSquareSupersetEqual", [8931]], ["NotSubset", [8834, 8402]], ["NotSubsetEqual", [8840]], ["NotSucceeds", [8833]], ["NotSucceedsEqual", [10928, 824]], ["NotSucceedsSlantEqual", [8929]], ["NotSucceedsTilde", [8831, 824]], ["NotSuperset", [8835, 8402]], ["NotSupersetEqual", [8841]], ["NotTilde", [8769]], ["NotTildeEqual", [8772]], ["NotTildeFullEqual", [8775]], ["NotTildeTilde", [8777]], ["NotVerticalBar", [8740]], ["nparallel", [8742]], ["npar", [8742]], ["nparsl", [11005, 8421]], ["npart", [8706, 824]], ["npolint", [10772]], ["npr", [8832]], ["nprcue", [8928]], ["nprec", [8832]], ["npreceq", [10927, 824]], ["npre", [10927, 824]], ["nrarrc", [10547, 824]], ["nrarr", [8603]], ["nrArr", [8655]], ["nrarrw", [8605, 824]], ["nrightarrow", [8603]], ["nRightarrow", [8655]], ["nrtri", [8939]], ["nrtrie", [8941]], ["nsc", [8833]], ["nsccue", [8929]], ["nsce", [10928, 824]], ["Nscr", [119977]], ["nscr", [120003]], ["nshortmid", [8740]], ["nshortparallel", [8742]], ["nsim", [8769]], ["nsime", [8772]], ["nsimeq", [8772]], ["nsmid", [8740]], ["nspar", [8742]], ["nsqsube", [8930]], ["nsqsupe", [8931]], ["nsub", [8836]], ["nsubE", [10949, 824]], ["nsube", [8840]], ["nsubset", [8834, 8402]], ["nsubseteq", [8840]], ["nsubseteqq", [10949, 824]], ["nsucc", [8833]], ["nsucceq", [10928, 824]], ["nsup", [8837]], ["nsupE", [10950, 824]], ["nsupe", [8841]], ["nsupset", [8835, 8402]], ["nsupseteq", [8841]], ["nsupseteqq", [10950, 824]], ["ntgl", [8825]], ["Ntilde", [209]], ["ntilde", [241]], ["ntlg", [8824]], ["ntriangleleft", [8938]], ["ntrianglelefteq", [8940]], ["ntriangleright", [8939]], ["ntrianglerighteq", [8941]], ["Nu", [925]], ["nu", [957]], ["num", [35]], ["numero", [8470]], ["numsp", [8199]], ["nvap", [8781, 8402]], ["nvdash", [8876]], ["nvDash", [8877]], ["nVdash", [8878]], ["nVDash", [8879]], ["nvge", [8805, 8402]], ["nvgt", [62, 8402]], ["nvHarr", [10500]], ["nvinfin", [10718]], ["nvlArr", [10498]], ["nvle", [8804, 8402]], ["nvlt", [60, 8402]], ["nvltrie", [8884, 8402]], ["nvrArr", [10499]], ["nvrtrie", [8885, 8402]], ["nvsim", [8764, 8402]], ["nwarhk", [10531]], ["nwarr", [8598]], ["nwArr", [8662]], ["nwarrow", [8598]], ["nwnear", [10535]], ["Oacute", [211]], ["oacute", [243]], ["oast", [8859]], ["Ocirc", [212]], ["ocirc", [244]], ["ocir", [8858]], ["Ocy", [1054]], ["ocy", [1086]], ["odash", [8861]], ["Odblac", [336]], ["odblac", [337]], ["odiv", [10808]], ["odot", [8857]], ["odsold", [10684]], ["OElig", [338]], ["oelig", [339]], ["ofcir", [10687]], ["Ofr", [120082]], ["ofr", [120108]], ["ogon", [731]], ["Ograve", [210]], ["ograve", [242]], ["ogt", [10689]], ["ohbar", [10677]], ["ohm", [937]], ["oint", [8750]], ["olarr", [8634]], ["olcir", [10686]], ["olcross", [10683]], ["oline", [8254]], ["olt", [10688]], ["Omacr", [332]], ["omacr", [333]], ["Omega", [937]], ["omega", [969]], ["Omicron", [927]], ["omicron", [959]], ["omid", [10678]], ["ominus", [8854]], ["Oopf", [120134]], ["oopf", [120160]], ["opar", [10679]], ["OpenCurlyDoubleQuote", [8220]], ["OpenCurlyQuote", [8216]], ["operp", [10681]], ["oplus", [8853]], ["orarr", [8635]], ["Or", [10836]], ["or", [8744]], ["ord", [10845]], ["order", [8500]], ["orderof", [8500]], ["ordf", [170]], ["ordm", [186]], ["origof", [8886]], ["oror", [10838]], ["orslope", [10839]], ["orv", [10843]], ["oS", [9416]], ["Oscr", [119978]], ["oscr", [8500]], ["Oslash", [216]], ["oslash", [248]], ["osol", [8856]], ["Otilde", [213]], ["otilde", [245]], ["otimesas", [10806]], ["Otimes", [10807]], ["otimes", [8855]], ["Ouml", [214]], ["ouml", [246]], ["ovbar", [9021]], ["OverBar", [8254]], ["OverBrace", [9182]], ["OverBracket", [9140]], ["OverParenthesis", [9180]], ["para", [182]], ["parallel", [8741]], ["par", [8741]], ["parsim", [10995]], ["parsl", [11005]], ["part", [8706]], ["PartialD", [8706]], ["Pcy", [1055]], ["pcy", [1087]], ["percnt", [37]], ["period", [46]], ["permil", [8240]], ["perp", [8869]], ["pertenk", [8241]], ["Pfr", [120083]], ["pfr", [120109]], ["Phi", [934]], ["phi", [966]], ["phiv", [981]], ["phmmat", [8499]], ["phone", [9742]], ["Pi", [928]], ["pi", [960]], ["pitchfork", [8916]], ["piv", [982]], ["planck", [8463]], ["planckh", [8462]], ["plankv", [8463]], ["plusacir", [10787]], ["plusb", [8862]], ["pluscir", [10786]], ["plus", [43]], ["plusdo", [8724]], ["plusdu", [10789]], ["pluse", [10866]], ["PlusMinus", [177]], ["plusmn", [177]], ["plussim", [10790]], ["plustwo", [10791]], ["pm", [177]], ["Poincareplane", [8460]], ["pointint", [10773]], ["popf", [120161]], ["Popf", [8473]], ["pound", [163]], ["prap", [10935]], ["Pr", [10939]], ["pr", [8826]], ["prcue", [8828]], ["precapprox", [10935]], ["prec", [8826]], ["preccurlyeq", [8828]], ["Precedes", [8826]], ["PrecedesEqual", [10927]], ["PrecedesSlantEqual", [8828]], ["PrecedesTilde", [8830]], ["preceq", [10927]], ["precnapprox", [10937]], ["precneqq", [10933]], ["precnsim", [8936]], ["pre", [10927]], ["prE", [10931]], ["precsim", [8830]], ["prime", [8242]], ["Prime", [8243]], ["primes", [8473]], ["prnap", [10937]], ["prnE", [10933]], ["prnsim", [8936]], ["prod", [8719]], ["Product", [8719]], ["profalar", [9006]], ["profline", [8978]], ["profsurf", [8979]], ["prop", [8733]], ["Proportional", [8733]], ["Proportion", [8759]], ["propto", [8733]], ["prsim", [8830]], ["prurel", [8880]], ["Pscr", [119979]], ["pscr", [120005]], ["Psi", [936]], ["psi", [968]], ["puncsp", [8200]], ["Qfr", [120084]], ["qfr", [120110]], ["qint", [10764]], ["qopf", [120162]], ["Qopf", [8474]], ["qprime", [8279]], ["Qscr", [119980]], ["qscr", [120006]], ["quaternions", [8461]], ["quatint", [10774]], ["quest", [63]], ["questeq", [8799]], ["quot", [34]], ["QUOT", [34]], ["rAarr", [8667]], ["race", [8765, 817]], ["Racute", [340]], ["racute", [341]], ["radic", [8730]], ["raemptyv", [10675]], ["rang", [10217]], ["Rang", [10219]], ["rangd", [10642]], ["range", [10661]], ["rangle", [10217]], ["raquo", [187]], ["rarrap", [10613]], ["rarrb", [8677]], ["rarrbfs", [10528]], ["rarrc", [10547]], ["rarr", [8594]], ["Rarr", [8608]], ["rArr", [8658]], ["rarrfs", [10526]], ["rarrhk", [8618]], ["rarrlp", [8620]], ["rarrpl", [10565]], ["rarrsim", [10612]], ["Rarrtl", [10518]], ["rarrtl", [8611]], ["rarrw", [8605]], ["ratail", [10522]], ["rAtail", [10524]], ["ratio", [8758]], ["rationals", [8474]], ["rbarr", [10509]], ["rBarr", [10511]], ["RBarr", [10512]], ["rbbrk", [10099]], ["rbrace", [125]], ["rbrack", [93]], ["rbrke", [10636]], ["rbrksld", [10638]], ["rbrkslu", [10640]], ["Rcaron", [344]], ["rcaron", [345]], ["Rcedil", [342]], ["rcedil", [343]], ["rceil", [8969]], ["rcub", [125]], ["Rcy", [1056]], ["rcy", [1088]], ["rdca", [10551]], ["rdldhar", [10601]], ["rdquo", [8221]], ["rdquor", [8221]], ["CloseCurlyDoubleQuote", [8221]], ["rdsh", [8627]], ["real", [8476]], ["realine", [8475]], ["realpart", [8476]], ["reals", [8477]], ["Re", [8476]], ["rect", [9645]], ["reg", [174]], ["REG", [174]], ["ReverseElement", [8715]], ["ReverseEquilibrium", [8651]], ["ReverseUpEquilibrium", [10607]], ["rfisht", [10621]], ["rfloor", [8971]], ["rfr", [120111]], ["Rfr", [8476]], ["rHar", [10596]], ["rhard", [8641]], ["rharu", [8640]], ["rharul", [10604]], ["Rho", [929]], ["rho", [961]], ["rhov", [1009]], ["RightAngleBracket", [10217]], ["RightArrowBar", [8677]], ["rightarrow", [8594]], ["RightArrow", [8594]], ["Rightarrow", [8658]], ["RightArrowLeftArrow", [8644]], ["rightarrowtail", [8611]], ["RightCeiling", [8969]], ["RightDoubleBracket", [10215]], ["RightDownTeeVector", [10589]], ["RightDownVectorBar", [10581]], ["RightDownVector", [8642]], ["RightFloor", [8971]], ["rightharpoondown", [8641]], ["rightharpoonup", [8640]], ["rightleftarrows", [8644]], ["rightleftharpoons", [8652]], ["rightrightarrows", [8649]], ["rightsquigarrow", [8605]], ["RightTeeArrow", [8614]], ["RightTee", [8866]], ["RightTeeVector", [10587]], ["rightthreetimes", [8908]], ["RightTriangleBar", [10704]], ["RightTriangle", [8883]], ["RightTriangleEqual", [8885]], ["RightUpDownVector", [10575]], ["RightUpTeeVector", [10588]], ["RightUpVectorBar", [10580]], ["RightUpVector", [8638]], ["RightVectorBar", [10579]], ["RightVector", [8640]], ["ring", [730]], ["risingdotseq", [8787]], ["rlarr", [8644]], ["rlhar", [8652]], ["rlm", [8207]], ["rmoustache", [9137]], ["rmoust", [9137]], ["rnmid", [10990]], ["roang", [10221]], ["roarr", [8702]], ["robrk", [10215]], ["ropar", [10630]], ["ropf", [120163]], ["Ropf", [8477]], ["roplus", [10798]], ["rotimes", [10805]], ["RoundImplies", [10608]], ["rpar", [41]], ["rpargt", [10644]], ["rppolint", [10770]], ["rrarr", [8649]], ["Rrightarrow", [8667]], ["rsaquo", [8250]], ["rscr", [120007]], ["Rscr", [8475]], ["rsh", [8625]], ["Rsh", [8625]], ["rsqb", [93]], ["rsquo", [8217]], ["rsquor", [8217]], ["CloseCurlyQuote", [8217]], ["rthree", [8908]], ["rtimes", [8906]], ["rtri", [9657]], ["rtrie", [8885]], ["rtrif", [9656]], ["rtriltri", [10702]], ["RuleDelayed", [10740]], ["ruluhar", [10600]], ["rx", [8478]], ["Sacute", [346]], ["sacute", [347]], ["sbquo", [8218]], ["scap", [10936]], ["Scaron", [352]], ["scaron", [353]], ["Sc", [10940]], ["sc", [8827]], ["sccue", [8829]], ["sce", [10928]], ["scE", [10932]], ["Scedil", [350]], ["scedil", [351]], ["Scirc", [348]], ["scirc", [349]], ["scnap", [10938]], ["scnE", [10934]], ["scnsim", [8937]], ["scpolint", [10771]], ["scsim", [8831]], ["Scy", [1057]], ["scy", [1089]], ["sdotb", [8865]], ["sdot", [8901]], ["sdote", [10854]], ["searhk", [10533]], ["searr", [8600]], ["seArr", [8664]], ["searrow", [8600]], ["sect", [167]], ["semi", [59]], ["seswar", [10537]], ["setminus", [8726]], ["setmn", [8726]], ["sext", [10038]], ["Sfr", [120086]], ["sfr", [120112]], ["sfrown", [8994]], ["sharp", [9839]], ["SHCHcy", [1065]], ["shchcy", [1097]], ["SHcy", [1064]], ["shcy", [1096]], ["ShortDownArrow", [8595]], ["ShortLeftArrow", [8592]], ["shortmid", [8739]], ["shortparallel", [8741]], ["ShortRightArrow", [8594]], ["ShortUpArrow", [8593]], ["shy", [173]], ["Sigma", [931]], ["sigma", [963]], ["sigmaf", [962]], ["sigmav", [962]], ["sim", [8764]], ["simdot", [10858]], ["sime", [8771]], ["simeq", [8771]], ["simg", [10910]], ["simgE", [10912]], ["siml", [10909]], ["simlE", [10911]], ["simne", [8774]], ["simplus", [10788]], ["simrarr", [10610]], ["slarr", [8592]], ["SmallCircle", [8728]], ["smallsetminus", [8726]], ["smashp", [10803]], ["smeparsl", [10724]], ["smid", [8739]], ["smile", [8995]], ["smt", [10922]], ["smte", [10924]], ["smtes", [10924, 65024]], ["SOFTcy", [1068]], ["softcy", [1100]], ["solbar", [9023]], ["solb", [10692]], ["sol", [47]], ["Sopf", [120138]], ["sopf", [120164]], ["spades", [9824]], ["spadesuit", [9824]], ["spar", [8741]], ["sqcap", [8851]], ["sqcaps", [8851, 65024]], ["sqcup", [8852]], ["sqcups", [8852, 65024]], ["Sqrt", [8730]], ["sqsub", [8847]], ["sqsube", [8849]], ["sqsubset", [8847]], ["sqsubseteq", [8849]], ["sqsup", [8848]], ["sqsupe", [8850]], ["sqsupset", [8848]], ["sqsupseteq", [8850]], ["square", [9633]], ["Square", [9633]], ["SquareIntersection", [8851]], ["SquareSubset", [8847]], ["SquareSubsetEqual", [8849]], ["SquareSuperset", [8848]], ["SquareSupersetEqual", [8850]], ["SquareUnion", [8852]], ["squarf", [9642]], ["squ", [9633]], ["squf", [9642]], ["srarr", [8594]], ["Sscr", [119982]], ["sscr", [120008]], ["ssetmn", [8726]], ["ssmile", [8995]], ["sstarf", [8902]], ["Star", [8902]], ["star", [9734]], ["starf", [9733]], ["straightepsilon", [1013]], ["straightphi", [981]], ["strns", [175]], ["sub", [8834]], ["Sub", [8912]], ["subdot", [10941]], ["subE", [10949]], ["sube", [8838]], ["subedot", [10947]], ["submult", [10945]], ["subnE", [10955]], ["subne", [8842]], ["subplus", [10943]], ["subrarr", [10617]], ["subset", [8834]], ["Subset", [8912]], ["subseteq", [8838]], ["subseteqq", [10949]], ["SubsetEqual", [8838]], ["subsetneq", [8842]], ["subsetneqq", [10955]], ["subsim", [10951]], ["subsub", [10965]], ["subsup", [10963]], ["succapprox", [10936]], ["succ", [8827]], ["succcurlyeq", [8829]], ["Succeeds", [8827]], ["SucceedsEqual", [10928]], ["SucceedsSlantEqual", [8829]], ["SucceedsTilde", [8831]], ["succeq", [10928]], ["succnapprox", [10938]], ["succneqq", [10934]], ["succnsim", [8937]], ["succsim", [8831]], ["SuchThat", [8715]], ["sum", [8721]], ["Sum", [8721]], ["sung", [9834]], ["sup1", [185]], ["sup2", [178]], ["sup3", [179]], ["sup", [8835]], ["Sup", [8913]], ["supdot", [10942]], ["supdsub", [10968]], ["supE", [10950]], ["supe", [8839]], ["supedot", [10948]], ["Superset", [8835]], ["SupersetEqual", [8839]], ["suphsol", [10185]], ["suphsub", [10967]], ["suplarr", [10619]], ["supmult", [10946]], ["supnE", [10956]], ["supne", [8843]], ["supplus", [10944]], ["supset", [8835]], ["Supset", [8913]], ["supseteq", [8839]], ["supseteqq", [10950]], ["supsetneq", [8843]], ["supsetneqq", [10956]], ["supsim", [10952]], ["supsub", [10964]], ["supsup", [10966]], ["swarhk", [10534]], ["swarr", [8601]], ["swArr", [8665]], ["swarrow", [8601]], ["swnwar", [10538]], ["szlig", [223]], ["Tab", [9]], ["target", [8982]], ["Tau", [932]], ["tau", [964]], ["tbrk", [9140]], ["Tcaron", [356]], ["tcaron", [357]], ["Tcedil", [354]], ["tcedil", [355]], ["Tcy", [1058]], ["tcy", [1090]], ["tdot", [8411]], ["telrec", [8981]], ["Tfr", [120087]], ["tfr", [120113]], ["there4", [8756]], ["therefore", [8756]], ["Therefore", [8756]], ["Theta", [920]], ["theta", [952]], ["thetasym", [977]], ["thetav", [977]], ["thickapprox", [8776]], ["thicksim", [8764]], ["ThickSpace", [8287, 8202]], ["ThinSpace", [8201]], ["thinsp", [8201]], ["thkap", [8776]], ["thksim", [8764]], ["THORN", [222]], ["thorn", [254]], ["tilde", [732]], ["Tilde", [8764]], ["TildeEqual", [8771]], ["TildeFullEqual", [8773]], ["TildeTilde", [8776]], ["timesbar", [10801]], ["timesb", [8864]], ["times", [215]], ["timesd", [10800]], ["tint", [8749]], ["toea", [10536]], ["topbot", [9014]], ["topcir", [10993]], ["top", [8868]], ["Topf", [120139]], ["topf", [120165]], ["topfork", [10970]], ["tosa", [10537]], ["tprime", [8244]], ["trade", [8482]], ["TRADE", [8482]], ["triangle", [9653]], ["triangledown", [9663]], ["triangleleft", [9667]], ["trianglelefteq", [8884]], ["triangleq", [8796]], ["triangleright", [9657]], ["trianglerighteq", [8885]], ["tridot", [9708]], ["trie", [8796]], ["triminus", [10810]], ["TripleDot", [8411]], ["triplus", [10809]], ["trisb", [10701]], ["tritime", [10811]], ["trpezium", [9186]], ["Tscr", [119983]], ["tscr", [120009]], ["TScy", [1062]], ["tscy", [1094]], ["TSHcy", [1035]], ["tshcy", [1115]], ["Tstrok", [358]], ["tstrok", [359]], ["twixt", [8812]], ["twoheadleftarrow", [8606]], ["twoheadrightarrow", [8608]], ["Uacute", [218]], ["uacute", [250]], ["uarr", [8593]], ["Uarr", [8607]], ["uArr", [8657]], ["Uarrocir", [10569]], ["Ubrcy", [1038]], ["ubrcy", [1118]], ["Ubreve", [364]], ["ubreve", [365]], ["Ucirc", [219]], ["ucirc", [251]], ["Ucy", [1059]], ["ucy", [1091]], ["udarr", [8645]], ["Udblac", [368]], ["udblac", [369]], ["udhar", [10606]], ["ufisht", [10622]], ["Ufr", [120088]], ["ufr", [120114]], ["Ugrave", [217]], ["ugrave", [249]], ["uHar", [10595]], ["uharl", [8639]], ["uharr", [8638]], ["uhblk", [9600]], ["ulcorn", [8988]], ["ulcorner", [8988]], ["ulcrop", [8975]], ["ultri", [9720]], ["Umacr", [362]], ["umacr", [363]], ["uml", [168]], ["UnderBar", [95]], ["UnderBrace", [9183]], ["UnderBracket", [9141]], ["UnderParenthesis", [9181]], ["Union", [8899]], ["UnionPlus", [8846]], ["Uogon", [370]], ["uogon", [371]], ["Uopf", [120140]], ["uopf", [120166]], ["UpArrowBar", [10514]], ["uparrow", [8593]], ["UpArrow", [8593]], ["Uparrow", [8657]], ["UpArrowDownArrow", [8645]], ["updownarrow", [8597]], ["UpDownArrow", [8597]], ["Updownarrow", [8661]], ["UpEquilibrium", [10606]], ["upharpoonleft", [8639]], ["upharpoonright", [8638]], ["uplus", [8846]], ["UpperLeftArrow", [8598]], ["UpperRightArrow", [8599]], ["upsi", [965]], ["Upsi", [978]], ["upsih", [978]], ["Upsilon", [933]], ["upsilon", [965]], ["UpTeeArrow", [8613]], ["UpTee", [8869]], ["upuparrows", [8648]], ["urcorn", [8989]], ["urcorner", [8989]], ["urcrop", [8974]], ["Uring", [366]], ["uring", [367]], ["urtri", [9721]], ["Uscr", [119984]], ["uscr", [120010]], ["utdot", [8944]], ["Utilde", [360]], ["utilde", [361]], ["utri", [9653]], ["utrif", [9652]], ["uuarr", [8648]], ["Uuml", [220]], ["uuml", [252]], ["uwangle", [10663]], ["vangrt", [10652]], ["varepsilon", [1013]], ["varkappa", [1008]], ["varnothing", [8709]], ["varphi", [981]], ["varpi", [982]], ["varpropto", [8733]], ["varr", [8597]], ["vArr", [8661]], ["varrho", [1009]], ["varsigma", [962]], ["varsubsetneq", [8842, 65024]], ["varsubsetneqq", [10955, 65024]], ["varsupsetneq", [8843, 65024]], ["varsupsetneqq", [10956, 65024]], ["vartheta", [977]], ["vartriangleleft", [8882]], ["vartriangleright", [8883]], ["vBar", [10984]], ["Vbar", [10987]], ["vBarv", [10985]], ["Vcy", [1042]], ["vcy", [1074]], ["vdash", [8866]], ["vDash", [8872]], ["Vdash", [8873]], ["VDash", [8875]], ["Vdashl", [10982]], ["veebar", [8891]], ["vee", [8744]], ["Vee", [8897]], ["veeeq", [8794]], ["vellip", [8942]], ["verbar", [124]], ["Verbar", [8214]], ["vert", [124]], ["Vert", [8214]], ["VerticalBar", [8739]], ["VerticalLine", [124]], ["VerticalSeparator", [10072]], ["VerticalTilde", [8768]], ["VeryThinSpace", [8202]], ["Vfr", [120089]], ["vfr", [120115]], ["vltri", [8882]], ["vnsub", [8834, 8402]], ["vnsup", [8835, 8402]], ["Vopf", [120141]], ["vopf", [120167]], ["vprop", [8733]], ["vrtri", [8883]], ["Vscr", [119985]], ["vscr", [120011]], ["vsubnE", [10955, 65024]], ["vsubne", [8842, 65024]], ["vsupnE", [10956, 65024]], ["vsupne", [8843, 65024]], ["Vvdash", [8874]], ["vzigzag", [10650]], ["Wcirc", [372]], ["wcirc", [373]], ["wedbar", [10847]], ["wedge", [8743]], ["Wedge", [8896]], ["wedgeq", [8793]], ["weierp", [8472]], ["Wfr", [120090]], ["wfr", [120116]], ["Wopf", [120142]], ["wopf", [120168]], ["wp", [8472]], ["wr", [8768]], ["wreath", [8768]], ["Wscr", [119986]], ["wscr", [120012]], ["xcap", [8898]], ["xcirc", [9711]], ["xcup", [8899]], ["xdtri", [9661]], ["Xfr", [120091]], ["xfr", [120117]], ["xharr", [10231]], ["xhArr", [10234]], ["Xi", [926]], ["xi", [958]], ["xlarr", [10229]], ["xlArr", [10232]], ["xmap", [10236]], ["xnis", [8955]], ["xodot", [10752]], ["Xopf", [120143]], ["xopf", [120169]], ["xoplus", [10753]], ["xotime", [10754]], ["xrarr", [10230]], ["xrArr", [10233]], ["Xscr", [119987]], ["xscr", [120013]], ["xsqcup", [10758]], ["xuplus", [10756]], ["xutri", [9651]], ["xvee", [8897]], ["xwedge", [8896]], ["Yacute", [221]], ["yacute", [253]], ["YAcy", [1071]], ["yacy", [1103]], ["Ycirc", [374]], ["ycirc", [375]], ["Ycy", [1067]], ["ycy", [1099]], ["yen", [165]], ["Yfr", [120092]], ["yfr", [120118]], ["YIcy", [1031]], ["yicy", [1111]], ["Yopf", [120144]], ["yopf", [120170]], ["Yscr", [119988]], ["yscr", [120014]], ["YUcy", [1070]], ["yucy", [1102]], ["yuml", [255]], ["Yuml", [376]], ["Zacute", [377]], ["zacute", [378]], ["Zcaron", [381]], ["zcaron", [382]], ["Zcy", [1047]], ["zcy", [1079]], ["Zdot", [379]], ["zdot", [380]], ["zeetrf", [8488]], ["ZeroWidthSpace", [8203]], ["Zeta", [918]], ["zeta", [950]], ["zfr", [120119]], ["Zfr", [8488]], ["ZHcy", [1046]], ["zhcy", [1078]], ["zigrarr", [8669]], ["zopf", [120171]], ["Zopf", [8484]], ["Zscr", [119989]], ["zscr", [120015]], ["zwj", [8205]], ["zwnj", [8204]]], r = {}, o = {}; function n() { } !function (e, t) { var r = i.length, o = []; for (; r--;) { var n, a = i[r], s = a[0], c = a[1], l = c[0], u = l < 32 || l > 126 || 62 === l || 60 === l || 38 === l || 34 === l || 39 === l; if (u && (n = t[l] = t[l] || {}), c[1]) { var d = c[1]; e[s] = String.fromCharCode(l) + String.fromCharCode(d), o.push(u && (n[d] = s)) } else e[s] = String.fromCharCode(l), o.push(u && (n[""] = s)) } }(r, o), n.prototype.decode = function (e) { return e && e.length ? e.replace(/&(#?[\w\d]+);?/g, (function (e, t) { var i; if ("#" === t.charAt(0)) { var o = "x" === t.charAt(1) ? parseInt(t.substr(2).toLowerCase(), 16) : parseInt(t.substr(1)); isNaN(o) || o < -32768 || o > 65535 || (i = String.fromCharCode(o)) } else i = r[t]; return i || e })) : "" }, n.decode = function (e) { return (new n).decode(e) }, n.prototype.encode = function (e) { if (!e || !e.length) return ""; for (var t = e.length, i = "", r = 0; r < t;) { var n = o[e.charCodeAt(r)]; if (n) { var a = n[e.charCodeAt(r + 1)]; if (a ? r++ : a = n[""], a) { i += "&" + a + ";", r++; continue } } i += e.charAt(r), r++ } return i }, n.encode = function (e) { return (new n).encode(e) }, n.prototype.encodeNonUTF = function (e) { if (!e || !e.length) return ""; for (var t = e.length, i = "", r = 0; r < t;) { var n = e.charCodeAt(r), a = o[n]; if (a) { var s = a[e.charCodeAt(r + 1)]; if (s ? r++ : s = a[""], s) { i += "&" + s + ";", r++; continue } } i += n < 32 || n > 126 ? "&#" + n + ";" : e.charAt(r), r++ } return i }, n.encodeNonUTF = function (e) { return (new n).encodeNonUTF(e) }, n.prototype.encodeNonASCII = function (e) { if (!e || !e.length) return ""; for (var t = e.length, i = "", r = 0; r < t;) { var o = e.charCodeAt(r); o <= 255 ? i += e[r++] : (i += "&#" + o + ";", r++) } return i }, n.encodeNonASCII = function (e) { return (new n).encodeNonASCII(e) }, e.exports = n }, function (e, t, i) { "use strict"; i.r(t); var r = i(0), o = i(2), n = new webix.DataCollection({ url: _api + "params.options?name=employees" }), a = (i(1), i(3), i(9), i(7), i(10), i(8)), s = i(4), c = i(5); function l(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function u(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } var d = function (e) { function t() { return l(this, t), u(this, e.apply(this, arguments)) } return function (e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) }(t, e), t.prototype.config = function () { var e = this, t = this.getParam("_id", !0); return webix.ajax(_api + "note.get?_id=" + t).then((function (t) { var i = t.json(), r = void 0, l = void 0, u = void 0; i.actors.findIndex((function (e) { "sent" === e.path && "reviser" === e.role && (r = e) })); var d = n.data.pull; if (r && (l = d[r.user + "&unit=" + r.unit]), i.to) for (var p in u = "", i.to) u += '<div><img class="photo" src="' + _api + "user.image?size=20&_id=" + i.to[p].id + '"/><font size="2">' + i.to[p].user + "</font></div></p>"; if (i.copy) { for (var h in i.copy) '<div><img class="photo" src="' + _api + "user.image?size=20&_id=" + i.copy[h].id + '"/><font size="2">' + i.copy[h].user + "</font></div></p>" } e.app.getService("user").getUser(); e.uid = "." + webix.uid(); var m = [Object(s.a)(_("note"), i.status)], f = []; i.sequence && i.sequence.text && m.push({ view: "template", autoheight: !0, borderless: !0, template: function (e) { return "<div style='font-weight: bold'>#" + i.sequence.text + "</div>" } }), m.push({ view: "template", borderless: !0, template: '<div style=" font-weight: bold;">' + i.name + "</div>", name: "name", autoheight: !0 }), m.push({ height: 30 }), m.push({ view: "fieldset", label: _("content"), body: { view: "template", id: "description" + e.uid, template: i.content, name: "content" } }), r && l && f.push({ rows: [{ view: "label", label: _("sendBy") + ": ", height: 20 }, { view: "template", autoheight: !0, id: "sendBy" + e.uid, maxHeight: 75, template: l.value }] }), i.from && f.push({ rows: [{ view: "label", label: _("from") + ": ", height: 20 }, { view: "template", autoheight: !0, id: "fromTem" + e.uid, maxHeight: 75, template: '<img class="photo" src="' + _api + "user.image?size=20&_id=" + i.from.id + '"/><font size="2">' + i.from.user + "</font>" }] }), u && f.push({ rows: [{ view: "label", label: _("to") + ": ", height: 20 }, { view: "template", autoheight: !0, maxHeight: 75, id: "toTem" + e.uid, scroll: !0, template: u }] }), "draft" !== i.status && (f.push({ view: "label", label: _("deadline"), labelWidth: 100 }), f.push({ view: "label", template: i.deadline })), f.push({ id: "tag", view: "tag", name: o.a.tags, multiple: !0, label: _("tags"), gravity: 2 }), i.reference && "draft" !== i.status || (f.push({ view: "label", label: _("termDays") }), f.push({ view: "label", template: i.termDays })), f.push({ view: "label", label: _("privacy") }), f.push({ view: "label", template: "1" === i.confidential ? _("confidential") : "normal" }), f.push({}); var g = { margin: 0, padding: 0, view: "form", relative: !0, id: "formContent" + e.uid, complexData: !0, autoheight: !0, on: {}, data: i, elementsConfig: { labelPosition: "top", readonly: !0, margin: 3, invalidMessage: _("invalid") }, elements: m }, v = { margin: 0, padding: 3, view: "form", id: "formDetails" + e.uid, complexData: !0, autoheight: !0, on: {}, data: i, elementsConfig: { labelPosition: "top", readonly: !0, margin: 3, invalidMessage: _("invalid") }, elements: f }; return { rows: [Object(c.a)(i.status), { view: "abslayout", cells: [Object(a.a)(v, e), g] }, { view: "toolbar", relative: !0, cols: [{ view: "button", icon: "mdi mdi-comment-text-multiple", type: "iconTop", css: "toolbarButton", width: 40, height: 40, click: webix.bind(e.showComments, e) }] }] } })) }, t.prototype.showComments = function () { var e = this.getParam("_id", !0), t = this.app.getService("user").getUser(), i = $$("formContent" + this.uid).getValues(), r = i.actors.findIndex((function (e) { if (e && e.user === t.user) return "referrer" !== e.path && ["reviser", "supervisor", "from", "to", "copy", "inCharge"].includes(e.role) })), o = void 0; i.actors.findIndex((function (e) { "from" === e.role && (o = e.unit) })); var n = -1 !== r || t.assistantUnits.includes(o); this.app.multiShow("comments?_id=" + e + "&collection=note&documentType=note" + (n ? "&addReviser=1" : ""), "comments" + e) }, t }(r.c); t.default = d }, function (e, t, i) { }, function (e, t, i) { var r = { "./chat": 11, "./chat.js": 11, "./chat/chat": 13, "./chat/chat.js": 13, "./chat/chats": 14, "./chat/chats.js": 14, "./chat/projectsList": 15, "./chat/projectsList.js": 15, "./chat/userList": 16, "./chat/userList.js": 16, "./chat/userListTeam": 17, "./chat/userListTeam.js": 17, "./comments": 18, "./comments.js": 18, "./home/alarms": 19, "./home/alarms.js": 19, "./home/comments": 20, "./home/comments.js": 20, "./home/header": 21, "./home/header.js": 21, "./home/home": 22, "./home/home.js": 22, "./home/menu": 6, "./home/menu.js": 6, "./home/multiview": 23, "./home/multiview.js": 23, "./home/notifications": 24, "./home/notifications.js": 24, "./home/sidebar": 25, "./home/sidebar.js": 25, "./login": 26, "./login.js": 26, "./note/attached": 27, "./note/attached.js": 27, "./note/attacheds": 28, "./note/attacheds.js": 28, "./note/commitment": 29, "./note/commitment.js": 29, "./note/evidence": 30, "./note/evidence.js": 30, "./note/note": 39, "./note/note.js": 39, "./note/notes": 31, "./note/notes.js": 31, "./note/slopeUnit": 32, "./note/slopeUnit.js": 32, "./note/slopes": 33, "./note/slopes.js": 33, "./project/projects": 34, "./project/projects.js": 34, "./user": 35, "./user.js": 35 }; function o(e) { var t = n(e); return i(t) } function n(e) { if (!i.o(r, e)) { var t = new Error("Cannot find module '" + e + "'"); throw t.code = "MODULE_NOT_FOUND", t } return r[e] } o.keys = function () { return Object.keys(r) }, o.resolve = n, e.exports = o, o.id = 41 }, function (e, t) { webix.ui.datafilter.avgColumn = webix.extend({ refresh: function (e, t, i) { var r = 0; e.mapCells(null, i.columnId, null, 1, (function (e) { return e *= 1, isNaN(e) || (r += e), e })), t.firstChild.innerHTML = Math.round(r / e.count()) } }, webix.ui.datafilter.summColumn), webix.ui.datafilter.countColumn = webix.extend({ refresh: function (e, t, i) { t.firstChild.innerHTML = '<span style="color:#00abcc;">' + e.count() + "</span>" } }, webix.ui.datafilter.summColumn), webix.ui.datafilter.ftsearch = webix.extend({ refresh: function (e, t, i) { t.component = e.config.id, webix.extend($$(t.component), webix.ProgressBar), $$(t.component).attachEvent("onAfterFilter", (function () { $$(t.component).hideProgress() })), e.registerFilter(t, i, this), i.value && this.getValue(t) !== i.value && this.setValue(t, i.value), t.onclick = webix.html.preventEvent, webix.event(t, "keydown", this.on_key_down) }, on_key_down: function (e, t, i) { var r = this.component; 13 === (e.which || e.keyCode) && (this.filter_timer && window.clearTimeout(this.filter_timer), this.filter_timer = webix.$$(r).filterByAll()) } }, webix.ui.datafilter.serverFilter), webix.ui.datafilter.serverDateFilter = webix.extend({ getValue: function () { var e = ""; return this._input && (e = this._input.getValue()), e || "" }, refresh: function (e, t, i) { t.component = e.config.id, webix.extend($$(t.component), webix.ProgressBar), $$(t.component).attachEvent("onAfterFilter", (function () { $$(t.component).hideProgress() })), e.registerFilter(t, i, this), i.value && this.getValue(t) !== i.value && this.setValue(t, i.value), this._input || (this._input = webix.ui({ view: "datepicker", container: "datepicker" + this.uid, format: "%Y/%m/%d", stringResult: !0, on: { onChange: webix.bind(this.filtrar, this) } })) }, render: function (e, t) { return this.uid = webix.uid(), this.value = "", '<div id="datepicker' + this.uid + '"></div>' } }, webix.ui.datafilter.serverFilter) }, function (e, t) { webix.protoUI({ name: "password", $init: function (e) { var t = this; this._id = webix.uid(); var i = e; i.id = this._id, i.view = "text", i.type = "password", i.relative = !0, e.cells = [i, { view: "button", type: "icon", icon: "mdi mdi-eye", id: "bt" + this._id, right: 0, bottom: 12, width: 30, height: 20, click: function (e) { var i = $$(t._id), r = i.getValue(); i.config.type = "password" === i.config.type ? "text" : "password", i.refresh(), i.setValue(r); var o = $$("bt" + t._id); o.config.icon = "mdi mdi-eye" === o.config.icon ? "mdi mdi-eye-off" : "mdi mdi-eye", o.refresh() } }] }, getValue: function () { var e = ""; return $$(this._id) && (e = $$(this._id).getValue()), e }, setValue: function (e) { $$(this._id) && $$(this._id).setValue(e) } }, webix.ui.abslayout) }, function (e, t, i) { var r = { "./en": 36, "./en.js": 36, "./es": 37, "./es.js": 37 }; function o(e) { var t = n(e); return i(t) } function n(e) { if (!i.o(r, e)) { var t = new Error("Cannot find module '" + e + "'"); throw t.code = "MODULE_NOT_FOUND", t } return r[e] } o.keys = function () { return Object.keys(r) }, o.resolve = n, e.exports = o, o.id = 44 }, function (e, t, i) { e.exports = { XmlEntities: i(46), Html4Entities: i(47), Html5Entities: i(38), AllHtmlEntities: i(38) } }, function (e, t) { var i = { "&lt": "<", "&gt": ">", "&quot": '"', "&apos": "'", "&amp": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"', "&apos;": "'", "&amp;": "&" }, r = { 60: "lt", 62: "gt", 34: "quot", 39: "apos", 38: "amp" }, o = { "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&apos;", "&": "&amp;" }; function n() { } n.prototype.encode = function (e) { return e && e.length ? e.replace(/<|>|"|'|&/g, (function (e) { return o[e] })) : "" }, n.encode = function (e) { return (new n).encode(e) }, n.prototype.decode = function (e) { return e && e.length ? e.replace(/&#?[0-9a-zA-Z]+;?/g, (function (e) { if ("#" === e.charAt(1)) { var t = "x" === e.charAt(2).toLowerCase() ? parseInt(e.substr(3), 16) : parseInt(e.substr(2)); return isNaN(t) || t < -32768 || t > 65535 ? "" : String.fromCharCode(t) } return i[e] || e })) : "" }, n.decode = function (e) { return (new n).decode(e) }, n.prototype.encodeNonUTF = function (e) { if (!e || !e.length) return ""; for (var t = e.length, i = "", o = 0; o < t;) { var n = e.charCodeAt(o), a = r[n]; a ? (i += "&" + a + ";", o++) : (i += n < 32 || n > 126 ? "&#" + n + ";" : e.charAt(o), o++) } return i }, n.encodeNonUTF = function (e) { return (new n).encodeNonUTF(e) }, n.prototype.encodeNonASCII = function (e) { if (!e || !e.length) return ""; for (var t = e.length, i = "", r = 0; r < t;) { var o = e.charCodeAt(r); o <= 255 ? i += e[r++] : (i += "&#" + o + ";", r++) } return i }, n.encodeNonASCII = function (e) { return (new n).encodeNonASCII(e) }, e.exports = n }, function (e, t) { for (var i = ["apos", "nbsp", "iexcl", "cent", "pound", "curren", "yen", "brvbar", "sect", "uml", "copy", "ordf", "laquo", "not", "shy", "reg", "macr", "deg", "plusmn", "sup2", "sup3", "acute", "micro", "para", "middot", "cedil", "sup1", "ordm", "raquo", "frac14", "frac12", "frac34", "iquest", "Agrave", "Aacute", "Acirc", "Atilde", "Auml", "Aring", "Aelig", "Ccedil", "Egrave", "Eacute", "Ecirc", "Euml", "Igrave", "Iacute", "Icirc", "Iuml", "ETH", "Ntilde", "Ograve", "Oacute", "Ocirc", "Otilde", "Ouml", "times", "Oslash", "Ugrave", "Uacute", "Ucirc", "Uuml", "Yacute", "THORN", "szlig", "agrave", "aacute", "acirc", "atilde", "auml", "aring", "aelig", "ccedil", "egrave", "eacute", "ecirc", "euml", "igrave", "iacute", "icirc", "iuml", "eth", "ntilde", "ograve", "oacute", "ocirc", "otilde", "ouml", "divide", "oslash", "ugrave", "uacute", "ucirc", "uuml", "yacute", "thorn", "yuml", "quot", "amp", "lt", "gt", "OElig", "oelig", "Scaron", "scaron", "Yuml", "circ", "tilde", "ensp", "emsp", "thinsp", "zwnj", "zwj", "lrm", "rlm", "ndash", "mdash", "lsquo", "rsquo", "sbquo", "ldquo", "rdquo", "bdquo", "dagger", "Dagger", "permil", "lsaquo", "rsaquo", "euro", "fnof", "Alpha", "Beta", "Gamma", "Delta", "Epsilon", "Zeta", "Eta", "Theta", "Iota", "Kappa", "Lambda", "Mu", "Nu", "Xi", "Omicron", "Pi", "Rho", "Sigma", "Tau", "Upsilon", "Phi", "Chi", "Psi", "Omega", "alpha", "beta", "gamma", "delta", "epsilon", "zeta", "eta", "theta", "iota", "kappa", "lambda", "mu", "nu", "xi", "omicron", "pi", "rho", "sigmaf", "sigma", "tau", "upsilon", "phi", "chi", "psi", "omega", "thetasym", "upsih", "piv", "bull", "hellip", "prime", "Prime", "oline", "frasl", "weierp", "image", "real", "trade", "alefsym", "larr", "uarr", "rarr", "darr", "harr", "crarr", "lArr", "uArr", "rArr", "dArr", "hArr", "forall", "part", "exist", "empty", "nabla", "isin", "notin", "ni", "prod", "sum", "minus", "lowast", "radic", "prop", "infin", "ang", "and", "or", "cap", "cup", "int", "there4", "sim", "cong", "asymp", "ne", "equiv", "le", "ge", "sub", "sup", "nsub", "sube", "supe", "oplus", "otimes", "perp", "sdot", "lceil", "rceil", "lfloor", "rfloor", "lang", "rang", "loz", "spades", "clubs", "hearts", "diams"], r = [39, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 34, 38, 60, 62, 338, 339, 352, 353, 376, 710, 732, 8194, 8195, 8201, 8204, 8205, 8206, 8207, 8211, 8212, 8216, 8217, 8218, 8220, 8221, 8222, 8224, 8225, 8240, 8249, 8250, 8364, 402, 913, 914, 915, 916, 917, 918, 919, 920, 921, 922, 923, 924, 925, 926, 927, 928, 929, 931, 932, 933, 934, 935, 936, 937, 945, 946, 947, 948, 949, 950, 951, 952, 953, 954, 955, 956, 957, 958, 959, 960, 961, 962, 963, 964, 965, 966, 967, 968, 969, 977, 978, 982, 8226, 8230, 8242, 8243, 8254, 8260, 8472, 8465, 8476, 8482, 8501, 8592, 8593, 8594, 8595, 8596, 8629, 8656, 8657, 8658, 8659, 8660, 8704, 8706, 8707, 8709, 8711, 8712, 8713, 8715, 8719, 8721, 8722, 8727, 8730, 8733, 8734, 8736, 8743, 8744, 8745, 8746, 8747, 8756, 8764, 8773, 8776, 8800, 8801, 8804, 8805, 8834, 8835, 8836, 8838, 8839, 8853, 8855, 8869, 8901, 8968, 8969, 8970, 8971, 9001, 9002, 9674, 9824, 9827, 9829, 9830], o = {}, n = {}, a = 0, s = i.length; a < s;) { var c = i[a], l = r[a]; o[c] = String.fromCharCode(l), n[l] = c, a++ } function u() { } u.prototype.decode = function (e) { return e && e.length ? e.replace(/&(#?[\w\d]+);?/g, (function (e, t) { var i; if ("#" === t.charAt(0)) { var r = "x" === t.charAt(1).toLowerCase() ? parseInt(t.substr(2), 16) : parseInt(t.substr(1)); isNaN(r) || r < -32768 || r > 65535 || (i = String.fromCharCode(r)) } else i = o[t]; return i || e })) : "" }, u.decode = function (e) { return (new u).decode(e) }, u.prototype.encode = function (e) { if (!e || !e.length) return ""; for (var t = e.length, i = "", r = 0; r < t;) { var o = n[e.charCodeAt(r)]; i += o ? "&" + o + ";" : e.charAt(r), r++ } return i }, u.encode = function (e) { return (new u).encode(e) }, u.prototype.encodeNonUTF = function (e) { if (!e || !e.length) return ""; for (var t = e.length, i = "", r = 0; r < t;) { var o = e.charCodeAt(r), a = n[o]; i += a ? "&" + a + ";" : o < 32 || o > 126 ? "&#" + o + ";" : e.charAt(r), r++ } return i }, u.encodeNonUTF = function (e) { return (new u).encodeNonUTF(e) }, u.prototype.encodeNonASCII = function (e) { if (!e || !e.length) return ""; for (var t = e.length, i = "", r = 0; r < t;) { var o = e.charCodeAt(r); o <= 255 ? i += e[r++] : (i += "&#" + o + ";", r++) } return i }, u.encodeNonASCII = function (e) { return (new u).encodeNonASCII(e) }, e.exports = u }, function (e, t, i) { "use strict"; i.r(t); i(40); var r = i(0); var o = { status: function () { return webix.ajax().post(_api + "user.status", {}).then((function (e) { return e.json() })) }, login: function (e, t) { var i; return 2 !== arguments.length || arguments[1] ? 2 === arguments.length && (i = webix.ajax().post(_api + "user.connect", { user: e, pass: t }).then((function (e) { return e.json() }))) : i = webix.ajax().headers({ authorization: "CRT " + e }).post(_api + "user.connect", {}).then((function (e) { return e.json() })), i }, logout: function () { return webix.ajax().post(_api + "user.disconnect", {}).then((function (e) { return e.json() })) } }, n = i(45).AllHtmlEntities; Push.Permission.request((function () { }), (function () { })); new n; webix.ready((function () { var e = new r.b({ id: "gpax", name: "gpax", version: "7.1.6e", debug: !1, start: "/home.home", router: r.a }); webix.ui.fullScreen(), e.uid = webix.uid(), webix.storage.cookie.put("sso", webix.storage.local.get("sso") || !1), document.title = "gpax".toUpperCase() + " 7.1.6e", document.addEventListener("click", (function (t) { if (t.preventDefault(), !t.toElement.offsetParent || t.toElement.offsetParent && !t.toElement.offsetParent.id.includes("fredit")) if ("A" === t.toElement.tagName) if (t.toElement.href.includes("file.get?_id=")) e.getFile(t); else if (t.toElement.href.includes("?_id=")) { var i = void 0; for (var r in t.toElement.attributes) "href" === t.toElement.attributes[r].name && (i = t.toElement.attributes[r].value); var o = i, n = o.indexOf("="), a = o.substring(n + 1); e.multiShow(i, a) } else window.open(t.toElement.href, "_self"); else "IMG" === t.toElement.tagName && t.toElement.src.includes("file.get?_id=") && e.getFile(t) })), e.getFile = function (e, t) { var i; t && (e = { toElement: t }), i = 2 === (i = e.toElement.href ? e.toElement.href.split("&type=") : e.toElement.src.split("&type=")).length ? i[1].toLowerCase() : ""; var r = e.toElement.href || e.toElement.src, o = r.indexOf("="), n = r.indexOf("&"), a = r.substring(o + 1, n), s = ""; switch (device.platform) { case "Android": s = "file:///storage/emulated/0/"; break; case "iOS": s = cordova.file.documentsDirectory }if (s += "Download/", e.toElement && "IMG" === e.toElement.tagName) window.resolveLocalFileSystemURL(s + a + ".png", (function (e) { cordova.plugins.fileOpener2.open(s + a + ".png") }), (function () { u(e.toElement.src, "IMG", a) })); else if (e.toElement && "A" === e.toElement.tagName) { var c = e.toElement.text.split(".")[e.toElement.text.split(".").length - 1], l = void 0; c ? (i = c, l = e.toElement.text.replace("." + c, a)) : l = e.toElement.text, window.resolveLocalFileSystemURL(s + l + "." + i, (function (e) { cordova.plugins.fileOpener2.open(s + l + "." + i) }), (function () { u(e.toElement.href, "A", a, l + "." + i) })) } function u(e, t, i, r) { var o = $$("progressWindowGlobal"); $$("templateWindowGlobal").setHTML('<label for="file">' + _("progress") + ': </label><progress max="100" value="0" id="ft-progGlobal"></progress>'), o.show(); var n = webix.ajax().getXHR(); e += "&froala=1", n.open("GET", e, !0), n.responseType = "blob"; var a = null; n.onprogress = function (e) { var t = void 0, i = e.loaded; !function (e) { return 1e6 } ? function (e) { return postion < 1e6 } && (t = (parseFloat(i) / 1e3).toFixed(2) + " KB") : t = (parseFloat(i) / 1e6).toFixed(2) + " MB", $$("templateWindowGlobal").setHTML(i + " | " + t) }, n.onload = function (e) { var n = e.target.getResponseHeader("file-name"); n && n.includes("/") && (n = (n = n.split("/"))[n.length - 1]), n = "A" === t ? r : i + ".png", a = e.target.response; var c = s, l = a; $$("templateWindowGlobal").setHTML('<label for="file">' + _("progress") + ': </label><progress max="100" value="0" id="ft-progGlobal"></progress>'), o.hide(), window.resolveLocalFileSystemURL(c, (function (e) { e.getFile(n, { create: !0 }, (function (e) { e.createWriter((function (e) { e.onwrite = function (e) { console.log("write success"), window.galleryRefresh.refresh(c, (function (e) { cordova.plugins.fileOpener2.open(c + n) }), (function (e) { console.log(e) })) }, e.write(l) }), (function (e) { console.log(e) })) })) })) }, n.send() } }, e.image = function (e, t) { var i = {}; function r(e) { "No Image Selected" !== e && alert("Failed because: " + e) } navigator.notification.confirm("", (function (o) { 1 === o ? i = { quality: 50, destinationType: Camera.DestinationType.FILE_URI, sourceType: Camera.PictureSourceType.CAMERA, encodingType: Camera.EncodingType.JPEG, mediaType: Camera.MediaType.PICTURE, correctOrientation: !0 } : 2 === o && (i = { quality: 50, destinationType: Camera.DestinationType.FILE_URI, sourceType: Camera.PictureSourceType.PHOTOLIBRARY, encodingType: Camera.EncodingType.JPEG, mediaType: Camera.MediaType.PICTURE, correctOrientation: !0 }), o && navigator.camera.getPicture((function (i) { !function (e, t, i) { var r = new FileTransfer, o = e, n = $$("progressWindowGlobal"); n.show(); var a = document.getElementById("ft-progGlobal"), s = (new Date).toISOString() + ".JPEG"; r.onprogress = function (e) { if (e.lengthComputable) { var t = e.loaded / e.total * 100; a.value = t } }, r.upload(o, encodeURI(_api + "chat.file"), webix.bind((function (e) { var r = JSON.parse(e.response); if (a.value = 0, n.hide(), r.id) if (t) { var o = t.getValue(); o = o + '<p style="text-align: left;"><img src="/api/file.get?_id=' + r.id + '&type=png" style="max-width: 100%; max-height: 100%;" class="fr-fic fr-dib fr-fil"></p>', t.setValue(o) } else i && i('<p style="text-align: left;"><img src="/api/file.get?_id=' + r.id + '&type=png" style="max-width: 100%; max-height: 100%;" class="fr-fic fr-dib fr-fil"></p>') }), this), (function (e) { navigator.notification.alert("Error uploading file " + o + ": " + e.code) }), { fileName: s }) }(i, e, t) }), r, i) }), _("Insert") + "...", ["Hacer foto", "Desde galería"]) }, e.file = function (e, t, i, r) { var o = $$("progressWindowGlobal"); o.show(); var n = document.getElementById("ft-progGlobal"), a = new FormData; a.append("uploadfile", e.file, (new Date).toISOString() + "." + e.name); var s = new XMLHttpRequest; s.open("post", _api + "chat.file", !0), s.upload.onprogress = function (e) { if (e.lengthComputable) { var t = e.loaded / e.total * 100; n.value = t } }, s.onerror = function (e) { alert("An error occurred while submitting the form. Maybe your file is too big") }, s.onload = function () { var t = JSON.parse(s.responseText); if (n.value = 0, o.hide(), t.id) if (i) { var a = i.getValue(); a = a + '<p style="text-align: left;"><a class="fr-file" href="/api/file.get?_id=' + t.id + '&type=txt" class="fr-fic fr-dib fr-fil">' + e.name + "</a></p>", i.setValue(a) } else r && r('<p style="text-align: left;"><a class="fr-file" href="/api/file.get?_id=' + t.id + '&type=txt" class="fr-fic fr-dib fr-fil">' + e.name + "</a></p>") }, s.send(a) }, e.setLanguage = function (t) { var i = t.split("-")[0]; e.use(r.d.Locale, { lang: i }), _ = e.getService("locale")._, webix.i18n.setLocale(t), webix.storage.local.get("lang") !== t && (webix.ajax(_api + "user.setLang?lang=" + t), webix.storage.local.put("lang", t)) }, e.canClose = function (t) { var i = $$("multiviewGlobal"); if (1 !== i.getChildViews().length) { if (t || (t = i.getValue()), $$(t)) return $$(t).$scope._derty ? (webix.confirm(_("confirm"), (function (i) { i && e.previousTab(t) })), !1) : (e.previousTab(t), !0); e.previousTab(t) } else cordova.plugins.backgroundMode.moveToBackground(); return !1 }, e.previousTab = function (t) { var i = e.tabPrecedence.indexOf(t); e.tabPrecedence.length > 1 && (e.tabPrecedence.splice(i, 1), $$("multiviewGlobal").removeView(t), e.tabPrecedence.length && (t = e.tabPrecedence[e.tabPrecedence.length - 1], $$(t).isVisible() || $$(t).show())) }, e.selectView = function (t) { var i = e.tabPrecedence.indexOf(t); -1 !== i && e.tabPrecedence.splice(i, 1), e.tabPrecedence.push(t) }, e.setLanguage(webix.storage.local.get("lang") || "es-ES"), e.settings = webix.storage.local.get("settings") || {}, e.use(r.d.User, { model: o, ping: 6e4 }), e.render(), e.tabPrecedence = ["slopes"], e.multiShow = function (t, i) { var r = $$("multiviewGlobal"); r ? (e.selectView(i), $$(i) && -1 !== r.index($$(i)) ? r.setValue(i) : (r.addView({ id: i, rows: [{ $subview: t }] }), r.setValue(i), webix.UIManager.setFocus($$(i)))) : e.show(t) }, e.invokeBp = function (t, i) { webix.ajax().post(_api + "engine.invoke", t).then((function (t) { var r = t.json(); r.gui ? e.tabShow("user.service?bpi=" + r.bpi, r.bpi, r.name) : r.file && e.tabShow(r.url, r.id, _("result")), i && i() })) }, webix.attachEvent("onAjaxError", (function (t) { 401 === t.status ? e.online && (e.online = !1, webix.message(_("sessionExpired"), "error"), e.getService("user").logout()) : webix.message("Hay problemas de comunicación, por favor reintente... (" + t.status + ")", "error") })), webix.cdn = window.location.origin + "/codebase", webix.env.cdn = window.location.origin + "/codebase", e.attachEvent("app:render", (function () { var t = e.getService("user").getUser(); t && !e.socket && e.conn(t) })), e.attachEvent("app:error", (function (t) { e.debug ? webix.message(t) : console.log(t) })), e.attachEvent("app:user:login", (function (t) { var i = $$("wlogin"); i && i.close(), e.online = !0, webix.message(_("welcome"), "info"), e.socket || e.conn(t), webix.ajax().get(_api + "settings.get?_id=settings").then((function (t) { e.settings = t.json(), webix.storage.local.put("settings", e.settings) })) })), e.attachEvent("app:user:logout", (function () { e.socket.close(), delete e.socket, e.show("/login"), webix.message(_("bye"), "info") })), e.conn = function (t, i) { i ? e.socket.emit("init", { user: t.user, room: t.room, reconnect: i }) : (e.socket = io(_host, { path: "/socket.io", transports: ["websocket"] }), e.socket.emit("init", { user: t.user, room: t.room }), e.socket.on("reconnect", (function () { var t = e.getService("user").getUser(); t && e.conn(t, !0), console.log("Reconnecting") })), e.socket.once("exit", (function (i) { t.user === i._id && (e.connected = !1) })), e.socket.on("email", (function (t) { t.run = "email", e.createNotification(_("email"), t.message, t) })), e.socket.on("start", (function (t) { t.run = "start", e.connected = !0, e.createNotification(_("project"), t.message, t) })), e.socket.on("notification", (function (t) { t.run = "notification"; var i; $$("badgeNotification").config.badge = $$("badgeNotification").config.badge + 1, $$("badgeNotification").refresh(); var r = ""; switch (t.noti.type) { case 1: r = "created"; break; case 2: r = "modified"; break; case 3: r = "started"; break; case 4: r = "changed"; break; case 5: r = "received"; break; case 6: r = "seen" }i = _(r) + " " + _(t.noti.collection) + " " + t.doc.name, e.createNotification(_("notification"), i, t) })), e.socket.on("comment", (function (t) { t.run = "comment", e.createNotification(_("comment"), t.message, t), $$("badgeComment").config.badge = $$("badgeComment").config.badge + 1, $$("badgeComment").refresh(), $$("dt-popupComments") && $$("dt-popupComments").load($$("dt-popupComments").config.url) })), e.socket.on("reminder", (function (e) { e.comment && $$("badgeComment") && ($$("badgeComment").config.badge = $$("badgeComment").config.badge + e.comment, $$("badgeComment").refresh()) })), e.socket.on("notifications", (function (e) { $$("badgeNotification") && ($$("badgeNotification").config.badge = e, $$("badgeNotification").refresh()) })), e.socket.on("alamrs", (function (e) { $$("badgeAlarm") && ($$("badgeAlarm").config.badge = e, $$("badgeAlarm").refresh()) })), e.socket.on("chats", (function (e) { $$("chats") && ($$("chats").config.badge = e, $$("chats").refresh()) })), e.socket.on("alarm", (function (t) { t.run = "alarm", e.createNotification(_("alarm"), t.message, t), $$("badgeAlarm").config.badge = $$("badgeAlarm").config.badge + t.count, $$("badgeAlarm").refresh(), $$("dt-overdue") && $$("dt-overdue").load($$("dt-overdue").config.url), $$("dt-today") && $$("dt-today").load($$("dt-today").config.url), $$("dt-next") && $$("dt-next").load($$("dt-next").config.url) })), e.socket.on("chat", (function (t) { t.run = "chat", t._id.toString() !== $$("multiviewGlobal").getValue() && (e.createNotification(_("message"), t.fromName + " te ha enviado un mensaje", t), $$("chats").config.badge = $$("chats").config.badge + 1, $$("chats").refresh()) }))) }, e.createNotification = function (e, t, i) { cordova.plugins.notification.local.schedule([{ id: 1, group: "gpax", groupSummary: !0, smallIcon: "res://icon.png" }, { id: webix.uid(), group: "gpax", smallIcon: "res://icon.png", title: e, text: t, vibrate: !0, data: i }], (function () { navigator.vibrate(1500) })) }, e.Email = function (e) { return !1 }, e.Start = function (e) { return !1 }, e.Notification = function (t) { if ("project" === t.noti.collection) return !1; e.multiShow(t.noti.path + "?_id=" + t.noti.document.id.toString(), t.noti.document.id.toString(), _(t.noti.collection)) }, e.comment = function (t) { var i = t.comment; "document" === i.collection && "redactor" === i.documentType && (i.documentType = "document"), i.issued ? e.multiShow(i.collection + "." + i.documentType + "?_id=" + i.document + "&issued=1", i.document, i.collection) : e.multiShow(i.collection + "." + i.documentType + "?_id=" + i.document, i.document, i.collection), webix.ajax().post(_api + "comment.removeUnread", { _id: i._id }, (function (e, t, i) { 200 === i.status ? $$("dt-popupComments") && $$("dt-popupComments").load($$("dt-popupComments").config.url) : webix.message("Error " + i.status + ", please retry...", "error") })) }, e.alarm = function (t) { e.multiShow("alarms", "alarms", _("alarms")), $$("badgeAlarm").config.badge = 0, $$("badgeAlarm").refresh() }, e.chat = function (t) { e.multiShow("chat.chats", "chatsView"), $$("chats").config.badge = 0, $$("chats").refresh() } })) }]);